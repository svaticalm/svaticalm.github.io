(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["actions"],{"047c":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"opinions--empty":0===t.opinions.length}},[n("div",{staticClass:"opinions-list"},t._l(t.opinions,(function(e){return n("div",{staticClass:"opinion",class:{"opinion--processed":""!==e.answer.text}},[n("div",{staticClass:"opinion__author",class:{"--dislike":"negative"===e.type}},[t._m(0,!0),n("div",{staticClass:"wrap"},[n("div",{staticClass:"wrap__top"},[n("div",{staticClass:"name"},[t._v(t._s(e.user.name))]),n("div",{staticClass:"date"},[t._v("("+t._s(t.getCityName(e.city))+")   "+t._s(e.date))])]),n("div",{staticClass:"wrap__text"},[n("p",{domProps:{innerHTML:t._s(e.text)}})])])]),""!==e.answer.text?n("div",{staticClass:"opinion__feedback"},[t._m(1,!0),n("div",{staticClass:"wrap"},[n("div",{staticClass:"wrap__top"},[n("div",{staticClass:"name",domProps:{innerHTML:t._s(e.provider.name)}}),n("div",{staticClass:"date"},[t._v("Через "+t._s(e.answer.date))])]),n("div",{staticClass:"wrap__text"},[n("p",{domProps:{innerHTML:t._s(e.answer.text)}})])])]):t._e()])})),0),t.isLoad||0===t.opinions.length?n("div",{staticClass:"sect-blank",staticStyle:{"min-height":"328px"}},[n("div",{staticClass:"wrap text-center"},[t.isLoad?n("loader"):n("div",{staticClass:"text-size-l text-bolder text-color-grey mt16"},[t._v("На эту акцию пока нет отзывов. "),n("br"),t._v(" Но это временно...")])],1)]):t._e()])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rate"},[n("span",{staticClass:"i i-like"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rate"},[n("span",{staticClass:"i i-pointer3"})])}],r=(n("8e6e"),n("ac6a"),n("456d"),n("7f7f"),n("bd86")),s=n("2f62"),a=n("555f");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={name:"OpinionList",components:{Loader:a["a"]},props:{actionId:{default:function(){return 0}}},computed:c({},Object(s["b"])({popups:function(t){return t.popups.items},opinions:function(t){return t.opinions.items},isLoad:function(t){return t.opinions.isLoad}})),mounted:function(){this.$store.commit("opinions/setData",{items:[]}),this.$store.commit("opinions/isLoadNextPage",!0),this.$store.dispatch("opinions/getList",{actionId:this.actionId})},methods:{getCityName:function(t){var e=this.$store.getters["cities/getByXmlId"](t);return e.name}}},p=u,f=n("2877"),d=Object(f["a"])(p,o,i,!1,null,null,null);e["a"]=d.exports},1933:function(t,e,n){"use strict";var o=n("5b05"),i=n.n(o);i.a},"1b20":function(t,e,n){t.exports=n.p+"img/baloon-stat.30b51470.png"},"1bff":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"aside-sticky-block"},[t._t("default")],2)])},i=[],r=(n("2f62"),{name:"AsideSticky",components:{},props:{marginTop:{default:function(){return 24}},marginBottom:{default:function(){return 24}}},data:function(){return{aside:null,newBlock:null,fixedMargin:null,z:null}},mounted:function(){var t=this;setTimeout((function(){t.aside=document.querySelector("#aside-sticky"),window.addEventListener("scroll",t.ascroll,!1),document.body.addEventListener("scroll",t.ascroll,!1)}),10)},beforeDestroy:function(){window.removeEventListener("scroll",this.ascroll,!1),document.body.removeEventListener("scroll",this.ascroll,!1)},watch:{$route:function(t,e){this.newBlock&&(this.newBlock.className="stop",this.newBlock.style.top="0px")}},methods:{ascroll:function(){if(document.querySelector("#aside-sticky")){var t=this.aside.getBoundingClientRect(),e=document.querySelector(".container-scroll").getBoundingClientRect().bottom;if(t.bottom<e){if(null==this.newBlock){for(var n=getComputedStyle(this.aside,""),o="",i=0;i<n.length;i++)0!=n[i].indexOf("overflow")&&0!=n[i].indexOf("padding")&&0!=n[i].indexOf("border")&&0!=n[i].indexOf("outline")&&0!=n[i].indexOf("box-shadow")&&0!=n[i].indexOf("background")||(o+=n[i]+": "+n.getPropertyValue(n[i])+"; ");this.newBlock=document.createElement("div"),this.newBlock.className="stop",this.newBlock.style.cssText=o+" box-sizing: border-box; width: "+this.aside.offsetWidth+"px;",this.aside.insertBefore(this.newBlock,this.aside.firstChild);var r=this.aside.childNodes.length;for(i=1;i<r;i++)this.newBlock.appendChild(this.aside.childNodes[1])}var s=this.newBlock.getBoundingClientRect(),a=t.top+s.height,l=document.documentElement.clientHeight,c=Math.round(a-e),u=Math.round(a-l);s.height>l?(t.top<this.fixedMargin?u+this.marginBottom>c?Math.floor(s.bottom-l+this.marginBottom)<=0?(this.newBlock.className="sticky",this.newBlock.style.top=l-s.height-this.marginBottom+"px",this.z=this.marginBottom+t.top+s.height-l):(this.newBlock.className="stop",this.newBlock.style.top=-this.z+"px"):(this.newBlock.className="stop",this.newBlock.style.top=-c+"px",this.z=c):t.top-this.marginTop<0?s.top-this.marginTop>=0?(this.newBlock.className="sticky",this.newBlock.style.top=this.marginTop+"px",this.z=t.top-this.marginTop):(this.newBlock.className="stop",this.newBlock.style.top=-this.z+"px"):(this.newBlock.className="",this.newBlock.style.top="",this.z=0),this.fixedMargin=t.top):t.top-this.marginTop<=0?t.top-this.marginTop<=c?(this.newBlock.className="stop",this.newBlock.style.top=-c+"px"):(this.newBlock.className="sticky",this.newBlock.style.top=this.marginTop+"px"):(this.newBlock.className="",this.newBlock.style.top="");var p=this;window.addEventListener("resize",(function(){p.aside.children[0].style.width=getComputedStyle(p.aside,"").width}),!1)}}}}}),s=r,a=n("2877"),l=Object(a["a"])(s,o,i,!1,null,"31915326",null);e["a"]=l.exports},"1fb5":function(t,e,n){"use strict";e.byteLength=u,e.toByteArray=f,e.fromByteArray=v;for(var o=[],i=[],r="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)o[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var o=n===e?0:4-n%4;return[n,o]}function u(t){var e=c(t),n=e[0],o=e[1];return 3*(n+o)/4-o}function p(t,e,n){return 3*(e+n)/4-n}function f(t){var e,n,o=c(t),s=o[0],a=o[1],l=new r(p(t,s,a)),u=0,f=a>0?s-4:s;for(n=0;n<f;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,l[u++]=255&e),1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l}function d(t){return o[t>>18&63]+o[t>>12&63]+o[t>>6&63]+o[63&t]}function h(t,e,n){for(var o,i=[],r=e;r<n;r+=3)o=(t[r]<<16&16711680)+(t[r+1]<<8&65280)+(255&t[r+2]),i.push(d(o));return i.join("")}function v(t){for(var e,n=t.length,i=n%3,r=[],s=16383,a=0,l=n-i;a<l;a+=s)r.push(h(t,a,a+s>l?l:a+s));return 1===i?(e=t[n-1],r.push(o[e>>2]+o[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],r.push(o[e>>10]+o[e>>4&63]+o[e<<2&63]+"=")),r.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},2335:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},"33e2":function(t,e,n){"use strict";n("f559"),n("ac6a"),n("456d");var o=n("768b"),i=(n("6762"),n("2fdb"),n("75fc")),r=n("4736"),s=n.n(r),a=n("62c1");function l(t,e,n){return void 0===n?t:(t=t||{},t[e]=n,t)}function c(t,e){return t.map((function(t){return t.elm})).indexOf(e)}function u(t,e,n,o){if(!t)return[];var r=t.map((function(t){return t.elm})),s=e.length-o,a=Object(i["a"])(e).map((function(t,e){return e>=s?r.length:r.indexOf(t)}));return n?a.filter((function(t){return-1!==t})):a}function p(t,e){var n=this;this.$nextTick((function(){return n.$emit(t.toLowerCase(),e)}))}function f(t){var e=this;return function(n){null!==e.realList&&e["onDrag"+t](n),p.call(e,t,n)}}function d(t){return["transition-group","TransitionGroup"].includes(t)}function h(t){if(!t||1!==t.length)return!1;var e=Object(o["a"])(t,1),n=e[0].componentOptions;return!!n&&d(n.tag)}function v(t,e,n){return t[n]||(e[n]?e[n]():void 0)}function m(t,e,n){var o=0,r=0,s=v(e,n,"header");s&&(o=s.length,t=t?[].concat(Object(i["a"])(s),Object(i["a"])(t)):Object(i["a"])(s));var a=v(e,n,"footer");return a&&(r=a.length,t=t?[].concat(Object(i["a"])(t),Object(i["a"])(a)):Object(i["a"])(a)),{children:t,headerOffset:o,footerOffset:r}}function b(t,e){var n=null,o=function(t,e){n=l(n,t,e)},i=Object.keys(t).filter((function(t){return"id"===t||t.startsWith("data-")})).reduce((function(e,n){return e[n]=t[n],e}),{});if(o("attrs",i),!e)return n;var r=e.on,s=e.props,a=e.attrs;return o("on",r),o("props",s),Object.assign(n.attrs,a),n}var y=["Start","Add","Remove","Update","End"],g=["Choose","Unchoose","Sort","Filter","Clone"],_=["Move"].concat(y,g).map((function(t){return"on"+t})),C=null,w={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(t){return t}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},k={name:"draggable",inheritAttrs:!1,props:w,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(t){var e=this.$slots.default;this.transitionMode=h(e);var n=m(e,this.$slots,this.$scopedSlots),o=n.children,i=n.headerOffset,r=n.footerOffset;this.headerOffset=i,this.footerOffset=r;var s=b(this.$attrs,this.componentData);return t(this.getTag(),s,o)},created:function(){null!==this.list&&null!==this.value&&a["b"].error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&a["b"].warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&a["b"].warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var t=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var e={};y.forEach((function(n){e["on"+n]=f.call(t,n)})),g.forEach((function(n){e["on"+n]=p.bind(t,n)}));var n=Object.keys(this.$attrs).reduce((function(e,n){return e[Object(a["a"])(n)]=t.$attrs[n],e}),{}),o=Object.assign({},this.options,n,e,{onMove:function(e,n){return t.onDragMove(e,n)}});!("draggable"in o)&&(o.draggable=">*"),this._sortable=new s.a(this.rootContainer,o),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(t){this.updateOptions(t)},deep:!0},$attrs:{handler:function(t){this.updateOptions(t)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var t=this._vnode.fnOptions;return t&&t.functional},getTag:function(){return this.tag||this.element},updateOptions:function(t){for(var e in t){var n=Object(a["a"])(e);-1===_.indexOf(n)&&this._sortable.option(n,t[e])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var t=this.$slots.default;return this.transitionMode?t[0].child.$slots.default:t},computeIndexes:function(){var t=this;this.$nextTick((function(){t.visibleIndexes=u(t.getChildrenNodes(),t.rootContainer.children,t.transitionMode,t.footerOffset)}))},getUnderlyingVm:function(t){var e=c(this.getChildrenNodes()||[],t);if(-1===e)return null;var n=this.realList[e];return{index:e,element:n}},getUnderlyingPotencialDraggableComponent:function(t){var e=t.__vue__;return e&&e.$options&&d(e.$options._componentTag)?e.$parent:!("realList"in e)&&1===e.$children.length&&"realList"in e.$children[0]?e.$children[0]:e},emitChanges:function(t){var e=this;this.$nextTick((function(){e.$emit("change",t)}))},alterList:function(t){if(this.list)t(this.list);else{var e=Object(i["a"])(this.value);t(e),this.$emit("input",e)}},spliceList:function(){var t=arguments,e=function(e){return e.splice.apply(e,Object(i["a"])(t))};this.alterList(e)},updatePosition:function(t,e){var n=function(n){return n.splice(e,0,n.splice(t,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(t){var e=t.to,n=t.related,o=this.getUnderlyingPotencialDraggableComponent(e);if(!o)return{component:o};var i=o.realList,r={list:i,component:o};if(e!==n&&i&&o.getUnderlyingVm){var s=o.getUnderlyingVm(n);if(s)return Object.assign(s,r)}return r},getVmIndex:function(t){var e=this.visibleIndexes,n=e.length;return t>n-1?n:e[t]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(t){if(this.noTransitionOnDrag&&this.transitionMode){var e=this.getChildrenNodes();e[t].data=null;var n=this.getComponent();n.children=[],n.kept=void 0}},onDragStart:function(t){this.context=this.getUnderlyingVm(t.item),t.item._underlying_vm_=this.clone(this.context.element),C=t.item},onDragAdd:function(t){var e=t.item._underlying_vm_;if(void 0!==e){Object(a["e"])(t.item);var n=this.getVmIndex(t.newIndex);this.spliceList(n,0,e),this.computeIndexes();var o={element:e,newIndex:n};this.emitChanges({added:o})}},onDragRemove:function(t){if(Object(a["d"])(this.rootContainer,t.item,t.oldIndex),"clone"!==t.pullMode){var e=this.context.index;this.spliceList(e,1);var n={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:n})}else Object(a["e"])(t.clone)},onDragUpdate:function(t){Object(a["e"])(t.item),Object(a["d"])(t.from,t.item,t.oldIndex);var e=this.context.index,n=this.getVmIndex(t.newIndex);this.updatePosition(e,n);var o={element:this.context.element,oldIndex:e,newIndex:n};this.emitChanges({moved:o})},updateProperty:function(t,e){t.hasOwnProperty(e)&&(t[e]+=this.headerOffset)},computeFutureIndex:function(t,e){if(!t.element)return 0;var n=Object(i["a"])(e.to.children).filter((function(t){return"none"!==t.style["display"]})),o=n.indexOf(e.related),r=t.component.getVmIndex(o),s=-1!==n.indexOf(C);return s||!e.willInsertAfter?r:r+1},onDragMove:function(t,e){var n=this.move;if(!n||!this.realList)return!0;var o=this.getRelatedContextFromMoveEvent(t),i=this.context,r=this.computeFutureIndex(o,t);Object.assign(i,{futureIndex:r});var s=Object.assign({},t,{relatedContext:o,draggedContext:i});return n(s,e)},onDragEnd:function(){this.computeIndexes(),C=null}}};"undefined"!==typeof window&&"Vue"in window&&window.Vue.component("draggable",k),e["a"]=k},"341c":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"full",staticStyle:{position:"relative"},attrs:{id:"coupon-tags"}},[n("div",{staticClass:"pseudo-textarea textarea-tags",class:{error:t.error,disabled:t.tags.disabled},staticStyle:{"min-height":"136px"},attrs:{placeholder:"После ввода каждого тега нажмите ENTER"},on:{click:function(e){return t.focusCouponTagsInput()}}},[t._l(t.value,(function(e,o){return n("span",{key:o,staticClass:"tag"},[n("span",{staticClass:"text"},[t._v(t._s(e))]),n("span",{staticClass:"del",on:{click:function(e){return t.deleteTag(o)}}})])})),0==t.tags.valueText.length&&0==t.value.length?n("span",{staticStyle:{position:"absolute","z-index":"99",top:"11px",left:"9px",color:"rgba(84,84,84,0.5)"}},[t._v("Например, «Электрика» или «Пластиковые окна». После ввода каждого тэга нажмите Enter.")]):t._e(),t.value.length<10?n("input",{directives:[{name:"model",rawName:"v-model",value:t.tags.valueText,expression:"tags.valueText"}],ref:"couponTagsInput",staticClass:"textarea-tags__input",style:t.tags.style,attrs:{maxlength:"20",type:"text"},domProps:{value:t.tags.valueText},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTag()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.deleteLastTag()}],input:[function(e){e.target.composing||t.$set(t.tags,"valueText",e.target.value)},t.styleCouponTagsInput],focus:function(e){return t.focus()},blur:function(e){return t.blur()}}}):t._e(),n("span",{ref:"couponTagsInputBuffer",staticClass:"inp-buffer",domProps:{innerHTML:t._s(t.tags.valueBuffer)}})],2)])},i=[],r=(n("a481"),n("75fc")),s={name:"TagEditor",props:{value:{default:function(){return[]}},error:{default:!1}},data:function(){return{tags:{valueText:"",valueTextPrevLen:0,valueBuffer:"",error:!1,disabled:!1,type:"text",required:!1,style:{},scrollTo:"#coupon-tags"}}},computed:{},created:function(){},mounted:function(){},methods:{focus:function(){this.$emit("focus",!1)},blur:function(){this.$emit("blur",!1)},addTag:function(){var t=Object(r["a"])(this.value);this.tags.valueText.trim().length>0&&t.push(this.tags.valueText.trim().replace(",","")),this.$set(this.tags,"valueText",""),this.$set(this.tags,"valueBuffer",""),this.$nextTick((function(){this.$set(this.tags,"style",{width:"3px"})})),this.tags.valueTextPrevLen=0,this.$emit("input",t)},deleteTag:function(t){var e=Object(r["a"])(this.value);e.hasOwnProperty(t)&&e.splice(t,1),this.$emit("input",e)},deleteLastTag:function(){var t=Object(r["a"])(this.value);0===this.tags.valueText.length&&0===this.tags.valueTextPrevLen&&t.splice(t.length-1,1),this.tags.valueTextPrevLen=this.tags.valueText.length,this.$emit("input",t)},focusCouponTagsInput:function(){this.$nextTick((function(){this.$refs.couponTagsInput.focus()}))},styleCouponTagsInput:function(){","===this.tags.valueText.substr(-1,1)?this.addTag():(this.$set(this.tags,"valueBuffer",this.tags.valueText.replace(/ /gi,"&nbsp;")),this.$nextTick((function(){var t=this.$refs.couponTagsInputBuffer.offsetWidth;this.$set(this.tags,"style",{width:t+13+"px"})})))}}},a=s,l=n("2877"),c=Object(l["a"])(a,o,i,!1,null,null,null);e["a"]=c.exports},"3adf":function(t,e,n){},"3c1c":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"container__left container-scroll"},[n("tabs",{staticClass:"coupon-details wrapper-content pt0 pb0",attrs:{tabsNavRight:t.tabsNavRight()},on:{changed:t.changeTab}},[n("tab",{attrs:{id:"tab-info",name:"Описание"}},[n("div",{staticClass:"coupon-details wrapper-content wrapper-content-inner"},[t.user.access_rights&&t.user.access_rights.is_moderator?n("div",[n("router-link",{attrs:{to:"/moderator/coupons/img"+t.$route.params.id+"/"}},[t._v("Исходники картинок")])],1):t._e(),n("div",{staticClass:"gallery-thumbnail-list"},[n("div",{staticClass:"item col-24 gallery-item"},[t.user.access_rights&&t.user.access_rights.is_moderator?n("span",{staticClass:"i i-file download_icon",attrs:{title:"Скачать"},on:{click:t.downloadMainImage}}):t._e(),n("a",{style:"background-image: url(//api.zemskidki.ru"+t.action.image+");",attrs:{href:"javascript:void(0)"},on:{click:t.showViewer}})])]),t.action.aboutActionPhoto.length>0?n("gallery",{attrs:{items:t.action.aboutActionPhoto,type:"photo",firstphoto:t.action.image_for_viewer,showFirstPhoto:t.showFirstPhoto}}):n("div",{staticClass:"action-detail__info"},[n("div",{staticClass:"title"},[t._v("Фотогалерея")]),n("div",{staticClass:"text text-color-red"},[t._v("не заполнено")])]),t.action.aboutActionVideo.length>0?n("gallery",{attrs:{items:t.action.aboutActionVideo,type:"video"}}):t._e(),t.action.aboutActionPromo.length>0?n("div",{staticClass:"action-detail__info"},[n("div",{staticClass:"text",domProps:{innerHTML:t._s(t.action.aboutActionPromo)}})]):t._e(),t.action.aboutActionInclude.length>0?n("div",{staticClass:"action-detail__info"},[n("div",{staticClass:"title"},[t._v("Скидка распространяется на:")]),n("div",{staticClass:"text",domProps:{innerHTML:t._s(t.action.aboutActionInclude)}})]):t._e(),t.action.aboutActionExclude.length>0?n("div",{staticClass:"action-detail__info"},[n("div",{staticClass:"title"},[t._v("Скидка НЕ распространяется на:")]),n("div",{staticClass:"text",domProps:{innerHTML:t._s(t.action.aboutActionExclude)}})]):t._e(),t.action.aboutActionPrivileges.length>0?n("div",{staticClass:"action-detail__info"},[n("div",{staticClass:"title"},[t._v("Дополнительные льготы")]),n("div",{staticClass:"text",domProps:{innerHTML:t._s(t.action.aboutActionPrivileges)}})]):t._e(),t.action.aboutActionWarning.length>0?n("div",{staticClass:"action-detail__attention"},[n("div",{staticClass:"title"},[t._v("Обратите внимание!")]),n("div",{staticClass:"text",domProps:{innerHTML:t._s(t.action.aboutActionWarning)}})]):t._e(),t.action.aboutActionMore.length>0?n("div",{staticClass:"action-detail__info"},[n("div",{staticClass:"title"},[t._v("Дополнительная информация")]),n("div",{staticClass:"text",domProps:{innerHTML:t._s(t.action.aboutActionMore)}})]):t._e(),t.countHowToUse?n("div",{staticClass:"action-detail__how"},[n("div",{staticClass:"title"},[t._v("Как воспользоваться скидкой?")]),""!==t.action.callUsJson?n("div",{staticClass:"item"},[t.countHowToUse>1?n("div",{staticClass:"subtitle"},[t._v("Способ 1")]):t._e(),n("ol",[n("li",[t._v("Оформить купон")]),t.action.callUsJson?n("li",[t._v("Позвонить нам по телефону\n                                "),n("tooltip",{staticStyle:{display:"inline"},attrs:{direction:"bottom-center-direction","add-style":{width:"267px"}}},[n("span",{staticClass:"pseudo-link link-color",attrs:{slot:"tooltipBtn"},slot:"tooltipBtn"},[t._v(t._s(t.action.callUsJson.phone.value))]),n("div",{attrs:{slot:"tooltipContent"},slot:"tooltipContent"},[n("div",{staticClass:"text-size-m"},[t._v("Номер будет доступен покупателю "),n("br"),t._v("\n                                            только после оформления купона")])])]),t._v("\n                                ("+t._s(t.action.callUsJson.operation.value)+"), чтобы "+t._s(t.action.callUsJson.target.value))],1):t._e()])]):t._e(),""!==t.action.comeUsJson?n("div",{staticClass:"item"},[t.countHowToUse>1?n("div",{staticClass:"subtitle"},[t._v("Способ "+t._s(t.action.callUsJson?2:1))]):t._e(),n("ol",[n("li",[t._v("Оформить купон")]),t.action.comeUsJson?n("li",[t._v("\n                                Приехать к нам в "+t._s(t.action.comeUsJson.where.value)+"\n                                "),t.action.comeUsJson.otherAddresses.length?n("span",[t._v("по любому из указанных адресов, чтобы\n                                        "+t._s(t.action.comeUsJson.target.value)+":"),n("br"),n("span",{staticStyle:{display:"block"}},[t._v("\n                                            • "),t.action.comeUsJson.coord.value?n("a",{staticClass:"pseudo-link link-color",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openMap(0)}}},[t._v(t._s(t.action.comeUsJson.address.value))]):n("span",[t._v(t._s(t.action.comeUsJson.address.value))]),t._v("\n                                            ("+t._s(t.action.comeUsJson.operation.value)+")\n                                        ")]),t._l(t.action.comeUsJson.otherAddresses,(function(e,o){return t.action.comeUsJson.otherAddresses?n("span",{staticStyle:{display:"block"}},[t._v("\n                                            • "),e.coord.value?n("a",{staticClass:"pseudo-link link-color",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openMap(o+1)}}},[t._v(t._s(e.address.value))]):n("span",[t._v(t._s(e.address.value))]),t._v("\n                                            ("+t._s(e.operation.value)+")\n                                        ")]):t._e()}))],2):this.action.comeUsJson.coord.value?n("span",[t._v("по адресу\n                                        "),n("a",{staticClass:"pseudo-link link-color",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openMap(0)}}},[t._v(t._s(t.action.comeUsJson.address.value))]),t._v(" ("+t._s(t.action.comeUsJson.operation.value)+"),\n                                        чтобы "+t._s(t.action.comeUsJson.target.value)+"\n                                    ")]):n("span",[t._v("по адресу\n                                        "+t._s(t.action.comeUsJson.address.value)+" ("+t._s(t.action.comeUsJson.operation.value)+"),\n                                        чтобы "+t._s(t.action.comeUsJson.target.value)+"\n                                    ")])]):t._e()])]):t._e(),""!==t.action.goLinkJson?n("div",{staticClass:"item"},[t.countHowToUse>1?n("div",{staticClass:"subtitle"},[t._v("Способ "+t._s(t.countHowToUse))]):t._e(),n("ol",[n("li",[t._v("Оформить купон")]),n("li",[t._v("Сделать заказ по "),n("tooltip",{staticStyle:{display:"inline"},attrs:{direction:"bottom-center-direction","add-style":{width:"267px"}}},[n("a",{attrs:{slot:"tooltipBtn",href:"javascript:void(0);"},slot:"tooltipBtn"},[t._v("ссылке")]),n("div",{attrs:{slot:"tooltipContent"},slot:"tooltipContent"},[n("div",{staticClass:"text-size-m"},[n("a",{attrs:{target:"_blank",href:t.action.goLinkJson.link.value}},[t._v("Ссылка")]),t._v(" будет доступна покупателю\n                                        "),n("br"),t._v("\n                                        только после оформления купона")])])]),t._v(", указав в описании кодовое слово «ЗЕМСКИДКИ»")],1)])]):t._e()]):n("p",{staticClass:"text-color-red"},[t._v("не заполнено")]),n("div",{staticClass:"action-detail__exclusive"},[n("div",{staticClass:"item"},[n("span",{staticClass:"item__title"},[t._v("Это эксклюзивная скидка.")]),t.action.onenessDiscount?n("span",{staticClass:"item__text",domProps:{innerHTML:t._s(t.onenessDiscountHtml)}}):t._e()]),n("div",{staticClass:"item"},[n("span",{staticClass:"item__title"},[t._v("Это честная скидка.")]),t.action.originDiscount?n("span",{staticClass:"item__text",domProps:{innerHTML:t._s(t.originDiscountHtml)}}):t._e()])])],1)]),t._t("default")],2),n("div",{staticClass:"wrapper-content mt32"},[n("div",{staticClass:"wrapper-content-inner"},[t._m(0),t.citiesAction.length>0?n("div",{staticClass:"tags --text"},t._l(t.citiesAction,(function(e){return n("span",{staticClass:"tag-text"},[n("span",{staticClass:"text"},[t._v(t._s(e.name))])])})),0):n("div",{staticClass:"text-color-red"},[t._v("Не заполнено")])])]),n("div",{staticClass:"wrapper-content mt32"},[n("div",{staticClass:"wrapper-content-inner"},[t._m(1),t.action.tags.length>0?n("div",{staticClass:"tags --text"},t._l(t.action.tags,(function(e){return n("span",{staticClass:"tag-text"},[n("span",{staticClass:"text"},[t._v(t._s(e))])])})),0):n("div",{staticClass:"text-color-red"},[t._v("Не заполнено")])])]),this.action.comeUsJson?n("popup",{attrs:{show:t.popups.address.show,name:t.popups.address.name,"add-class":"popup--map","is-set-blank":!0}},[n("Map",{attrs:{markers:t.getMarkers(),height:558,coords:t.mapCenter,zoom:11}})],1):t._e()],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-title mb8"},[n("div",{staticClass:"content-title__wrap"},[n("div",{staticClass:"h2"},[t._v("Область действия")])]),n("div",{staticClass:"content-title__right"},[n("span",{staticClass:"text-size-xs text-color-grey"},[t._v("Этот блок не виден покупателям")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-title mb8"},[n("div",{staticClass:"content-title__wrap"},[n("div",{staticClass:"h2"},[t._v("Теги для поиска")])]),n("div",{staticClass:"content-title__right"},[n("span",{staticClass:"text-size-xs text-color-grey"},[t._v("Этот блок не виден покупателям")])])])}],r=(n("8e6e"),n("456d"),n("28a5"),n("7f7f"),n("ac4d"),n("8a81"),n("ac6a"),n("75fc")),s=n("bd86"),a=n("1f247"),l=n("326c"),c=n("516f"),u=n("c3a8"),p=n("2f62"),f=n("1f24"),d=n("a0be"),h=n("39b7"),v=n("4887");function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y={props:["action"],components:{Tabs:a["a"],Tab:l["a"],Popup:c["a"],ActionModals:u["a"],Tooltip:f["a"],Map:d["a"],Gallery:h["a"]},data:function(){return{mapCenter:[55.427862,37.550162],showFirstPhoto:!1}},watch:{},computed:b({},Object(p["b"])({popups:function(t){return t.popups.items},cities:function(t){return t.cities.items},user:function(t){return t.users.user}}),{citiesAction:function(){var t=[],e=Object(r["a"])(this.cities),n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;-1!==this.action.city.indexOf(l.xmlId)&&t.push(l)}}catch(c){o=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return t},originDiscountHtml:function(){return this.action.originDiscount?Object(v["a"])(this.action.originDiscount,this.action.discount):""},onenessDiscountHtml:function(){return this.action.onenessDiscount?Object(v["a"])(this.action.onenessDiscount,this.action.discount):""},countHowToUse:function(){var t=0;return this.action.callUsJson&&t++,this.action.comeUsJson&&t++,this.action.goLinkJson&&t++,t}}),methods:{showViewer:function(){this.showFirstPhoto=new Date},downloadMainImage:function(){window.open("//api.zemskidki.ru"+this.action.image_original,"_blank")},balloonTemplate:function(t){return'\n              <div class="yamap_baloon_link yamap_baloon_link_address hover">\n                <img src="//api.zemskidki.ru/'+this.action.image+'" alt="'+this.action.name+'">\n                '+this.action.provider.name+'<br>\n                <b class="yamap_baloon_link-name">'+this.action.name+"</b><br/>\n                "+t+"\n              </div>\n            "},openMap:function(t){var e,n={};for(var o in this.action.comeUsJson.coord.value&&(e=this.action.comeUsJson.coord.value?this.action.comeUsJson.coord.value.split(","):[],n[0]=[e[1],e[0]]),this.action.comeUsJson.otherAddresses)if(this.action.comeUsJson.otherAddresses[o].coord.value){var i=this.action.comeUsJson.otherAddresses[o].coord.value.split(",");n[parseInt(o)+1]=[i[1],i[0]]}Object.getOwnPropertyNames(n).length&&(this.mapCenter=n[t],this.$store.dispatch("popups/open",{name:this.popups.address.name}))},getMarkers:function(){var t=[];if(this.action.comeUsJson.coord.value){var e=this.action.comeUsJson.coord.value?this.action.comeUsJson.coord.value.split(","):[];for(var n in t.push({id:10,type:"placemark",coords:[e[1],e[0]],hint:"",balloon:{header:"",body:this.balloonTemplate(this.action.comeUsJson.address.value),footer:""},cluster:"1"}),this.action.comeUsJson.otherAddresses){var o=this.action.comeUsJson.otherAddresses[n].coord.value.split(","),i={id:parseInt(n)+1,type:"placemark",coords:[o[1],o[0]],hint:"",balloon:{header:"",body:this.balloonTemplate(this.action.comeUsJson.otherAddresses[n].address.value),footer:""},cluster:"1"};t.push(i)}}return t},tabsNavRight:function(){},changeTab:function(t){this.$emit("changed",t)}}},g=y,_=(n("6a88"),n("2877")),C=Object(_["a"])(g,o,i,!1,null,null,null);e["a"]=C.exports},4108:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[void 0!==t.action&&t.action.id?n("div",{staticClass:"content"},[n("div",{staticClass:"nav-top"},[n("div",{staticClass:"nav-top__l"},["PUBLICK"!=t.action.lk_status_publicate&&"CHECK"!=t.action.lk_status_publicate||t.action.status!=t.statuses.active?n("span",{staticClass:"nav-top__category"},[n("span",{staticClass:"i",class:t.actionNavIcon,staticStyle:{transform:"scale(0.75)"}}),n("span",{staticClass:"t"},[t._v(t._s(t.actionNav)+" "+t._s(t.action.dateDiffStatus))])]):[+t.action.section.id>0?n("a",{staticClass:"nav-top__category",attrs:{target:"_blank",href:"/sid"+t.action.section.id}},[n("span",{staticClass:"i i-book"}),n("span",{staticClass:"t"},[t._v(t._s(t.action.section.name))])]):t._e()]],2),n("div",{staticClass:"nav-top__r"})]),n("div",{staticClass:"main-title"},[n("div",{staticClass:"main-title__wrap main-title--nowrap"},[t.action.name?n("div",{staticClass:"h1",domProps:{innerHTML:t._s(t.action.name)}}):n("div",{staticClass:"h1 text-color-red"},[t._v("Название акции не указано")])]),n("div",{staticClass:"main-title__right"})]),n("section",{staticClass:"container"},[Object.keys(t.action).length>0?n("lk-action-detail",{attrs:{action:t.action},on:{changed:t.changeTab}},[n("tab",{attrs:{id:"tab-supplier",name:"Поставщик"}},[n("partner-about-text-tab",{attrs:{partner:t.provider}})],1)],1):t._e(),n("aside-sticky",{attrs:{"margin-top":80}},[n("aside",{staticClass:"aside aside--right"},[n("div",{staticClass:"aside__sticky js-sticky",attrs:{id:"aside-sticky"}},[n("div",{staticClass:"coupon-details-mini"},[n("div",{staticClass:"coupon-details-mini__supplier"},[n("div",{staticClass:"title"},[t._v("Поставщик")]),n("div",{staticClass:"l"},[t.isTabSupplier?n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.setTabSupplier()}}},[t._v("\n                                    "+t._s(t.action.provider.name)+"\n                                ")]):n("span",[t._v("\n                                    "+t._s(t.action.provider.name)+"\n                                ")])])]),n("div",{staticClass:"coupon-details-mini__sep"},[n("div"),n("div"),n("div"),n("div"),n("div")]),n("div",{staticClass:"coupon-details-mini__discount"},[n("div",{staticClass:"title"},[t._v("Скидка")]),n("div",{staticClass:"t"},[t._v(t._s(t.action.discountFrom)+"%")])]),t.action.realSavingsFormat?n("div",{staticClass:"coupon-details-mini__price"},[n("tooltip",{attrs:{direction:"left-center-direction","add-class-wrap":"dib","add-class-btn":"dib","add-style":{width:"248px"}}},[n("span",{staticClass:"t",attrs:{slot:"tooltipBtn"},slot:"tooltipBtn"},[t._v("\n                                    ≈"+t._s(t.action.realSavingsFormat)+"\n                                    "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])]),n("div",{staticStyle:{"font-size":"16px"},attrs:{slot:"tooltipContent"},slot:"tooltipContent"},[t._v("\n                                    При обращении к этому"),n("br"),t._v("\n                                    поставщику средний чек"),n("br"),t._v("\n                                    составляет "),n("strong",[t._v(t._s(t.action.averageCheckFormat)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])]),t._v(","),n("br"),t._v("\n                                    а экономия – около\n                                    "),n("strong",[t._v(t._s(t.action.realSavingsFormat)+"\n                                    "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])])])])],1):t._e(),t.action.realSavingsFormat?n("div",{staticClass:"coupon-details-mini__btn disabled-content",staticStyle:{opacity:"0.2"}},[n("button",{staticClass:"btn full"},[n("span",{staticClass:"t"},[t._v("Оформить бесплатно")])])]):n("div",{staticClass:"coupon-details-mini__price text-color-red"},[t._v("\n                            ?\n                        ")]),n("div",{staticClass:"coupon-details-mini__stat"},[n("div",{staticClass:"t"},[n("span",{staticClass:"i i-eye"}),n("span",{staticClass:"t__t",domProps:{innerHTML:t._s(t.action.showCounterFormat)}})]),n("div",{staticClass:"t"},[n("span",{staticClass:"i i-cart"}),n("span",{staticClass:"t__t",domProps:{innerHTML:t._s(+t.action.statistics.sold)}})])])]),t.action.lastEditor?n("div",{staticClass:"mt32 text-size-s text-center text-color-grey"},[n("div",{},[t._v("Редактор:")]),n("div",{staticClass:"text-bold"},[t._v(t._s(t.action.lastEditor.fio))]),n("div",{staticClass:"text-bold"},[t.action.lastEditor.phone?n("a",{staticClass:"text-bold",attrs:{href:"tel:"+t.action.lastEditor.phone.replace(/[^\+0-9]/g,"")}},[t._v(t._s(t.action.lastEditor.phone))]):t._e()])]):t._e()])])])],1),n("action-modals",{attrs:{action:t.action}})],1):t.isLoadDetail?t._e():n("div",{staticClass:"content"},[t._m(0),t._m(1)]),t.action?n("popup",{attrs:{show:t.popups.supplierInfo.show,name:t.popups.supplierInfo.name,width:704,"add-class":"popup-supplier"}},[n("div",{staticClass:"popup-partner-info"},[n("partner-about-text-tab",{attrs:{partner:t.provider}})],1)]):t._e()],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-title"},[n("div",{staticClass:"main-title__wrap"},[n("div",{staticClass:"h1"},[t._v("Акции")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"container"},[n("div",{staticClass:"wrapper-content"},[n("div",{staticClass:"sect-blank"},[n("div",{staticClass:"wrap text-center"},[n("div",{staticClass:"text-size-xl text-bolder text-color-grey mt16"},[t._v("К сожалению, по вашему запросу"),n("br"),t._v(" ничего не найдено...")]),n("div",{staticClass:"mini-zems"})])])])])}],r=(n("8e6e"),n("456d"),n("ac4d"),n("8a81"),n("ac6a"),n("75fc")),s=(n("7f7f"),n("bd86")),a=n("1f247"),l=n("326c"),c=n("1f24"),u=n("516f"),p=n("3c1c"),f=n("c3a8"),d=n("2f62"),h=n("fa37"),v=n("047c"),m=n("b5dc"),b=n("1bff");function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={metaInfo:function(){return{title:this.title,titleTemplate:this.$store.state.options.titleTemplate}},name:"partnerPreviewAction",components:{Tooltip:c["a"],Tabs:a["a"],Tab:l["a"],Popup:u["a"],LkActionDetail:p["a"],ActionModals:f["a"],PartnerAboutTextTab:h["a"],OpinionList:v["a"],StatisticsDetail:m["a"],AsideSticky:b["a"]},data:function(){return{loadOpinion:!1,currentTab:"",actionNavIcon:"i-gear",isTabSupplier:!1}},mounted:function(){this.$store.dispatch("partnerActions/initDetailPage",{route:this.$route})},watch:{},computed:g({},Object(d["b"])({action:function(t){return t.partnerActions.detail},isLoadDetail:function(t){return t.partnerActions.isLoadDetail},provider:function(t){return t.partner.current},popups:function(t){return t.popups.items},cities:function(t){return t.cities.items},statuses:function(t){return t.partnerActions.statuses}}),{title:function(){return this.action.name?this.action.name:""},citiesAction:function(){var t=[],e=Object(r["a"])(this.cities),n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;-1!==l.xmlId.indexOf(this.action.city)&&t.push(l)}}catch(c){o=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return t},actionNav:function(){var t="";switch(+this.action.status){case this.statuses.develop:t="В разработке";break;case this.statuses.active:t="NEW"==this.action.lk_status_publicate?"Ждёт проверки":"Опубликованные акции";break;case this.statuses.archive:t="Приостановлена",this.actionNavIcon="i-pause3";break;case this.statuses.deleted:t="Удалёна",this.actionNavIcon="i-trash";break;case this.statuses.ban:t="Заблокирована",this.actionNavIcon="i-stop3";break;default:t="";break}return t}}),methods:{changeTab:function(t){this.currentTab=t.tab.hash,"#tab-opinions"===this.currentTab&&this.action.id&&(this.loadOpinion=!0),this.isTabSupplier="#tab-supplier"!==this.currentTab},setTabSupplier:function(){document.querySelector("[aria-controls='#tab-supplier']").click()}}},C=_,w=n("2877"),k=Object(w["a"])(C,o,i,!1,null,null,null);e["default"]=k.exports},"469f":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("7d7b")},4736:function(t,e,n){(function(t){var o,i;
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */(function(r){"use strict";o=r,i="function"===typeof o?o.call(e,n,e,t):o,void 0===i||(t.exports=i)})((function(){"use strict";if("undefined"===typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var t,e,n,o,i,r,s,a,l,c,u,p,f,d,h,v,m,b,y,g,_,C,w,k,O,x,A,E,P=[],j=!1,S=!1,T=!1,N=[],q=!1,L=!1,D=[],M=/\\s+/g,$="Sortable"+(new Date).getTime(),I=window,B=I.document,R=I.parseInt,U=I.setTimeout,F=I.jQuery||I.Zepto,H=I.Polymer,z={capture:!1,passive:!1},V=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\\.|msie|iemobile)/i),Y=!!navigator.userAgent.match(/Edge/i),W=!!navigator.userAgent.match(/firefox/i),K=!(!navigator.userAgent.match(/safari/i)||navigator.userAgent.match(/chrome/i)||navigator.userAgent.match(/android/i)),G=!!navigator.userAgent.match(/iP(ad|od|hone)/i),Z=G,X=Y||V?"cssFloat":"float",J="draggable"in B.createElement("div"),Q=function(){if(V)return!1;var t=B.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),tt=!1,et=!1,nt=Math.abs,ot=Math.min,it=Math.max,rt=[],st=function(t,e){var n=Pt(t),o=R(n.width)-R(n.paddingLeft)-R(n.paddingRight)-R(n.borderLeftWidth)-R(n.borderRightWidth),i=Dt(t,0,e),r=Dt(t,1,e),s=i&&Pt(i),a=r&&Pt(r),l=s&&R(s.marginLeft)+R(s.marginRight)+Zt(i).width,c=a&&R(a.marginLeft)+R(a.marginRight)+Zt(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&"none"!==s.float){var u="left"===s.float?"left":"right";return!r||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return i&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=o&&"none"===n[X]||r&&"none"===n[X]&&l+c>o)?"vertical":"horizontal"},at=function(t,e){for(var n=0;n<N.length;n++)if(!Mt(N[n])){var o=Zt(N[n]),i=N[n][$].options.emptyInsertThreshold,r=t>=o.left-i&&t<=o.right+i,s=e>=o.top-i&&e<=o.bottom+i;if(i&&r&&s)return N[n]}},lt=function(t,e,n,o,i){var r=Zt(n),s="vertical"===o?r.left:r.top,a="vertical"===o?r.right:r.bottom,l="vertical"===o?t:e;return s<l&&l<a},ct=function(e,n,o){var i=e===t&&E||Zt(e),r=n===t&&E||Zt(n),s="vertical"===o?i.left:i.top,a="vertical"===o?i.right:i.bottom,l="vertical"===o?i.width:i.height,c="vertical"===o?r.left:r.top,u="vertical"===o?r.right:r.bottom,p="vertical"===o?r.width:r.height;return s===c||a===u||s+l/2===c+p/2},ut=function(t,e){if(!t||!t.getBoundingClientRect)return pt();var n=t,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Pt(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n||!n.getBoundingClientRect||n===B.body)return pt();if(o||e)return n;o=!0}}}while(n=n.parentNode);return pt()},pt=function(){return V?B.documentElement:B.scrollingElement},ft=function(t,e,n){t.scrollLeft+=e,t.scrollTop+=n},dt=Ht((function(t,e,n,o){if(e.scroll){var i=n?n[$]:window,r=e.scrollSensitivity,s=e.scrollSpeed,u=t.clientX,p=t.clientY,f=pt(),d=!1;l!==n&&(ht(),a=e.scroll,c=e.scrollFn,!0===a&&(a=ut(n,!0),l=a));var h=0,v=a;do{var m,b,y,g,C,w,k,O,x,A=v,E=Zt(A),S=E.top,T=E.bottom,N=E.left,q=E.right,L=E.width,D=E.height;if(m=A.scrollWidth,b=A.scrollHeight,y=Pt(A),O=A.scrollLeft,x=A.scrollTop,A===f?(w=L<m&&("auto"===y.overflowX||"scroll"===y.overflowX||"visible"===y.overflowX),k=D<b&&("auto"===y.overflowY||"scroll"===y.overflowY||"visible"===y.overflowY)):(w=L<m&&("auto"===y.overflowX||"scroll"===y.overflowX),k=D<b&&("auto"===y.overflowY||"scroll"===y.overflowY)),g=w&&(nt(q-u)<=r&&O+L<m)-(nt(N-u)<=r&&!!O),C=k&&(nt(T-p)<=r&&x+D<b)-(nt(S-p)<=r&&!!x),!P[h])for(var M=0;M<=h;M++)P[M]||(P[M]={});P[h].vx==g&&P[h].vy==C&&P[h].el===A||(P[h].el=A,P[h].vx=g,P[h].vy=C,clearInterval(P[h].pid),!A||0==g&&0==C||(d=!0,P[h].pid=setInterval(function(){o&&0===this.layer&&(Ct.active._emulateDragOver(!0),Ct.active._onTouchMove(_,!0));var e=P[this.layer].vy?P[this.layer].vy*s:0,n=P[this.layer].vx?P[this.layer].vx*s:0;"function"===typeof c&&"continue"!==c.call(i,n,e,t,_,P[this.layer].el)||ft(P[this.layer].el,n,e)}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&v!==f&&(v=ut(v,!1)));j=d}}),30),ht=function(){P.forEach((function(t){clearInterval(t.pid)})),P=[]},vt=function(t){function e(t,n){return function(o,i,r,s){var a=o.options.group.name&&i.options.group.name&&o.options.group.name===i.options.group.name;if(null==t&&(n||a))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"===typeof t)return e(t(o,i,r,s),n)(o,i,r,s);var l=(n?o:i).options.group.name;return!0===t||"string"===typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var n={},o=t.group;o&&"object"==typeof o||(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n},mt=function(e){t&&t.parentNode&&t.parentNode[$]&&t.parentNode[$]._computeIsAligned(e)},bt=function(){!Q&&n&&Pt(n,"display","none")},yt=function(){!Q&&n&&Pt(n,"display","")};B.addEventListener("click",(function(t){if(T)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),T=!1,!1}),!0);var gt,_t=function(e){if(t){e=e.touches?e.touches[0]:e;var n=at(e.clientX,e.clientY);if(n){var o={};for(var i in e)o[i]=e[i];o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[$]._onDragOver(o)}}};function Ct(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(t);this.el=t,this.options=e=Vt({},e),t[$]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return st(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:R(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ct.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var o in n)!(o in e)&&(e[o]=n[o]);for(var i in vt(e),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&J,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?xt(t,"pointerdown",this._onTapStart):(xt(t,"mousedown",this._onTapStart),xt(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(xt(t,"dragover",this),xt(t,"dragenter",this)),N.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[])}function wt(t,e,n,o){if(t){n=n||B;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&Ft(t,e):Ft(t,e))||o&&t===n)return t;if(t===n)break}while(t=kt(t))}return null}function kt(t){return t.host&&t!==B&&t.host.nodeType?t.host:t.parentNode}function Ot(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function xt(t,e,n){t.addEventListener(e,n,!V&&z)}function At(t,e,n){t.removeEventListener(e,n,!V&&z)}function Et(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(M," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(M," ")}}function Pt(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return B.defaultView&&B.defaultView.getComputedStyle?n=B.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in o||-1!==e.indexOf("webkit")||(e="-webkit-"+e),o[e]=n+("string"===typeof n?"":"px")}}function jt(t){var e="";do{var n=Pt(t,"transform");n&&"none"!==n&&(e=n+" "+e)}while(t=t.parentNode);return window.DOMMatrix?new DOMMatrix(e):window.WebKitCSSMatrix?new WebKitCSSMatrix(e):window.CSSMatrix?new CSSMatrix(e):void 0}function St(t,e,n){if(t){var o=t.getElementsByTagName(e),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function Tt(t,e,n,i,r,s,a,l,c,u,p){t=t||e[$];var f,d=t.options,h="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||V||Y?(f=B.createEvent("Event"),f.initEvent(n,!0,!0)):f=new CustomEvent(n,{bubbles:!0,cancelable:!0}),f.to=r||e,f.from=s||e,f.item=i||e,f.clone=o,f.oldIndex=a,f.newIndex=l,f.oldDraggableIndex=c,f.newDraggableIndex=u,f.originalEvent=p,f.pullMode=v?v.lastPutMode:void 0,e&&e.dispatchEvent(f),d[h]&&d[h].call(t,f)}function Nt(t,e,n,o,i,r,s,a){var l,c,u=t[$],p=u.options.onMove;return!window.CustomEvent||V||Y?(l=B.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=n,l.draggedRect=o,l.related=i||e,l.relatedRect=r||Zt(e),l.willInsertAfter=a,l.originalEvent=s,t.dispatchEvent(l),p&&(c=p.call(u,l,s)),c}function qt(t){t.draggable=!1}function Lt(){tt=!1}function Dt(e,o,i){var r=0,s=0,a=e.children;while(s<a.length){if("none"!==a[s].style.display&&a[s]!==n&&a[s]!==t&&wt(a[s],i.draggable,e,!1)){if(r===o)return a[s];r++}s++}return null}function Mt(t){var e=t.lastElementChild;while(e&&(e===n||"none"===Pt(e,"display")))e=e.previousElementSibling;return e||null}function $t(t,e,n){var o=Zt(Mt(n)),i="vertical"===e?t.clientY:t.clientX,r="vertical"===e?t.clientX:t.clientY,s="vertical"===e?o.bottom:o.right,a="vertical"===e?o.left:o.top,l="vertical"===e?o.right:o.bottom,c=10;return"vertical"===e?r>l+c||r<=l&&i>s&&r>=a:i>s&&r>a||i<=s&&r>l+c}function It(e,n,o,i,r,s,a){var l=Zt(n),c="vertical"===o?e.clientY:e.clientX,u="vertical"===o?l.height:l.width,p="vertical"===o?l.top:l.left,f="vertical"===o?l.bottom:l.right,d=Zt(t),h=!1;if(!s)if(a&&x<u*i)if(!q&&(1===k?c>p+u*r/2:c<f-u*r/2)&&(q=!0),q)h=!0;else{"vertical"===o?d.top:d.left,"vertical"===o?d.bottom:d.right;if(1===k?c<p+x:c>f-x)return-1*k}else if(c>p+u*(1-i)/2&&c<f-u*(1-i)/2)return Bt(n);return h=h||s,h&&(c<p+u*r/2||c>f-u*r/2)?c>p+u/2?1:-1:0}function Bt(e){var n=Ut(t),o=Ut(e);return n<o?1:-1}function Rt(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;while(n--)o+=e.charCodeAt(n);return o.toString(36)}function Ut(t,e){var n=0;if(!t||!t.parentNode)return-1;while(t&&(t=t.previousElementSibling))"TEMPLATE"===t.nodeName.toUpperCase()||t===o||e&&!Ft(t,e)||n++;return n}function Ft(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(n){return!1}return!1}}function Ht(t,e){return function(){if(!gt){var n=arguments,o=this;gt=U((function(){1===n.length?t.call(o,n[0]):t.apply(o,n),gt=void 0}),e)}}}function zt(){clearTimeout(gt),gt=void 0}function Vt(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Yt(t){return H&&H.dom?H.dom(t).cloneNode(!0):F?F(t).clone(!0)[0]:t.cloneNode(!0)}function Wt(t){rt.length=0;var e=t.getElementsByTagName("input"),n=e.length;while(n--){var o=e[n];o.checked&&rt.push(o)}}function Kt(t){return U(t,0)}function Gt(t){return clearTimeout(t)}function Zt(t,e,n,o){if(t.getBoundingClientRect||t===I){var i,r,s,a,l,c,u;if(t!==I&&t!==pt()?(i=t.getBoundingClientRect(),r=i.top,s=i.left,a=i.bottom,l=i.right,c=i.height,u=i.width):(r=0,s=0,a=window.innerHeight,l=window.innerWidth,c=window.innerHeight,u=window.innerWidth),o&&t!==I&&(n=n||t.parentNode,!V))do{if(n&&n.getBoundingClientRect&&"none"!==Pt(n,"transform")){var p=n.getBoundingClientRect();r-=p.top+R(Pt(n,"border-top-width")),s-=p.left+R(Pt(n,"border-left-width")),a=r+i.height,l=s+i.width;break}}while(n=n.parentNode);if(e&&t!==I){var f=jt(n||t),d=f&&f.a,h=f&&f.d;f&&(r/=h,s/=d,u/=d,c/=h,a=r+c,l=s+u)}return{top:r,left:s,bottom:a,right:l,width:u,height:c}}}function Xt(t,e){var n=ut(t,!0),o=Zt(t)[e];while(n){var i,r=Zt(n)[e];if(i="top"===e||"left"===e?o>=r:o<=r,!i)return n;if(n===pt())break;n=ut(n,!1)}return!1}function Jt(t){var e=0,n=0,o=pt();if(t)do{var i=jt(t),r=i.a,s=i.d;e+=t.scrollLeft*r,n+=t.scrollTop*s}while(t!==o&&(t=t.parentNode));return[e,n]}return Ct.prototype={constructor:Ct,_computeIsAligned:function(e){var o;if(n&&!Q?(bt(),o=B.elementFromPoint(e.clientX,e.clientY),yt()):o=e.target,o=wt(o,this.options.draggable,this.el,!1),!et&&t&&t.parentNode===this.el){for(var i=this.el.children,r=0;r<i.length;r++)wt(i[r],this.options.draggable,this.el,!1)&&i[r]!==o&&(i[r].sortableMouseAligned=lt(e.clientX,e.clientY,i[r],this._getDirection(e,null),this.options));wt(o,this.options.draggable,this.el,!0)||(w=null),et=!0,U((function(){et=!1}),30)}},_getDirection:function(e,n){return"function"===typeof this.options.direction?this.options.direction.call(this,e,n,t):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n,o,i=this,r=this.el,a=this.options,l=a.preventOnFilter,c=e.type,u=e.touches&&e.touches[0],p=(u||e).target,f=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||p,d=a.filter;if(Wt(r),!t&&!(/mousedown|pointerdown/.test(c)&&0!==e.button||a.disabled)&&!f.isContentEditable&&(p=wt(p,a.draggable,r,!1),s!==p)){if(n=Ut(p),o=Ut(p,a.draggable),"function"===typeof d){if(d.call(this,e,p,this))return Tt(i,f,"filter",p,r,r,n,void 0,o),void(l&&e.cancelable&&e.preventDefault())}else if(d&&(d=d.split(",").some((function(t){if(t=wt(f,t.trim(),r,!1),t)return Tt(i,t,"filter",p,r,r,n,void 0,o),!0})),d))return void(l&&e.cancelable&&e.preventDefault());a.handle&&!wt(f,a.handle,r,!1)||this._prepareDragStart(e,u,p,n,o)}}},_handleAutoScroll:function(e,n){if(t&&this.options.scroll){var o=e.clientX,i=e.clientY,r=B.elementFromPoint(o,i),s=this;if(n||Y||V||K){dt(e,s.options,r,n);var a=ut(r,!0);!j||m&&o===b&&i===y||(m&&clearInterval(m),m=setInterval((function(){if(t){var r=ut(B.elementFromPoint(o,i),!0);r!==a&&(a=r,ht(),dt(e,s.options,a,n))}}),10),b=o,y=i)}else{if(!s.options.bubbleScroll||ut(r,!0)===pt())return void ht();dt(e,s.options,ut(r,!1),!1)}}},_prepareDragStart:function(n,o,a,l,c){var p,d=this,v=d.el,m=d.options,b=v.ownerDocument;a&&!t&&a.parentNode===v&&(i=v,t=a,e=t.parentNode,r=t.nextSibling,s=a,h=m.group,u=l,f=c,g={target:t,clientX:(o||n).clientX,clientY:(o||n).clientY},this._lastX=(o||n).clientX,this._lastY=(o||n).clientY,t.style["will-change"]="all",t.style.transition="",t.style.transform="",p=function(){d._disableDelayedDragEvents(),!W&&d.nativeDraggable&&(t.draggable=!0),d._triggerDragStart(n,o),Tt(d,i,"choose",t,i,i,u,void 0,f),Et(t,m.chosenClass,!0)},m.ignore.split(",").forEach((function(e){St(t,e.trim(),qt)})),xt(b,"dragover",_t),xt(b,"mousemove",_t),xt(b,"touchmove",_t),xt(b,"mouseup",d._onDrop),xt(b,"touchend",d._onDrop),xt(b,"touchcancel",d._onDrop),W&&this.nativeDraggable&&(this.options.touchStartThreshold=4,t.draggable=!0),!m.delay||m.delayOnTouchOnly&&!o||this.nativeDraggable&&(Y||V)?p():(xt(b,"mouseup",d._disableDelayedDrag),xt(b,"touchend",d._disableDelayedDrag),xt(b,"touchcancel",d._disableDelayedDrag),xt(b,"mousemove",d._delayedDragTouchMoveHandler),xt(b,"touchmove",d._delayedDragTouchMoveHandler),m.supportPointer&&xt(b,"pointermove",d._delayedDragTouchMoveHandler),d._dragStartTimer=U(p,m.delay)))},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;it(nt(e.clientX-this._lastX),nt(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){t&&qt(t),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;At(t,"mouseup",this._disableDelayedDrag),At(t,"touchend",this._disableDelayedDrag),At(t,"touchcancel",this._disableDelayedDrag),At(t,"mousemove",this._delayedDragTouchMoveHandler),At(t,"touchmove",this._delayedDragTouchMoveHandler),At(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||("touch"==e.pointerType?e:null),!this.nativeDraggable||n?this.options.supportPointer?xt(B,"pointermove",this._onTouchMove):xt(B,n?"touchmove":"mousemove",this._onTouchMove):(xt(t,"dragend",this),xt(i,"dragstart",this._onDragStart));try{B.selection?Kt((function(){B.selection.empty()})):window.getSelection().removeAllRanges()}catch(o){}},_dragStarted:function(e,n){if(S=!1,i&&t){this.nativeDraggable&&(xt(B,"dragover",this._handleAutoScroll),xt(B,"dragover",mt));var o=this.options;!e&&Et(t,o.dragClass,!1),Et(t,o.ghostClass,!0),Pt(t,"transform",""),Ct.active=this,e&&this._appendGhost(),Tt(this,i,"start",t,i,i,u,void 0,f,void 0,n)}else this._nulling()},_emulateDragOver:function(e){if(_){if(this._lastX===_.clientX&&this._lastY===_.clientY&&!e)return;this._lastX=_.clientX,this._lastY=_.clientY,bt();var n=B.elementFromPoint(_.clientX,_.clientY),o=n;while(n&&n.shadowRoot){if(n=n.shadowRoot.elementFromPoint(_.clientX,_.clientY),n===o)break;o=n}if(o)do{var i;if(o[$])if(i=o[$]._onDragOver({clientX:_.clientX,clientY:_.clientY,target:n,rootEl:o}),i&&!this.options.dragoverBubble)break;n=o}while(o=o.parentNode);t.parentNode[$]._computeIsAligned(_),yt()}},_onTouchMove:function(t,e){if(g){var o=this.options,i=o.fallbackTolerance,r=o.fallbackOffset,s=t.touches?t.touches[0]:t,a=n&&jt(n),l=n&&a&&a.a,c=n&&a&&a.d,u=Z&&A&&Jt(A),p=(s.clientX-g.clientX+r.x)/(l||1)+(u?u[0]-D[0]:0)/(l||1),f=(s.clientY-g.clientY+r.y)/(c||1)+(u?u[1]-D[1]:0)/(c||1),d=t.touches?"translate3d("+p+"px,"+f+"px,0)":"translate("+p+"px,"+f+"px)";if(!Ct.active&&!S){if(i&&ot(nt(s.clientX-this._lastX),nt(s.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}!e&&this._handleAutoScroll(s,!0),C=!0,_=s,Pt(n,"webkitTransform",d),Pt(n,"mozTransform",d),Pt(n,"msTransform",d),Pt(n,"transform",d),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!n){var e=this.options.fallbackOnBody?B.body:i,o=Zt(t,!0,e,!Z),r=(Pt(t),this.options);if(Z){A=e;while("static"===Pt(A,"position")&&"none"===Pt(A,"transform")&&A!==B)A=A.parentNode;if(A!==B){var s=Zt(A,!0);o.top-=s.top,o.left-=s.left}A!==B.body&&A!==B.documentElement?(A===B&&(A=pt()),o.top+=A.scrollTop,o.left+=A.scrollLeft):A=pt(),D=Jt(A)}n=t.cloneNode(!0),Et(n,r.ghostClass,!1),Et(n,r.fallbackClass,!0),Et(n,r.dragClass,!0),Pt(n,"box-sizing","border-box"),Pt(n,"margin",0),Pt(n,"top",o.top),Pt(n,"left",o.left),Pt(n,"width",o.width),Pt(n,"height",o.height),Pt(n,"opacity","0.8"),Pt(n,"position",Z?"absolute":"fixed"),Pt(n,"zIndex","100000"),Pt(n,"pointerEvents","none"),e.appendChild(n)}},_onDragStart:function(e,n){var r=this,s=e.dataTransfer,a=r.options;o=Yt(t),o.draggable=!1,o.style["will-change"]="",this._hideClone(),Et(o,r.options.chosenClass,!1),r._cloneId=Kt((function(){r.options.removeCloneOnHide||i.insertBefore(o,t),Tt(r,i,"clone",t)})),!n&&Et(t,a.dragClass,!0),n?(T=!0,r._loopId=setInterval(r._emulateDragOver,50)):(At(B,"mouseup",r._onDrop),At(B,"touchend",r._onDrop),At(B,"touchcancel",r._onDrop),s&&(s.effectAllowed="move",a.setData&&a.setData.call(r,s,t)),xt(B,"drop",r),Pt(t,"transform","translateZ(0)")),S=!0,r._dragStartId=Kt(r._dragStarted.bind(r,n,e)),xt(B,"selectstart",r),K&&Pt(B.body,"user-select","none")},_onDragOver:function(n){var o,s,a,l=this.el,c=n.target,p=this.options,d=p.group,m=Ct.active,b=h===d,y=p.sort,g=this;if(!tt){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),C=!0,c=wt(c,p.draggable,l,!0),t.contains(n.target)||c.animated)return z(!1);if(c!==t&&(T=!1),m&&!p.disabled&&(b?y||(a=!i.contains(t)):v===this||(this.lastPutMode=h.checkPull(this,m,t,n))&&d.checkPut(this,m,t,n))){var _=this._getDirection(n,c);if(o=Zt(t),a)return this._hideClone(),e=i,r?i.insertBefore(t,r):i.appendChild(t),z(!0);var A=Mt(l);if(!A||$t(n,_,l)&&!A.animated){if(A&&l===n.target&&(c=A),c&&(s=Zt(c)),b?m._hideClone():m._showClone(this),!1!==Nt(i,l,t,o,c,s,n,!!c))return l.appendChild(t),e=l,E=null,V(),z(!0)}else if(c&&c!==t&&c.parentNode===l){var P,j=0,S=c.sortableMouseAligned,N=t.parentNode!==l,D="vertical"===_?"top":"left",M=Xt(c,"top")||Xt(t,"top"),I=M?M.scrollTop:void 0;if(w!==c&&(O=null,P=Zt(c)[D],q=!1),ct(t,c,_)&&S||N||M||p.invertSwap||"insert"===O||"swap"===O?("swap"!==O&&(L=p.invertSwap||N),j=It(n,c,_,p.swapThreshold,null==p.invertedSwapThreshold?p.swapThreshold:p.invertedSwapThreshold,L,w===c),O="swap"):(j=Bt(c),O="insert"),0===j)return z(!1);E=null,w=c,k=j,s=Zt(c);var R=c.nextElementSibling,F=!1;F=1===j;var H=Nt(i,l,t,o,c,s,n,F);if(!1!==H)return 1!==H&&-1!==H||(F=1===H),tt=!0,U(Lt,30),b?m._hideClone():m._showClone(this),F&&!R?l.appendChild(t):c.parentNode.insertBefore(t,F?R:c),M&&ft(M,0,I-M.scrollTop),e=t.parentNode,void 0===P||L||(x=nt(P-Zt(c)[D])),V(),z(!0)}if(l.contains(t))return z(!1)}return!1}function z(e){return e&&(b?m._hideClone():m._showClone(g),m&&(Et(t,v?v.options.ghostClass:m.options.ghostClass,!1),Et(t,p.ghostClass,!0)),v!==g&&g!==Ct.active?v=g:g===Ct.active&&(v=null),o&&g._animate(o,t),c&&s&&g._animate(s,c)),(c===t&&!t.animated||c===l&&!c.animated)&&(w=null),p.dragoverBubble||n.rootEl||c===B||(g._handleAutoScroll(n),t.parentNode[$]._computeIsAligned(n),!e&&_t(n)),!p.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),!0}function V(){Tt(g,i,"change",c,l,i,u,Ut(t),f,Ut(t,p.draggable),n)}},_animate:function(e,n){var o=this.options.animation;if(o){var i=Zt(n);if(n===t&&(E=i),1===e.nodeType&&(e=Zt(e)),e.left+e.width/2!==i.left+i.width/2||e.top+e.height/2!==i.top+i.height/2){var r=jt(this.el),s=r&&r.a,a=r&&r.d;Pt(n,"transition","none"),Pt(n,"transform","translate3d("+(e.left-i.left)/(s||1)+"px,"+(e.top-i.top)/(a||1)+"px,0)"),this._repaint(n),Pt(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Pt(n,"transform","translate3d(0,0,0)")}"number"===typeof n.animated&&clearTimeout(n.animated),n.animated=U((function(){Pt(n,"transition",""),Pt(n,"transform",""),n.animated=!1}),o)}},_repaint:function(t){return t.offsetWidth},_offMoveEvents:function(){At(B,"touchmove",this._onTouchMove),At(B,"pointermove",this._onTouchMove),At(B,"dragover",_t),At(B,"mousemove",_t),At(B,"touchmove",_t)},_offUpEvents:function(){var t=this.el.ownerDocument;At(t,"mouseup",this._onDrop),At(t,"touchend",this._onDrop),At(t,"pointerup",this._onDrop),At(t,"touchcancel",this._onDrop),At(B,"selectstart",this)},_onDrop:function(s){var a=this.el,l=this.options;S=!1,j=!1,L=!1,q=!1,clearInterval(this._loopId),clearInterval(m),ht(),zt(),clearTimeout(this._dragStartTimer),Gt(this._cloneId),Gt(this._dragStartId),At(B,"mousemove",this._onTouchMove),this.nativeDraggable&&(At(B,"drop",this),At(a,"dragstart",this._onDragStart),At(B,"dragover",this._handleAutoScroll),At(B,"dragover",mt)),K&&Pt(B.body,"user-select",""),this._offMoveEvents(),this._offUpEvents(),s&&(C&&(s.cancelable&&s.preventDefault(),!l.dropBubble&&s.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),(i===e||v&&"clone"!==v.lastPutMode)&&o&&o.parentNode&&o.parentNode.removeChild(o),t&&(this.nativeDraggable&&At(t,"dragend",this),qt(t),t.style["will-change"]="",Et(t,v?v.options.ghostClass:this.options.ghostClass,!1),Et(t,this.options.chosenClass,!1),Tt(this,i,"unchoose",t,e,i,u,null,f,null,s),i!==e?(p=Ut(t),d=Ut(t,l.draggable),p>=0&&(Tt(null,e,"add",t,e,i,u,p,f,d,s),Tt(this,i,"remove",t,e,i,u,p,f,d,s),Tt(null,e,"sort",t,e,i,u,p,f,d,s),Tt(this,i,"sort",t,e,i,u,p,f,d,s)),v&&v.save()):t.nextSibling!==r&&(p=Ut(t),d=Ut(t,l.draggable),p>=0&&(Tt(this,i,"update",t,e,i,u,p,f,d,s),Tt(this,i,"sort",t,e,i,u,p,f,d,s))),Ct.active&&(null!=p&&-1!==p||(p=u,d=f),Tt(this,i,"end",t,e,i,u,p,f,d,s),this.save()))),this._nulling()},_nulling:function(){i=t=e=n=r=o=s=a=l=P.length=m=b=y=g=_=C=p=u=w=k=E=v=h=Ct.active=null,rt.forEach((function(t){t.checked=!0})),rt.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":t&&(this._onDragOver(e),Ot(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)t=n[o],wt(t,r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||Rt(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach((function(t,o){var i=n.children[o];wt(i,this.options.draggable,n,!1)&&(e[t]=i)}),this),t.forEach((function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return wt(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];n[t]=e,"group"===t&&vt(n)},destroy:function(){var t=this.el;t[$]=null,At(t,"mousedown",this._onTapStart),At(t,"touchstart",this._onTapStart),At(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(At(t,"dragover",this),At(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),N.splice(N.indexOf(this.el),1),this.el=t=null},_hideClone:function(){o.cloneHidden||(Pt(o,"display","none"),o.cloneHidden=!0,o.parentNode&&this.options.removeCloneOnHide&&o.parentNode.removeChild(o))},_showClone:function(e){"clone"===e.lastPutMode?o.cloneHidden&&(i.contains(t)&&!this.options.group.revertClone?i.insertBefore(o,t):r?i.insertBefore(o,r):i.appendChild(o),this.options.group.revertClone&&this._animate(t,o),Pt(o,"display",""),o.cloneHidden=!1):this._hideClone()}},xt(B,"touchmove",(function(t){(Ct.active||S)&&t.cancelable&&t.preventDefault()})),Ct.utils={on:xt,off:At,css:Pt,find:St,is:function(t,e){return!!wt(t,e,t,!1)},extend:Vt,throttle:Ht,closest:wt,toggleClass:Et,clone:Yt,index:Ut,nextTick:Kt,cancelNextTick:Gt,detectDirection:st,getChild:Dt},Ct.create=function(t,e){return new Ct(t,e)},Ct.version="1.9.0",Ct}))}).call(this,n("62e4")(t))},"4a30":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"popup__content"},[n("div",{staticClass:"h1 mb8"},[t._v("Приехать...")]),n("div",{staticClass:"row-b mt40"},[n("div",{staticClass:"row-b__col elem-pos-fit"},[n("input-styled",{attrs:{name:"where","is-error":t.where.error,placeholder:"Приехать к нам в...","placeholder-input":"Например, «наш офис» или «любой из наших магазинов»"},on:{focus:function(e){t.where.error=!1}},model:{value:t.where.value,callback:function(e){t.$set(t.where,"value",e)},expression:"where.value"}})],1)]),0===t.otherAddresses.length?n("div",{staticClass:"row-b mt32"},[n("div",{staticClass:"row-b__col elem-pos-fit"},[n("input-styled",{attrs:{name:"address","is-error":t.address.error,placeholder:"По адресу...","placeholder-input":"Укажите полный адрес"},on:{focus:function(e){t.address.error=!1}},model:{value:t.address.value,callback:function(e){t.$set(t.address,"value",e)},expression:"address.value"}})],1)]):t._e(),0===t.otherAddresses.length?n("div",{staticClass:"row-b mt32"},[n("div",{staticClass:"row-b__col elem-pos-fit"},[n("input-styled",{attrs:{name:"operation","is-error":t.operation.error,placeholder:"Режим работы","placeholder-input":"Например, «в любой будний день с 9:00 до 21:00»"},on:{focus:function(e){t.operation.error=!1}},model:{value:t.operation.value,callback:function(e){t.$set(t.operation,"value",e)},expression:"operation.value"}})],1)]):t._e(),t.otherAddresses.length>0?n("div",{staticClass:"construct-use-address",staticStyle:{position:"relative"}},[n("div",{staticClass:"el"},[n("input-styled",{attrs:{name:"address","is-error":t.address.error,placeholder:"По адресу...","placeholder-input":"Укажите полный адрес"},on:{focus:function(e){t.address.error=!1}},model:{value:t.address.value,callback:function(e){t.$set(t.address,"value",e)},expression:"address.value"}})],1),n("div",{staticClass:"el"},[n("input-styled",{attrs:{name:"operation","is-error":t.operation.error,placeholder:"Режим работы","placeholder-input":"Например, «в любой будний день с 9:00 до 21:00»"},on:{focus:function(e){t.operation.error=!1}},model:{value:t.operation.value,callback:function(e){t.$set(t.operation,"value",e)},expression:"operation.value"}})],1),n("div",{staticClass:"construct-use-address__l"},[n("span",{staticClass:"del",on:{click:function(e){return t.delAddress()}}},[n("span",{staticClass:"i i-close2"})])])]):t._e(),t._l(t.otherAddresses,(function(e,o){return n("div",{staticClass:"construct-use-address",staticStyle:{position:"relative"}},[n("div",{staticClass:"el"},[n("input-styled",{attrs:{"is-error":e.address.error,placeholder:"По адресу...","placeholder-input":"Укажите полный адрес"},on:{focus:function(t){e.address.error=!1}},model:{value:e.address.value,callback:function(n){t.$set(e.address,"value",n)},expression:"item.address.value"}})],1),n("div",{staticClass:"el"},[n("input-styled",{attrs:{"is-error":e.operation.error,placeholder:"Режим работы","placeholder-input":"Например, «в любой будний день с 9:00 до 21:00»"},on:{focus:function(t){e.operation.error=!1}},model:{value:e.operation.value,callback:function(n){t.$set(e.operation,"value",n)},expression:"item.operation.value"}})],1),n("div",{staticClass:"construct-use-address__l"},[n("span",{staticClass:"del",on:{click:function(n){return t.delOtherAddress(e.num)}}},[n("span",{staticClass:"i i-close2"})])]),t.otherAddresses.length>0&&+o+1===t.otherAddresses.length?n("a",{staticClass:"construct-use-add-address",attrs:{href:"javascript:void(0)"},on:{click:t.addAddress}},[t._v("Добавить ещё один адрес")]):t._e()])})),n("div",{staticClass:"row-b mt32"},[n("div",{staticClass:"row-b__col elem-pos-fit",staticStyle:{position:"relative"}},[n("input-styled",{attrs:{"is-error":t.target.error,placeholder:"Чтобы...","placeholder-input":"Например, «посмотреть образцы» или «заключить договор»"},on:{focus:function(e){t.target.error=!1}},model:{value:t.target.value,callback:function(e){t.$set(t.target,"value",e)},expression:"target.value"}}),0===t.otherAddresses.length?n("a",{staticClass:"construct-use-add-address",attrs:{href:"javascript:void(0)"},on:{click:t.addAddress}},[t._v("Добавить ещё один адрес")]):t._e()],1)]),n("div",{staticClass:"construct-use-preview"},[n("div",{staticClass:"title"},[t._v("Проверьте, как считывается текст:")]),0===t.otherAddresses.length?n("div",{staticClass:"text"},[n("div",{staticClass:"text-bold"},[t._v("Чтобы воспользоваться скидкой, нужно:")]),n("ol",[n("li",[t._v("Оформить купон")]),n("li",[t._v("\n                        Приехать к нам в\n                        "),0===t.where.value.length?n("span",[t._v("...")]):n("span",[t._v(t._s(t.where.value))]),t._v("\n                        по адресу\n                        "),0===t.address.value.length?n("span",[t._v("...")]):n("span",[t._v(t._s(t.address.value)+" "),t.operation.value.length>0?n("span",[t._v("("+t._s(t.operation.value)+")")]):t._e()]),t._v(", чтобы\n                        "),0===t.target.value.length?n("span",[t._v("...")]):n("span",[t._v(t._s(t.target.value))])])])]):n("div",{staticClass:"text"},[n("div",{staticClass:"text-bold"},[t._v("Чтобы воспользоваться скидкой, нужно:")]),n("ol",[n("li",[t._v("Оформить купон")]),n("li",[t._v("\n                        Приехать к нам в\n                        "),0===t.where.value.length?n("span",[t._v("...")]):n("span",[t._v(t._s(t.where.value))]),t._v("\n                        по любому из указанных адресов, чтобы\n                        "),0===t.target.value.length?n("span",[t._v("...")]):n("span",[t._v(t._s(t.target.value))]),t._v(":"),n("br"),n("ul",{staticClass:"no-disc"},[0===t.address.value.length?n("li",[t._v("• ...")]):n("li",[t._v("• "+t._s(t.address.value)+" "),t.operation.value.length>0?n("span",[t._v("("+t._s(t.operation.value)+")")]):t._e()]),t._l(t.otherAddresses,(function(e){return n("li",[t._v("• "+t._s(e.address.value)+" ("+t._s(e.operation.value)+")")])}))],2)])])])]),n("div",{staticClass:"row-b mt32"},[n("div",{staticClass:"row-b__col elem-pos-fix mr24"},[n("submit-btn",{staticClass:"btn mr32",attrs:{tag:"button",type:t.buttonSave},nativeOn:{click:function(e){return t.save(e)}}},[t._v("\n                    Продолжить\n                ")]),n("button",{staticClass:"btn btn--grey",on:{click:t.close}},[t._v("Отмена")])],1),n("div",{staticClass:"row-b__col elem-pos-fit"})])],2)])},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("7f7f"),n("bd86")),s=n("2f62"),a=n("b10c"),l=n("557e");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p={name:"ConstructActionCome",components:{InputStyled:a["a"],SubmitBtn:l["a"]},props:{fields:{otherAddresses:[],where:"",address:"",operation:"",target:""}},data:function(){return{otherAddresses:[],buttonSave:"normal",where:{value:"",error:!1},address:{value:"",error:!1},operation:{value:"",error:!1},target:{value:"",error:!1}}},created:function(){for(var t in this.fields)if("otherAddresses"===t)for(var e in this[t]=[],this.fields[t])this[t].push({address:u({},this.fields[t][e].address),operation:u({},this.fields[t][e].operation),num:this.fields[t][e].num,coord:u({},this.fields[t][e].coord)});else void 0!==this[t]&&(this[t].value=this.fields[t].value)},methods:{addAddress:function(){var t=this.otherAddresses.length+1;this.otherAddresses.push({address:{value:"",error:!1},operation:{value:"",error:!1},num:t}),this.$emit("resize")},save:function(){var t=this;for(var e in this.where.error=!1,this.address.error=!1,this.operation.error=!1,this.target.error=!1,this.otherAddresses)this.otherAddresses[e].address.error=!1,this.otherAddresses[e].operation.error=!1;var n=0;this.where.value.length<3&&(setTimeout((function(){t.where.error=!0}),150),n++),this.address.value.length<5&&(setTimeout((function(){t.address.error=!0}),150),n++),this.operation.value.length<5&&(setTimeout((function(){t.operation.error=!0}),150),n++),this.target.value.length<5&&(setTimeout((function(){t.target.error=!0}),150),n++);var o=function(e){t.otherAddresses[e].address.value.length<5&&(setTimeout((function(){t.otherAddresses[e].address.error=!0}),150),n++),t.otherAddresses[e].operation.value.length<5&&(setTimeout((function(){t.otherAddresses[e].operation.error=!0}),150),n++)};for(var i in this.otherAddresses)o(i);0===n&&(this.buttonSave="load",this.$store.dispatch("partnerActions/getCoord",{address:this.address.value,otherAddresses:this.otherAddresses}).then((function(e){for(var n in t.buttonSave="ok",t.otherAddresses)t.otherAddresses[n].coord={value:e.otherAddresses.shift()};setTimeout((function(){t.$emit("save",{coord:{value:e.address},where:t.where,address:t.address,operation:t.operation,target:t.target,otherAddresses:t.otherAddresses}),t.$store.commit("popups/close",{name:t.popups.constructActionComeUs.name}),t.buttonSave="normal"}),300)}),(function(){t.buttonSave="normal"})))},delAddress:function(){var t=this.otherAddresses.shift();this.address.value=t.address.value,this.operation.value=t.operation.value},delOtherAddress:function(t){for(var e in this.otherAddresses)this.otherAddresses[e].num===t&&this.otherAddresses.splice(e,1);var n=1;for(var o in this.otherAddresses)this.otherAddresses[o].num=n,n++;this.$emit("resize")},close:function(){this.$store.commit("popups/close",{name:this.popups.constructActionComeUs.name})}},computed:u({},Object(s["b"])({popups:function(t){return t.popups.items}}))},f=p,d=n("2877"),h=Object(d["a"])(f,o,i,!1,null,"f1d05050",null);e["a"]=h.exports},"4c1e":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"popup__content"},[n("div",{staticClass:"h1 mb8"},[t._v("Позвонить...")]),n("div",{staticClass:"row-b mt40"},[n("div",{staticClass:"row-b__col elem-pos-fix",staticStyle:{width:"296px","min-width":"296px"}},[n("input-styled",{attrs:{name:"phoneCall",mask:t.masks.phone,"is-block-arrow-phone":!0,"is-error":t.phone.error,placeholder:"По телефону...","placeholder-input":""},on:{focus:function(e){t.phone.error=!1,t.phoneFocus=!0},blur:function(e){t.phoneFocus=!1}},model:{value:t.phone.value,callback:function(e){t.$set(t.phone,"value",e)},expression:"phone.value"}})],1),n("div",{staticClass:"row-b__col elem-pos-fit",class:{"--active":t.phoneFocus}},[n("div",{staticClass:"construct-form__note",class:{error:t.phone.error}},[t._v("Для работы с ZemSkidki.ru лучше завести отдельный номер телефона,\n                    "),n("br"),t._v(" чтобы при звонке на него вы сразу понимали – это заказ от нас. Этот "),n("br"),t._v(" номер будет доступен покупателю только после оформления купона.")])])]),n("div",{staticClass:"row-b mt40"},[n("div",{staticClass:"row-b__col elem-pos-fit"},[n("input-styled",{attrs:{name:"operation","is-error":t.operation.error,placeholder:"Режим работы","placeholder-input":"Например, «в любой будний день с 9:00 до 21:00»"},on:{focus:function(e){t.operation.error=!1}},model:{value:t.operation.value,callback:function(e){t.$set(t.operation,"value",e)},expression:"operation.value"}})],1)]),n("div",{staticClass:"row-b mt40"},[n("div",{staticClass:"row-b__col elem-pos-fit"},[n("input-styled",{attrs:{name:"target","is-error":t.target.error,placeholder:"Суть звонка...","placeholder-input":"Например, «заранее узнать стоимость» или «вызвать замерщика»..."},on:{focus:function(e){t.target.error=!1}},model:{value:t.target.value,callback:function(e){t.$set(t.target,"value",e)},expression:"target.value"}})],1)]),n("div",{staticClass:"construct-use-preview"},[n("div",{staticClass:"title"},[t._v("Проверьте, как считывается текст:")]),n("div",{staticClass:"text"},[n("div",{staticClass:"text-bold"},[t._v("Чтобы воспользоваться скидкой, нужно:")]),n("ol",[n("li",[t._v("Оформить купон")]),n("li",[t._v("Позвонить нам по телефону "),n("span",[t._v(t._s(t.phone.value?t.phone.value:"..."))]),n("span",[t._v(t._s(t.operation.value?" ("+t.operation.value+")":""))]),t._v(", чтобы "),n("span",[t._v(t._s(t.target.value?t.target.value:"..."))])])])])]),n("div",{staticClass:"row-b mt32"},[n("div",{staticClass:"row-b__col elem-pos-fix mr24"},[n("button",{staticClass:"btn mr32",on:{click:t.save}},[t._v("Продолжить")]),n("button",{staticClass:"btn btn--grey",on:{click:t.close}},[t._v("Отмена")])]),n("div",{staticClass:"row-b__col elem-pos-fit"})])])])},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),s=(n("7f7f"),n("2f62")),a=n("b10c"),l=n("004b");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p={name:"ConstructActionCallUs",components:{InputStyled:a["a"]},props:{phoneProp:"",operationProp:"",targetProp:""},data:function(){return{phone:{value:"",error:!1},operation:{value:"",error:!1},target:{value:"",error:!1},phoneFocus:!1}},created:function(){this.phone.value=this.phoneProp.value?this.phoneProp.value:"",this.operation.value=this.operationProp.value?this.operationProp.value:"",this.target.value=this.targetProp.value?this.targetProp.value:""},methods:{save:function(){var t=this;this.phone.error=!1,this.operation.error=!1,this.target.error=!1;var e=0;Object(l["a"])(this.phone.value)||(setTimeout((function(){t.phone.error=!0}),150),e++),this.operation.value.length<5&&(setTimeout((function(){t.operation.error=!0}),150),e++),this.target.value.length<5&&(setTimeout((function(){t.target.error=!0}),150),e++),0===e&&(this.$emit("save",{phone:this.phone,operation:this.operation,target:this.target}),this.$store.commit("popups/close",{name:this.popups.constructActionCallUs.name}))},close:function(){this.$store.commit("popups/close",{name:this.popups.constructActionCallUs.name})}},computed:u({},Object(s["b"])({popups:function(t){return t.popups.items},masks:function(t){return t.masks.items}})),beforeDestroy:function(){this.$store.commit("popups/close",{name:this.popups.constructActionCallUs.name})}},f=p,d=n("2877"),h=Object(d["a"])(f,o,i,!1,null,"049f4d52",null);e["a"]=h.exports},"53ec":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"popup__header mb"},["cooperation"===t.$route.name?n("div",{staticClass:"title"},[t._v("Польза от вашего предложения слишком мала")]):n("div",{staticClass:"title"},[t._v("Польза от вашей акции слишком мала")])]),n("div",{staticClass:"popup__content mt24"},[n("p",{staticClass:"text-size-ml"},[t._v("Разница между обычной и эксклюзивной скидкой составляет всего \n            "),n("strong",[t._v(t._s(t.discountSumUser)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])]),t._v(". \n            "),n("br"),t._v("\n            Это несерьёзно, должно быть "),n("b",[t._v("минимум "+t._s(t.options.cooperationProfit)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))]),t._v(".")])]),n("p",{staticClass:"text-size-ml mt24"},[t._v("Как мы это посчитали?")]),n("ul",{staticClass:"ul-disc-small mt16"},[n("li",[t._v("Средний чек в вашей компании составляет "+t._s(t.number_format(t.average))+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])]),n("li",[t._v("Максимальная скидка для розничного покупателя составляет "+t._s(t.discountSumRetail)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))]),t.discount.toString().length>0?n("span",[t._v("("),n("span",{domProps:{innerHTML:t._s(t.discount)}}),t._v("%)")]):t._e()]),n("li",[t._v("Для нас вы готовы сделать эксклюзивную скидку "),n("span",{domProps:{innerHTML:t._s(t.projectDiscount)}}),t._v("% (из которых "+t._s(t.options.ourDiscount)+"% – это комиссия проекта)")]),n("li",[t._v("В результате покупатель получит скидку "+t._s(t.discountSum)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))]),t._v(" ("),n("span",{domProps:{innerHTML:t._s(t.projectDiscount-t.options.ourDiscount)}}),t._v("%)")]),n("li",[t._v("Разница между обычной и эксклюзивной скидкой составит "),n("b",[t._v("всего "+t._s(t.discountSumUser)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])])]),n("li",[t._v("А нам бы хотелось, чтобы польза от нашего проекта составляла "),n("b",[t._v("не менее "+t._s(t.options.cooperationProfit)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])])])])]),n("div",{staticClass:"mt32"},[n("button",{staticClass:"btn btn--white-red",staticStyle:{"min-width":"328px"},on:{click:function(e){return t.close()}}},[t._v("Предложить более солидную скидку")])])])},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),s=(n("7f7f"),n("2f62")),a=n("516f"),l=n("69db");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p={name:"CooperationCancelSmallPriceOne",components:{Popup:a["a"]},props:{average:{default:function(){return{}}},discount:{default:function(){return{}}},projectDiscount:{default:function(){return{}}}},methods:{close:function(){this.$emit("close"),this.$store.commit("popups/close",{name:this.popups.cooperationCancelSmallPriceOne.name})},number_format:function(t){return Object(l["b"])(t,0,""," ")}},computed:u({},Object(s["b"])({popups:function(t){return t.popups.items},options:function(t){return t.options.items}}),{discountSumRetail:function(){var t=this.average*this.discount/100;return Object(l["b"])(t>0?t:0,0,""," ")},discountSumUser:function(){var t=this.average*(this.projectDiscount-this.discount-this.options.ourDiscount)/100;return Object(l["b"])(t>0?t:0,0,""," ")},discountSum:function(){var t=this.average*(this.projectDiscount-this.options.ourDiscount)/100;return Object(l["b"])(t>0?t:0,0,""," ")}})},f=p,d=(n("c831"),n("2877")),h=Object(d["a"])(f,o,i,!1,null,"35a0852a",null);e["a"]=h.exports},"555f":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"loader"},[o("img",{attrs:{src:n("779d"),alt:"preloader"}})])}],r={name:"Loader"},s=r,a=n("2877"),l=Object(a["a"])(s,o,i,!1,null,null,null);e["a"]=l.exports},5675:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inp-s-wrap full",class:{"--icon":t.isEdit||t.isValidate||t.isClearBtn,active:t.showLabel,"inp-disabled":t.disabled}},[n("span",{staticClass:"inp-s-label",class:{error:t.isError}},[t._v(t._s(t.placeholder))]),n("input",{directives:[{name:"mask",rawName:"v-mask",value:t.maskPrice,expression:"maskPrice"}],ref:"field",staticClass:"inp-s",class:{error:t.isError,disabled:t.disabled},attrs:{type:t.type,id:t.inputId,placeholder:t.showPlaceholder?t.placeholderInput:"",disabled:t.disabled,name:t.nameInput,autocomplete:t.fieldAutocomplete},domProps:{value:t.value},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enter()},focus:function(e){return t.setFocus(!0)},blur:function(e){return t.setFocus(!1)},input:t.updateValue}}),t.isClearBtn?n("span",{staticClass:"field-clear__btn",on:{click:t.clear}},[n("span",{staticClass:"i i-close2"})]):t._e(),t.isError?n("span",{staticClass:"inp-s-error"},[t._v(t._s(t.errorText))]):t._e(),n("span",{staticClass:"inp-s-icon"},[t.isEdit?n("span",{staticClass:"i i-pencil2 --edit",on:{click:t.edit}}):t._e(),t.isValidate?n("span",{staticClass:"i i-ok2",on:{click:t.check}}):t._e()])])},i=[],r=(n("7f7f"),n("6b54"),n("69db"),{name:"InputPrice",props:{max:{default:9999999},value:{default:""},placeholder:{default:""},placeholderInput:{default:""},inputId:{default:""},disabled:{default:!1},name:{default:"name"},isError:{default:!1},isEdit:{default:!1},isValidate:{default:!1},errorText:{default:""},mask:{default:""},isClearBtn:{default:!1},fieldAutocomplete:{default:"nope"}},data:function(){return{type:"text",focus:!1,showPlaceholder:!1,nameInput:""}},computed:{showLabel:function(){return this.focus||this.value.toString().length>0},maskPrice:function(){return this.$store.getters["masks/price"]}},mounted:function(){"name"!==this.name?this.nameInput=this.name:this.nameInput=Math.random().toString(36).substr(2,5)},methods:{updateValue:function(t){this.$emit("input",+t.target.value<this.max?t.target.value:this.max.toString())},enter:function(){this.$emit("enter")},check:function(){this.$emit("check")},clear:function(){this.$refs.field.focus(),this.$emit("input","")},setFocus:function(t){var e=this;t=t||!1,this.focus=t,t?(this.$emit("focus"),setTimeout((function(){e.showPlaceholder=!0}),50)):(this.$refs.field.value=this.value.trim(),this.$emit("blur"),this.showPlaceholder=!1)},edit:function(){this.$emit("edit")}}}),s=r,a=n("2877"),l=Object(a["a"])(s,o,i,!1,null,null,null);e["a"]=l.exports},"5b05":function(t,e,n){},"5b30":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.show&&t.cities.size>0&&-1!==t.user.permission.indexOf(6)?n("action-editor"):t._e(),t.user.permission.length>0&&-1===t.user.permission.indexOf(6)?n("div",{staticClass:"content"},[t._m(0),t._m(1)]):t._e()],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-title"},[n("div",{staticClass:"main-title__wrap main-title--nowrap"},[n("div",{staticClass:"h1"},[t._v("Конструктор акции")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"container"},[n("div",{staticClass:"container__full"},[n("div",{staticClass:"wrapper-content"},[n("div",{staticClass:"sect-blank"},[n("div",{staticClass:"wrap text-center"},[n("div",{staticClass:"text-size-l text-bolder text-color-red mt16"},[t._v("\n                                У вас нет прав "),n("br"),t._v(" доступа в этот раздел\n                            ")])])])])])])}],r=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),s=n("2f62"),a=n("bc03");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={metaInfo:function(){return{title:"Конструктор акции",titleTemplate:this.$store.state.options.titleTemplate}},name:"ActionEdit",components:{ActionEditor:a["a"]},data:function(){return{show:!1}},computed:c({},Object(s["b"])({cities:function(t){return t.cities.items},user:function(t){return t.users.user}})),created:function(){var t=this,e=this;if("new"===this.$route.params.id)this.$store.dispatch("partnerActions/initCreate").then((function(){e.show=!0}));else if(this.cities.size>0)this.$store.dispatch("partnerActions/initEdit",{route:this.$route}).then((function(){t.$store.dispatch("partnerActions/setForm",{route:t.$route}).then((function(){e.show=!0}))}));else var n=this.$store.subscribe((function(o,i){"cities/setItems"===o.type&&(t.$store.dispatch("partnerActions/initEdit",{route:t.$route}).then((function(){t.$store.dispatch("partnerActions/setForm",{route:t.$route}).then((function(){e.show=!0}))})),n())}))}},p=u,f=n("2877"),d=Object(f["a"])(p,o,i,!1,null,null,null);e["default"]=d.exports},"5d73":function(t,e,n){t.exports=n("469f")},"61d2":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popup-coupon-stat"},[n("div",{staticClass:"h1 text-color-grey"},[t._v("Статистика акции")]),n("div",{staticClass:"coupon"},[n("router-link",{staticClass:"coupon__link",attrs:{to:"/partner/coupons/id"+t.action.id}}),n("div",{staticClass:"coupon__wrap"},[t.action.image?n("div",{staticClass:"coupon__img",style:{backgroundImage:"url(//api.zemskidki.ru/"+t.action.image+")"}}):n("div",{staticClass:"coupon__img"},[t._m(0)]),n("div",{staticClass:"coupon__content"},[n("div",{staticClass:"top"},[n("div",{staticClass:"coupon__company",domProps:{innerHTML:t._s(t.partner.name)}})]),n("div",{staticClass:"coupon__name",domProps:{innerHTML:t._s(t.action.name)}}),n("div",{staticClass:"w"},[n("div",{staticClass:"coupon__economy"},[n("div",{staticClass:"t"},[t._v("\n                            Экономия\n                            \n                            "),n("tooltip",{attrs:{direction:"bottom-right-direction","add-class-wrap":"dib mt-2","add-style":{width:"376px"}}},[n("span",{staticClass:"i i-question3 icon-btn",attrs:{slot:"tooltipBtn"},slot:"tooltipBtn"}),n("div",{attrs:{slot:"tooltipContent"},slot:"tooltipContent"},[n("p",[n("strong",[t._v("Как рассчитывается экономия? Очень просто:")])]),n("ul",{staticClass:"ul-disc-small"},[n("li",[t._v("Средний чек у данного поставщика составляет "+t._s(t.action.averageCheckFormat)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])]),n("li",[t._v("Предоставляемая скидка составляет "+t._s(t.action.discountFrom)+"%")]),n("li",[t._v(t._s(t.action.discountFrom)+"% от "+t._s(t.action.averageCheckFormat)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))]),t._v(" – это примерно "+t._s(t.action.realSavingsFormat)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])])]),n("p",[t._v("То есть, при обращении к данному поставщику экономия обычно составляет ≈"+t._s(t.action.realSavingsFormat)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])])])])],1),t.action.realSavingsFormat?n("div",{staticClass:"p"},[t._v("\n                            "+t._s(t.action.realSavingsFormat)+"\n                            "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])]):n("div",{staticClass:"p"},[t._v("\n                            ?\n                        ")])]),t.action.averageCheckFormat?n("div",{staticClass:"coupon__info"},[t._v("\n                        Средний чек\n                        "+t._s(t.action.averageCheckFormat)+"\n                        "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))]),t._v(",\n\n                        скидка\n                        "),t.action.instrumentAction?n("span",{staticClass:"n --text"},[t._v("Бесплатная "),n("br"),t._v(" доставка")]):n("span",{staticClass:"n"},[t._v(t._s(t.action.discountFrom)+"%")])]):n("div",{staticClass:"coupon__info"},[t._v("\n                        Средний чек\n                        ?,\n                        скидка\n                        "),n("span",{staticClass:"n"},[t._v("?")])])]),n("div",{staticClass:"coupon__stat"},[t.action.city?n("span",{staticClass:"elem"},[n("span",{staticClass:"i i-marker3"}),n("span",{staticClass:"t"},[t._v(t._s(t.getCitiesName(t.action.city)))])]):t._e(),n("span",{staticClass:"elem --views"},[n("span",{staticClass:"i i-eye"}),n("span",{staticClass:"t"},[t._v(t._s(t.action.showCounterFormat))])]),t.action.statistics&&t.action.statistics.sold>0?n("span",{staticClass:"elem --buy"},[n("span",{staticClass:"i i-cart"}),n("span",{staticClass:"t"},[t._v(t._s(t.action.statistics.sold))])]):t._e()])])])],1),n("div",{staticClass:"coupon-details__stat"},[n("div",{staticClass:"col-left"},[n("div",{staticClass:"coupon-details__stat-row"},[n("div",{staticClass:"line"},[n("div",{staticClass:"l"},[t._v("Оформлено")]),n("div",{staticClass:"r"},[t._v(t._s(t.action.statistics.sold))])]),n("div",{staticClass:"n"},[t._v("Общее количество купонов")])]),n("div",{staticClass:"coupon-details__stat-row"},[n("div",{staticClass:"line"},[n("div",{staticClass:"l"},[t._v("Использовано")]),n("div",{staticClass:"r"},[t._v(t._s(t.action.statistics.ext))])]),n("div",{staticClass:"n"},[t._v("Купоны, по которым получена обещанная скидка")])]),n("div",{staticClass:"coupon-details__stat-row"},[n("div",{staticClass:"line"},[n("div",{staticClass:"l"},[t._v("Ждут своего часа")]),n("div",{staticClass:"r"},[t._v(t._s(t.action.statistics.valid))])]),n("div",{staticClass:"n"},[t._v("Оформленные, но еще не использованные купоны")])]),n("div",{staticClass:"coupon-details__stat-row"},[n("div",{staticClass:"line"},[n("div",{staticClass:"l"},[t._v("Аннулировано поставщиком")]),n("div",{staticClass:"r"},[t._v(t._s(t.action.statistics.canceledProvider))])]),n("div",{staticClass:"n"},[t._v("Купоны, которые отозвал поставщик")])]),n("div",{staticClass:"coupon-details__stat-row"},[n("div",{staticClass:"line"},[n("div",{staticClass:"l"},[t._v("Аннулировано модератором")]),n("div",{staticClass:"r"},[t._v(t._s(t.action.statistics.canceledModerator))])]),n("div",{staticClass:"n"},[t._v("Купоны, отозванные нами")])]),n("div",{staticClass:"coupon-details__stat-row"},[n("div",{staticClass:"line"},[n("div",{staticClass:"l"},[t._v("Отменено")]),n("div",{staticClass:"r"},[t._v(t._s(t.action.statistics.withdrawn))])]),n("div",{staticClass:"n"},[t._v("Купоны, от которых отказались сами покупатели")])])]),n("div",{staticClass:"col-right"},[n("div",{staticClass:"coupon-details__stat-card"},[t._m(1),n("div",{staticClass:"t"},[t._v("\n                    Всего сэкономлено\n                ")]),n("div",{staticClass:"d"},[t._v(t._s(t.action.statistics.sumFormat)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])]),0===+t.action.statistics.ext?n("div",{staticClass:"n"},[t._v("потому что погашено "+t._s(t.action.statistics.ext)+" купонов")]):n("div",{staticClass:"n"},[t._v("после погашения "+t._s(t.action.statistics.ext)+" "+t._s(t.declOfNumber(t.action.statistics.ext,["купона","купонов","купонов"])))])]),t._e(),n("div",{staticClass:"coupon-details__stat-card"},[t._m(3),n("div",{staticClass:"t"},[t._v("\n                    На сайте\n                ")]),n("div",{staticClass:"d"},[t._v(t._s(t.action.dateDiff))]),n("div",{staticClass:"n"},[t._v("Опубликовано "+t._s(t.action.dateStatus))])])])])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"coupon__img__empty"},[n("span",{staticClass:"icon"},[n("span",{staticClass:"i i-photo"})]),n("span",{staticClass:"t"},[t._v("нет фото")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon"},[n("span",{staticClass:"i i-discount2"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon"},[n("span",{staticClass:"i i-trophy",staticStyle:{transform:"scale(1.25)"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon"},[n("span",{staticClass:"i i-calendar"})])}],r=(n("8e6e"),n("ac6a"),n("456d"),n("75fc")),s=(n("7514"),n("7f7f"),n("bd86")),a=n("2f62"),l=n("1f24"),c=n("69db");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={name:"PartnerCouponsStat",components:{Tooltip:l["a"]},props:{action:{default:function(){return{}}}},data:function(){return{}},mounted:function(){},computed:p({},Object(a["b"])({popups:function(t){return t.popups.items},cities:function(t){return t.cities.items},partner:function(t){return t.partner.current}})),methods:{closePartnerCouponsRemove:function(){this.$store.commit("popups/close",{name:this.popups.partnerCouponsRemove.name})},getCitiesName:function(t){var e=this,n="";if(0===t.length)return"Не выбрано";var o=1,i=function(i){var s=Object(r["a"])(e.cities).find((function(e){return e.xmlId===t[i]}));if(void 0!==s){if(o>3)return"break";o<3&&o<t.length?(n+=s.name+", ",o++):(3===o||o===t.length&&t.length<3)&&(n+=s.name,o++)}};for(var s in t){var a=i(s);if("break"===a)break}return t.length>3&&(n+=" + ещё "+(t.length-3)),n},declOfNumber:function(t,e){return Object(c["a"])(t,e)}}},d=f,h=n("2877"),v=Object(h["a"])(d,o,i,!1,null,null,null);e["a"]=v.exports},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"6a88":function(t,e,n){"use strict";var o=n("3adf"),i=n.n(o);i.a},"768b":function(t,e,n){"use strict";var o=n("a745"),i=n.n(o);function r(t){if(i()(t))return t}var s=n("5d73"),a=n.n(s),l=n("c8bb"),c=n.n(l);function u(t,e){if(c()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],o=!0,i=!1,r=void 0;try{for(var s,l=a()(t);!(o=(s=l.next()).done);o=!0)if(n.push(s.value),e&&n.length===e)break}catch(u){i=!0,r=u}finally{try{o||null==l["return"]||l["return"]()}finally{if(i)throw r}}return n}}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function f(t,e){return r(t)||u(t,e)||p()}n.d(e,"a",(function(){return f}))},"7d7b":function(t,e,n){var o=n("e4ae"),i=n("7cd6");t.exports=n("584a").getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return o(e.call(t))}},"84c2":function(t,e,n){"use strict";var o=n("bc73"),i=n.n(o);i.a},"8cca":function(t,e,n){},"90e3":function(t,e,n){t.exports=n.p+"img/cart.282e0a34.svg"},9152:function(t,e){e.read=function(t,e,n,o,i){var r,s,a=8*i-o-1,l=(1<<a)-1,c=l>>1,u=-7,p=n?i-1:0,f=n?-1:1,d=t[e+p];for(p+=f,r=d&(1<<-u)-1,d>>=-u,u+=a;u>0;r=256*r+t[e+p],p+=f,u-=8);for(s=r&(1<<-u)-1,r>>=-u,u+=o;u>0;s=256*s+t[e+p],p+=f,u-=8);if(0===r)r=1-c;else{if(r===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,o),r-=c}return(d?-1:1)*s*Math.pow(2,r-o)},e.write=function(t,e,n,o,i,r){var s,a,l,c=8*r-i-1,u=(1<<c)-1,p=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=o?0:r-1,h=o?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),e+=s+p>=1?f/l:f*Math.pow(2,1-p),e*l>=2&&(s++,l/=2),s+p>=u?(a=0,s=u):s+p>=1?(a=(e*l-1)*Math.pow(2,i),s+=p):(a=e*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=h,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=h,s/=256,c-=8);t[n+d-h]|=128*v}},"91cc":function(t,e,n){"use strict";var o=n("92b2"),i=n.n(o);i.a},"92b2":function(t,e,n){},9339:function(t,e,n){(function(e){
/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
(function(e,n){t.exports=n()})("undefined"!==typeof self&&self,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=109)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(17),i=n(18),r=n(19),s=n(45),a=n(46),l=n(47),c=n(48),u=n(49),p=n(12),f=n(32),d=n(33),h=n(31),v=n(1),m={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:o.default,Format:i.default,Leaf:r.default,Embed:c.default,Scroll:s.default,Block:l.default,Inline:a.default,Text:u.default,Attributor:{Attribute:p.default,Class:f.default,Style:d.default,Store:h.default}};e.default=m},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=this;return e="[Parchment] "+e,n=t.call(this,e)||this,n.message=e,n.name=n.constructor.name,n}return o(e,t),e}(Error);e.ParchmentError=i;var r,s={},a={},l={},c={};function u(t,e){var n=f(t);if(null==n)throw new i("Unable to create "+t+" blot");var o=n,r=t instanceof Node||t["nodeType"]===Node.TEXT_NODE?t:o.create(e);return new o(r,e)}function p(t,n){return void 0===n&&(n=!1),null==t?null:null!=t[e.DATA_KEY]?t[e.DATA_KEY].blot:n?p(t.parentNode,n):null}function f(t,e){var n;if(void 0===e&&(e=r.ANY),"string"===typeof t)n=c[t]||s[t];else if(t instanceof Text||t["nodeType"]===Node.TEXT_NODE)n=c["text"];else if("number"===typeof t)t&r.LEVEL&r.BLOCK?n=c["block"]:t&r.LEVEL&r.INLINE&&(n=c["inline"]);else if(t instanceof HTMLElement){var o=(t.getAttribute("class")||"").split(/\s+/);for(var i in o)if(n=a[o[i]],n)break;n=n||l[t.tagName]}return null==n?null:e&r.LEVEL&n.scope&&e&r.TYPE&n.scope?n:null}function d(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length>1)return t.map((function(t){return d(t)}));var n=t[0];if("string"!==typeof n.blotName&&"string"!==typeof n.attrName)throw new i("Invalid definition");if("abstract"===n.blotName)throw new i("Cannot register abstract class");if(c[n.blotName||n.attrName]=n,"string"===typeof n.keyName)s[n.keyName]=n;else if(null!=n.className&&(a[n.className]=n),null!=n.tagName){Array.isArray(n.tagName)?n.tagName=n.tagName.map((function(t){return t.toUpperCase()})):n.tagName=n.tagName.toUpperCase();var o=Array.isArray(n.tagName)?n.tagName:[n.tagName];o.forEach((function(t){null!=l[t]&&null!=n.className||(l[t]=n)}))}return n}e.DATA_KEY="__blot",function(t){t[t["TYPE"]=3]="TYPE",t[t["LEVEL"]=12]="LEVEL",t[t["ATTRIBUTE"]=13]="ATTRIBUTE",t[t["BLOT"]=14]="BLOT",t[t["INLINE"]=7]="INLINE",t[t["BLOCK"]=11]="BLOCK",t[t["BLOCK_BLOT"]=10]="BLOCK_BLOT",t[t["INLINE_BLOT"]=6]="INLINE_BLOT",t[t["BLOCK_ATTRIBUTE"]=9]="BLOCK_ATTRIBUTE",t[t["INLINE_ATTRIBUTE"]=5]="INLINE_ATTRIBUTE",t[t["ANY"]=15]="ANY"}(r=e.Scope||(e.Scope={})),e.create=u,e.find=p,e.query=f,e.register=d},function(t,e,n){var o=n(51),i=n(11),r=n(3),s=n(20),a=String.fromCharCode(0),l=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};l.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&"object"===typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},l.prototype["delete"]=function(t){return t<=0?this:this.push({delete:t})},l.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"===typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},l.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=r(!0,{},t),"object"===typeof n){if("number"===typeof t["delete"]&&"number"===typeof n["delete"])return this.ops[e-1]={delete:n["delete"]+t["delete"]},this;if("number"===typeof n["delete"]&&null!=t.insert&&(e-=1,n=this.ops[e-1],"object"!==typeof n))return this.ops.unshift(t),this;if(i(t.attributes,n.attributes)){if("string"===typeof t.insert&&"string"===typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"===typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"===typeof t.retain&&"number"===typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"===typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},l.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},l.prototype.filter=function(t){return this.ops.filter(t)},l.prototype.forEach=function(t){this.ops.forEach(t)},l.prototype.map=function(t){return this.ops.map(t)},l.prototype.partition=function(t){var e=[],n=[];return this.forEach((function(o){var i=t(o)?e:n;i.push(o)})),[e,n]},l.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},l.prototype.changeLength=function(){return this.reduce((function(t,e){return e.insert?t+s.length(e):e.delete?t-e.delete:t}),0)},l.prototype.length=function(){return this.reduce((function(t,e){return t+s.length(e)}),0)},l.prototype.slice=function(t,e){t=t||0,"number"!==typeof e&&(e=1/0);var n=[],o=s.iterator(this.ops),i=0;while(i<e&&o.hasNext()){var r;i<t?r=o.next(t-i):(r=o.next(e-i),n.push(r)),i+=s.length(r)}return new l(n)},l.prototype.compose=function(t){var e=s.iterator(this.ops),n=s.iterator(t.ops),o=[],r=n.peek();if(null!=r&&"number"===typeof r.retain&&null==r.attributes){var a=r.retain;while("insert"===e.peekType()&&e.peekLength()<=a)a-=e.peekLength(),o.push(e.next());r.retain-a>0&&n.next(r.retain-a)}var c=new l(o);while(e.hasNext()||n.hasNext())if("insert"===n.peekType())c.push(n.next());else if("delete"===e.peekType())c.push(e.next());else{var u=Math.min(e.peekLength(),n.peekLength()),p=e.next(u),f=n.next(u);if("number"===typeof f.retain){var d={};"number"===typeof p.retain?d.retain=u:d.insert=p.insert;var h=s.attributes.compose(p.attributes,f.attributes,"number"===typeof p.retain);if(h&&(d.attributes=h),c.push(d),!n.hasNext()&&i(c.ops[c.ops.length-1],d)){var v=new l(e.rest());return c.concat(v).chop()}}else"number"===typeof f["delete"]&&"number"===typeof p.retain&&c.push(f)}return c.chop()},l.prototype.concat=function(t){var e=new l(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},l.prototype.diff=function(t,e){if(this.ops===t.ops)return new l;var n=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"===typeof n.insert?n.insert:a;var o=e===t?"on":"with";throw new Error("diff() called "+o+" non-document")})).join("")})),r=new l,c=o(n[0],n[1],e),u=s.iterator(this.ops),p=s.iterator(t.ops);return c.forEach((function(t){var e=t[1].length;while(e>0){var n=0;switch(t[0]){case o.INSERT:n=Math.min(p.peekLength(),e),r.push(p.next(n));break;case o.DELETE:n=Math.min(e,u.peekLength()),u.next(n),r["delete"](n);break;case o.EQUAL:n=Math.min(u.peekLength(),p.peekLength(),e);var a=u.next(n),l=p.next(n);i(a.insert,l.insert)?r.retain(n,s.attributes.diff(a.attributes,l.attributes)):r.push(l)["delete"](n);break}e-=n}})),r.chop()},l.prototype.eachLine=function(t,e){e=e||"\n";var n=s.iterator(this.ops),o=new l,i=0;while(n.hasNext()){if("insert"!==n.peekType())return;var r=n.peek(),a=s.length(r)-n.peekLength(),c="string"===typeof r.insert?r.insert.indexOf(e,a)-a:-1;if(c<0)o.push(n.next());else if(c>0)o.push(n.next(c));else{if(!1===t(o,n.next(1).attributes||{},i))return;i+=1,o=new l}}o.length()>0&&t(o,{},i)},l.prototype.transform=function(t,e){if(e=!!e,"number"===typeof t)return this.transformPosition(t,e);var n=s.iterator(this.ops),o=s.iterator(t.ops),i=new l;while(n.hasNext()||o.hasNext())if("insert"!==n.peekType()||!e&&"insert"===o.peekType())if("insert"===o.peekType())i.push(o.next());else{var r=Math.min(n.peekLength(),o.peekLength()),a=n.next(r),c=o.next(r);if(a["delete"])continue;c["delete"]?i.push(c):i.retain(r,s.attributes.transform(a.attributes,c.attributes,e))}else i.retain(s.length(n.next()));return i.chop()},l.prototype.transformPosition=function(t,e){e=!!e;var n=s.iterator(this.ops),o=0;while(n.hasNext()&&o<=t){var i=n.peekLength(),r=n.peekType();n.next(),"delete"!==r?("insert"===r&&(o<t||!e)&&(t+=i),o+=i):t-=Math.min(i,t-o)}return t},t.exports=l},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(t){return"function"===typeof Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)},a=function(t){if(!t||"[object Object]"!==o.call(t))return!1;var e,i=n.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!i&&!r)return!1;for(e in t);return"undefined"===typeof e||n.call(t,e)},l=function(t,e){i&&"__proto__"===e.name?i(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},c=function(t,e){if("__proto__"===e){if(!n.call(t,e))return;if(r)return r(t,e).value}return t[e]};t.exports=function t(){var e,n,o,i,r,u,p=arguments[0],f=1,d=arguments.length,h=!1;for("boolean"===typeof p&&(h=p,p=arguments[1]||{},f=2),(null==p||"object"!==typeof p&&"function"!==typeof p)&&(p={});f<d;++f)if(e=arguments[f],null!=e)for(n in e)o=c(p,n),i=c(e,n),p!==i&&(h&&i&&(a(i)||(r=s(i)))?(r?(r=!1,u=o&&s(o)?o:[]):u=o&&a(o)?o:{},l(p,{name:n,newValue:t(h,u,i)})):"undefined"!==typeof i&&l(p,{name:n,newValue:i}));return p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(3),s=b(r),a=n(2),l=b(a),c=n(0),u=b(c),p=n(16),f=b(p),d=n(6),h=b(d),v=n(7),m=b(v);function b(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function _(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var C=1,w=function(t){function e(){return y(this,e),g(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),o(e,[{key:"attach",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new u.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new l.default).insert(this.value(),(0,s.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=u.default.query(t,u.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,o){this.format(n,o)}},{key:"insertAt",value:function(t,n,o){if("string"===typeof n&&n.endsWith("\n")){var r=u.default.create(k.blotName);this.parent.insertBefore(r,0===t?this:this.next),r.insertAt(0,n.slice(0,-1))}else i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,o)}}]),e}(u.default.Embed);w.scope=u.default.Scope.BLOCK_BLOT;var k=function(t){function e(t){y(this,e);var n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return _(e,t),o(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(u.default.Leaf).reduce((function(t,e){return 0===e.length()?t:t.insert(e.value(),O(e))}),new l.default).insert("\n",O(this))),this.cache.delta}},{key:"deleteAt",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),this.cache={}}},{key:"formatAt",value:function(t,n,o,r){n<=0||(u.default.query(o,u.default.Scope.BLOCK)?t+n===this.length()&&this.format(o,r):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),o,r),this.cache={})}},{key:"insertAt",value:function(t,n,o){if(null!=o)return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,o);if(0!==n.length){var r=n.split("\n"),s=r.shift();s.length>0&&(t<this.length()-1||null==this.children.tail?i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});var a=this;r.reduce((function(t,e){return a=a.split(t,!0),a.insertAt(0,e),e.length}),t+s.length)}}},{key:"insertBefore",value:function(t,n){var o=this.children.head;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n),o instanceof f.default&&o.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+C),this.cache.length}},{key:"moveChildren",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,n),this.cache={}}},{key:"optimize",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-C)){var o=this.clone();return 0===t?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}var r=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,n);return this.cache={},r}}]),e}(u.default.Block);function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"===typeof t.formats&&(e=(0,s.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:O(t.parent,e))}k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[h.default,u.default.Embed,m.default],e.bubbleFormats=O,e.BlockEmbed=w,e.default=k},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done);o=!0)if(n.push(s.value),e&&n.length===e)break}catch(l){i=!0,r=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();n(50);var s=n(2),a=O(s),l=n(14),c=O(l),u=n(8),p=O(u),f=n(9),d=O(f),h=n(0),v=O(h),m=n(15),b=O(m),y=n(3),g=O(y),_=n(10),C=O(_),w=n(34),k=O(w);function O(t){return t&&t.__esModule?t:{default:t}}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var E=(0,C.default)("quill"),P=function(){function t(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(A(this,t),this.options=j(e,o),this.container=this.options.container,null==this.container)return E.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=v.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,(function(t){t===p.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(p.default.events.SCROLL_UPDATE,(function(t,e){var o=n.selection.lastRange,i=o&&0===o.length?o.index:void 0;S.call(n,(function(){return n.editor.update(null,e,i)}),t)}));var r=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+i+"<p><br></p></div>");this.setContents(r),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return r(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),C.default.level(t)}},{key:"find",value:function(t){return t.__quill||v.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&E.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof t){var i=t.attrName||t.blotName;"string"===typeof i?this.register("formats/"+i,t,e):Object.keys(t).forEach((function(o){n.register(o,t[o],e)}))}else null==this.imports[t]||o||E.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?v.default.register(e):t.startsWith("modules")&&"function"===typeof e.register&&e.register()}}]),r(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof t){var n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var o=this,r=T(t,e,n),s=i(r,4);return t=s[0],e=s[1],n=s[3],S.call(this,(function(){return o.editor.deleteText(t,e)}),n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.default.sources.API;return S.call(this,(function(){var o=n.getSelection(!0),i=new a.default;if(null==o)return i;if(v.default.query(t,v.default.Scope.BLOCK))i=n.editor.formatLine(o.index,o.length,x({},t,e));else{if(0===o.length)return n.selection.format(t,e),i;i=n.editor.formatText(o.index,o.length,x({},t,e))}return n.setSelection(o,p.default.sources.SILENT),i}),o)}},{key:"formatLine",value:function(t,e,n,o,r){var s=this,a=void 0,l=T(t,e,n,o,r),c=i(l,4);return t=c[0],e=c[1],a=c[2],r=c[3],S.call(this,(function(){return s.editor.formatLine(t,e,a)}),r,t,0)}},{key:"formatText",value:function(t,e,n,o,r){var s=this,a=void 0,l=T(t,e,n,o,r),c=i(l,4);return t=c[0],e=c[1],a=c[2],r=c[3],S.call(this,(function(){return s.editor.formatText(t,e,a)}),r,t,0)}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"===typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);var o=this.container.getBoundingClientRect();return{bottom:n.bottom-o.top,height:n.height,left:n.left-o.left,right:n.right-o.left,top:n.top-o.top,width:n.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=T(t,e),o=i(n,2);return t=o[0],e=o[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=T(t,e),o=i(n,2);return t=o[0],e=o[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,o){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return S.call(this,(function(){return i.editor.insertEmbed(e,n,o)}),r,e)}},{key:"insertText",value:function(t,e,n,o,r){var s=this,a=void 0,l=T(t,0,n,o,r),c=i(l,4);return t=c[0],a=c[2],r=c[3],S.call(this,(function(){return s.editor.insertText(t,e,a)}),r,t,e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:"removeFormat",value:function(t,e,n){var o=this,r=T(t,e,n),s=i(r,4);return t=s[0],e=s[1],n=s[3],S.call(this,(function(){return o.editor.removeFormat(t,e)}),n,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.default.sources.API;return S.call(this,(function(){t=new a.default(t);var n=e.getLength(),o=e.editor.deleteText(0,n),i=e.editor.applyDelta(t),r=i.ops[i.ops.length-1];null!=r&&"string"===typeof r.insert&&"\n"===r.insert[r.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),i.delete(1));var s=o.compose(i);return s}),n)}},{key:"setSelection",value:function(e,n,o){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var r=T(e,n,o),s=i(r,4);e=s[0],n=s[1],o=s[3],this.selection.setRange(new m.Range(e,n),o),o!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.default.sources.API,n=(new a.default).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.default.sources.API;return S.call(this,(function(){return t=new a.default(t),e.editor.applyDelta(t,n)}),n,!0)}}]),t}();function j(t,e){if(e=(0,g.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e),e.theme&&e.theme!==P.DEFAULTS.theme){if(e.theme=P.import("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=k.default;var n=(0,g.default)(!0,{},e.theme.DEFAULTS);[n,e].forEach((function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach((function(e){!0===t.modules[e]&&(t.modules[e]={})}))}));var o=Object.keys(n.modules).concat(Object.keys(e.modules)),i=o.reduce((function(t,e){var n=P.import("modules/"+e);return null==n?E.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=n.DEFAULTS||{},t}),{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,g.default)(!0,{},P.DEFAULTS,{modules:i},n,e),["bounds","container","scrollingContainer"].forEach((function(t){"string"===typeof e[t]&&(e[t]=document.querySelector(e[t]))})),e.modules=Object.keys(e.modules).reduce((function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t}),{}),e}function S(t,e,n,o){if(this.options.strict&&!this.isEnabled()&&e===p.default.sources.USER)return new a.default;var i=null==n?null:this.getSelection(),r=this.editor.delta,s=t();if(null!=i&&(!0===n&&(n=i.index),null==o?i=N(i,s,e):0!==o&&(i=N(i,n,o,e)),this.setSelection(i,p.default.sources.SILENT)),s.length()>0){var l,c,u=[p.default.events.TEXT_CHANGE,s,r,e];if((l=this.emitter).emit.apply(l,[p.default.events.EDITOR_CHANGE].concat(u)),e!==p.default.sources.SILENT)(c=this.emitter).emit.apply(c,u)}return s}function T(t,e,n,i,r){var s={};return"number"===typeof t.index&&"number"===typeof t.length?"number"!==typeof e?(r=i,i=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!==typeof e&&(r=i,i=n,n=e,e=0),"object"===("undefined"===typeof n?"undefined":o(n))?(s=n,r=i):"string"===typeof n&&(null!=i?s[n]=i:r=n),r=r||p.default.sources.API,[t,e,s,r]}function N(t,e,n,o){if(null==t)return null;var r=void 0,s=void 0;if(e instanceof a.default){var l=[t.index,t.index+t.length].map((function(t){return e.transformPosition(t,o!==p.default.sources.USER)})),c=i(l,2);r=c[0],s=c[1]}else{var u=[t.index,t.index+t.length].map((function(t){return t<e||t===e&&o===p.default.sources.USER?t:n>=0?t+n:Math.max(e,t+n)})),f=i(u,2);r=f[0],s=f[1]}return new m.Range(r,s-r)}P.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},P.events=p.default.events,P.sources=p.default.sources,P.version="1.3.7",P.imports={delta:a.default,parchment:v.default,"core/module":d.default,"core/theme":k.default},e.expandConfig=j,e.overload=T,e.default=P},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(7),s=c(r),a=n(0),l=c(a);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(){return u(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),o(e,[{key:"formatAt",value:function(t,n,o,r){if(e.compare(this.statics.blotName,o)<0&&l.default.query(o,l.default.Scope.BLOT)){var s=this.isolate(t,n);r&&s.wrap(o,r)}else i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,o,r)}},{key:"optimize",value:function(t){if(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(t,n){var o=e.order.indexOf(t),i=e.order.indexOf(n);return o>=0||i>=0?o-i:t===n?0:t<n?-1:1}}]),e}(l.default.Inline);d.allowedChildren=[d,l.default.Embed,s.default],d.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=r(o);function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){return s(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(i.default.Text);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(54),s=c(r),a=n(10),l=c(a);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=(0,l.default)("quill:events"),h=["selectionchange","mousedown","mouseup","click"];h.forEach((function(t){document.addEventListener(t,(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(t){var n;t.__quill&&t.__quill.emitter&&(n=t.__quill.emitter).handleDOM.apply(n,e)}))}))}));var v=function(t){function e(){u(this,e);var t=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on("error",d.error),t}return f(e,t),o(e,[{key:"emit",value:function(){d.log.apply(d,arguments),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];(this.listeners[t.type]||[]).forEach((function(e){var o=e.node,i=e.handler;(t.target===o||o.contains(t.target))&&i.apply(void 0,[t].concat(n))}))}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}]),e}(s.default);v.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},v.sources={API:"api",SILENT:"silent",USER:"user"},e.default=v},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),this.quill=e,this.options=n};i.DEFAULTS={},e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=["error","warn","log","info"],i="warn";function r(t){if(o.indexOf(t)<=o.indexOf(i)){for(var e,n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];(e=console)[t].apply(e,r)}}function s(t){return o.reduce((function(e,n){return e[n]=r.bind(console,n,t),e}),{})}r.level=s.level=function(t){i=t},e.default=s},function(t,e,n){var o=Array.prototype.slice,i=n(52),r=n(53),s=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:c(t,e,n))};function a(t){return null===t||void 0===t}function l(t){return!(!t||"object"!==typeof t||"number"!==typeof t.length)&&("function"===typeof t.copy&&"function"===typeof t.slice&&!(t.length>0&&"number"!==typeof t[0]))}function c(t,e,n){var c,u;if(a(t)||a(e))return!1;if(t.prototype!==e.prototype)return!1;if(r(t))return!!r(e)&&(t=o.call(t),e=o.call(e),s(t,e,n));if(l(t)){if(!l(e))return!1;if(t.length!==e.length)return!1;for(c=0;c<t.length;c++)if(t[c]!==e[c])return!1;return!0}try{var p=i(t),f=i(e)}catch(d){return!1}if(p.length!=f.length)return!1;for(p.sort(),f.sort(),c=p.length-1;c>=0;c--)if(p[c]!=f[c])return!1;for(c=p.length-1;c>=0;c--)if(u=p[c],!s(t[u],e[u],n))return!1;return typeof t===typeof e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var i=o.Scope.TYPE&o.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&o.Scope.LEVEL|i:this.scope=o.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,(function(t){return t.name}))},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){var n=o.query(t,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return null!=n&&(null==this.whitelist||("string"===typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var o=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done);o=!0)if(n.push(s.value),e&&n.length===e)break}catch(l){i=!0,r=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},s=n(2),a=m(s),l=n(0),c=m(l),u=n(4),p=m(u),f=n(6),d=m(f),h=n(7),v=m(h);function m(t){return t&&t.__esModule?t:{default:t}}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function g(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _=function(t){function e(){return b(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return g(e,t),e}(d.default);_.blotName="code",_.tagName="CODE";var C=function(t){function e(){return b(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return g(e,t),i(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce((function(e,n){return e.insert(n).insert("\n",t.formats())}),new a.default)}},{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){var i=this.descendant(v.default,this.length()-1),s=o(i,1),a=s[0];null!=a&&a.deleteAt(a.length()-1,1),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}},{key:"formatAt",value:function(t,n,o,i){if(0!==n&&null!=c.default.query(o,c.default.Scope.BLOCK)&&(o!==this.statics.blotName||i!==this.statics.formats(this.domNode))){var r=this.newlineIndex(t);if(!(r<0||r>=t+n)){var s=this.newlineIndex(t,!0)+1,a=r-s+1,l=this.isolate(s,a),u=l.next;l.format(o,i),u instanceof e&&u.formatAt(0,t-s+n-a,o,i)}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var i=this.descendant(v.default,t),r=o(i,2),s=r[0],a=r[1];s.insertAt(a,e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var n=this.domNode.textContent.slice(t).indexOf("\n");return n>-1?t+n:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(c.default.create("text","\n")),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(t){var e=c.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof c.default.Embed?e.remove():e.unwrap()}))}}],[{key:"create",value:function(t){var n=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),e}(p.default);C.blotName="code-block",C.tagName="PRE",C.TAB="  ",e.Code=_,e.default=C},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done);o=!0)if(n.push(s.value),e&&n.length===e)break}catch(l){i=!0,r=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(2),a=A(s),l=n(20),c=A(l),u=n(0),p=A(u),f=n(13),d=A(f),h=n(24),v=A(h),m=n(4),b=A(m),y=n(16),g=A(y),_=n(21),C=A(_),w=n(11),k=A(w),O=n(3),x=A(O);function A(t){return t&&t.__esModule?t:{default:t}}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var j=/^[ -~]*$/,S=function(){function t(e){P(this,t),this.scroll=e,this.delta=this.getDelta()}return r(t,[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var r=this.scroll.length();return this.scroll.batchStart(),t=N(t),t.reduce((function(t,s){var a=s.retain||s.delete||s.insert.length||1,l=s.attributes||{};if(null!=s.insert){if("string"===typeof s.insert){var u=s.insert;u.endsWith("\n")&&n&&(n=!1,u=u.slice(0,-1)),t>=r&&!u.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,u);var f=e.scroll.line(t),d=i(f,2),h=d[0],v=d[1],y=(0,x.default)({},(0,m.bubbleFormats)(h));if(h instanceof b.default){var g=h.descendant(p.default.Leaf,v),_=i(g,1),C=_[0];y=(0,x.default)(y,(0,m.bubbleFormats)(C))}l=c.default.attributes.diff(y,l)||{}}else if("object"===o(s.insert)){var w=Object.keys(s.insert)[0];if(null==w)return t;e.scroll.insertAt(t,w,s.insert[w])}r+=a}return Object.keys(l).forEach((function(n){e.scroll.formatAt(t,a,n,l[n])})),t+a}),0),t.reduce((function(t,n){return"number"===typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new a.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(o).forEach((function(i){if(null==n.scroll.whitelist||n.scroll.whitelist[i]){var r=n.scroll.lines(t,Math.max(e,1)),s=e;r.forEach((function(e){var r=e.length();if(e instanceof d.default){var a=t-e.offset(n.scroll),l=e.newlineIndex(a+s)-a+1;e.formatAt(a,l,i,o[i])}else e.format(i,o[i]);s-=r}))}})),this.scroll.optimize(),this.update((new a.default).retain(t).retain(e,(0,C.default)(o)))}},{key:"formatText",value:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(o).forEach((function(i){n.scroll.formatAt(t,e,i,o[i])})),this.update((new a.default).retain(t).retain(e,(0,C.default)(o)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(t,e){return t.concat(e.delta())}),new a.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],o=[];0===e?this.scroll.path(t).forEach((function(t){var e=i(t,1),r=e[0];r instanceof b.default?n.push(r):r instanceof p.default.Leaf&&o.push(r)})):(n=this.scroll.lines(t,e),o=this.scroll.descendants(p.default.Leaf,t,e));var r=[n,o].map((function(t){if(0===t.length)return{};var e=(0,m.bubbleFormats)(t.shift());while(Object.keys(e).length>0){var n=t.shift();if(null==n)return e;e=T((0,m.bubbleFormats)(n),e)}return e}));return x.default.apply(x.default,r)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter((function(t){return"string"===typeof t.insert})).map((function(t){return t.insert})).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new a.default).retain(t).insert(E({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(o).forEach((function(i){n.scroll.formatAt(t,e.length,i,o[i])})),this.update((new a.default).retain(t).insert(e,(0,C.default)(o)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===b.default.blotName&&(!(t.children.length>1)&&t.children.head instanceof g.default)}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),o=this.scroll.line(t+e),r=i(o,2),s=r[0],l=r[1],c=0,u=new a.default;null!=s&&(c=s instanceof d.default?s.newlineIndex(l)-l+1:s.length()-l,u=s.delta().slice(l,l+c-1).insert("\n"));var p=this.getContents(t,e+c),f=p.diff((new a.default).insert(n).concat(u)),h=(new a.default).retain(t).concat(f);return this.applyDelta(h)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(j)&&p.default.find(e[0].target)){var i=p.default.find(e[0].target),r=(0,m.bubbleFormats)(i),s=i.offset(this.scroll),l=e[0].oldValue.replace(v.default.CONTENTS,""),c=(new a.default).insert(l),u=(new a.default).insert(i.value()),f=(new a.default).retain(s).concat(c.diff(u,n));t=f.reduce((function(t,e){return e.insert?t.insert(e.insert,r):t.push(e)}),new a.default),this.delta=o.compose(t)}else this.delta=this.getDelta(),t&&(0,k.default)(o.compose(t),this.delta)||(t=o.diff(this.delta,n));return t}}]),t}();function T(t,e){return Object.keys(e).reduce((function(n,o){return null==t[o]?n:(e[o]===t[o]?n[o]=e[o]:Array.isArray(e[o])?e[o].indexOf(t[o])<0&&(n[o]=e[o].concat([t[o]])):n[o]=[e[o],t[o]],n)}),{})}function N(t){return t.reduce((function(t,e){if(1===e.insert){var n=(0,C.default)(e.attributes);return delete n["image"],t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||(e=(0,C.default)(e),e.attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"===typeof e.insert){var o=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(o,e.attributes)}return t.push(e)}),new a.default)}e.default=S},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var o=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done);o=!0)if(n.push(s.value),e&&n.length===e)break}catch(l){i=!0,r=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),s=v(r),a=n(21),l=v(a),c=n(11),u=v(c),p=n(8),f=v(p),d=n(10),h=v(d);function v(t){return t&&t.__esModule?t:{default:t}}function m(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var y=(0,h.default)("quill:selection"),g=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;b(this,t),this.index=e,this.length=n},_=function(){function t(e,n){var o=this;b(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=s.default.create("cursor",this),this.lastRange=this.savedRange=new g(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){o.mouseDown||setTimeout(o.update.bind(o,f.default.sources.USER),1)})),this.emitter.on(f.default.events.EDITOR_CHANGE,(function(t,e){t===f.default.events.TEXT_CHANGE&&e.length()>0&&o.update(f.default.sources.SILENT)})),this.emitter.on(f.default.events.SCROLL_BEFORE_UPDATE,(function(){if(o.hasFocus()){var t=o.getNativeRange();null!=t&&t.start.node!==o.cursor.textNode&&o.emitter.once(f.default.events.SCROLL_UPDATE,(function(){try{o.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(e){}}))}})),this.emitter.on(f.default.events.SCROLL_OPTIMIZE,(function(t,e){if(e.range){var n=e.range,i=n.startNode,r=n.startOffset,s=n.endNode,a=n.endOffset;o.setNativeRange(i,r,s,a)}})),this.update(f.default.sources.SILENT)}return i(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",(function(){t.composing=!0})),this.root.addEventListener("compositionend",(function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout((function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,(function(){t.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){t.mouseDown=!1,t.update(f.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!s.default.query(t,s.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var o=s.default.find(n.start.node,!1);if(null==o)return;if(o instanceof s.default.Leaf){var i=o.split(n.start.offset);o.parent.insertBefore(this.cursor,i)}else o.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var i=void 0,r=this.scroll.leaf(t),s=o(r,2),a=s[0],l=s[1];if(null==a)return null;var c=a.position(l,!0),u=o(c,2);i=u[0],l=u[1];var p=document.createRange();if(e>0){p.setStart(i,l);var f=this.scroll.leaf(t+e),d=o(f,2);if(a=d[0],l=d[1],null==a)return null;var h=a.position(l,!0),v=o(h,2);return i=v[0],l=v[1],p.setEnd(i,l),p.getBoundingClientRect()}var m="left",b=void 0;return i instanceof Text?(l<i.data.length?(p.setStart(i,l),p.setEnd(i,l+1)):(p.setStart(i,l-1),p.setEnd(i,l),m="right"),b=p.getBoundingClientRect()):(b=a.domNode.getBoundingClientRect(),l>0&&(m="right")),{bottom:b.top+b.height,height:b.height,left:b[m],right:b[m],top:b.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return y.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();if(null==t)return[null,null];var e=this.normalizedToRange(t);return[e,t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var i=n.map((function(t){var n=o(t,2),i=n[0],r=n[1],a=s.default.find(i,!0),l=a.offset(e.scroll);return 0===r?l:a instanceof s.default.Container?l+a.length():l+a.index(i,r)})),r=Math.min(Math.max.apply(Math,m(i)),this.scroll.length()-1),a=Math.min.apply(Math,[r].concat(m(i)));return new g(a,r-a)}},{key:"normalizeNative",value:function(t){if(!C(this.root,t.startContainer)||!t.collapsed&&!C(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){var e=t.node,n=t.offset;while(!(e instanceof Text)&&e.childNodes.length>0)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;e=e.lastChild,n=e instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n})),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],i=[],r=this.scroll.length();return n.forEach((function(t,n){t=Math.min(r-1,t);var s=void 0,a=e.scroll.leaf(t),l=o(a,2),c=l[0],u=l[1],p=c.position(u,0!==n),f=o(p,2);s=f[0],u=f[1],i.push(s,u)})),i.length<2&&(i=i.concat(i)),i}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var i=this.scroll.length()-1,r=this.scroll.line(Math.min(e.index,i)),s=o(r,1),a=s[0],l=a;if(e.length>0){var c=this.scroll.line(Math.min(e.index+e.length,i)),u=o(c,1);l=u[0]}if(null!=a&&null!=l){var p=t.getBoundingClientRect();n.top<p.top?t.scrollTop-=p.top-n.top:n.bottom>p.bottom&&(t.scrollTop+=n.bottom-p.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(y.info("setNativeRange",t,e,n,o),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var r=document.getSelection();if(null!=r)if(null!=t){this.hasFocus()||this.root.focus();var s=(this.getNativeRange()||{}).native;if(null==s||i||t!==s.startContainer||e!==s.startOffset||n!==s.endContainer||o!==s.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(o=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var a=document.createRange();a.setStart(t,e),a.setEnd(n,o),r.removeAllRanges(),r.addRange(a)}}else r.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.default.sources.API;if("string"===typeof e&&(n=e,e=!1),y.info("setRange",t),null!=t){var o=this.rangeToNative(t);this.setNativeRange.apply(this,m(o).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.default.sources.USER,e=this.lastRange,n=this.getRange(),i=o(n,2),r=i[0],s=i[1];if(this.lastRange=r,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,u.default)(e,this.lastRange)){var a;!this.composing&&null!=s&&s.native.collapsed&&s.start.node!==this.cursor.textNode&&this.cursor.restore();var c,p=[f.default.events.SELECTION_CHANGE,(0,l.default)(this.lastRange),(0,l.default)(e),t];if((a=this.emitter).emit.apply(a,[f.default.events.EDITOR_CHANGE].concat(p)),t!==f.default.sources.SILENT)(c=this.emitter).emit.apply(c,p)}}}]),t}();function C(t,e){try{e.parentNode}catch(n){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}e.Range=g,e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(0),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),o(e,[{key:"insertInto",value:function(t,n){0===t.children.length?i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}(s.default.Embed);p.blotName="break",p.tagName="BR",e.default=p},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(44),r=n(30),s=n(1),a=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return o(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach((function(t){t.attach()}))},e.prototype.build=function(){var t=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(e){try{var n=l(e);t.insertBefore(n,t.children.head||void 0)}catch(o){if(o instanceof s.ParchmentError)return;throw o}}))},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(function(t,e,n){t.deleteAt(e,n)}))},e.prototype.descendant=function(t,n){var o=this.children.find(n),i=o[0],r=o[1];return null==t.blotName&&t(i)||null!=t.blotName&&i instanceof t?[i,r]:i instanceof e?i.descendant(t,r):[null,-1]},e.prototype.descendants=function(t,n,o){void 0===n&&(n=0),void 0===o&&(o=Number.MAX_VALUE);var i=[],r=o;return this.children.forEachAt(n,o,(function(n,o,s){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&i.push(n),n instanceof e&&(i=i.concat(n.descendants(t,o,r))),r-=s})),i},e.prototype.detach=function(){this.children.forEach((function(t){t.detach()})),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,o){this.children.forEachAt(t,e,(function(t,e,i){t.formatAt(e,i,n,o)}))},e.prototype.insertAt=function(t,e,n){var o=this.children.find(t),i=o[0],r=o[1];if(i)i.insertAt(r,e,n);else{var a=null==n?s.create("text",e):s.create(e,n);this.appendChild(a)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(e){return t instanceof e})))throw new s.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce((function(t,e){return t+e.length()}),0)},e.prototype.moveChildren=function(t,e){this.children.forEach((function(n){t.insertBefore(n,e)}))},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var o=this.children.find(t,n),i=o[0],r=o[1],s=[[this,t]];return i instanceof e?s.concat(i.path(r,n)):(null!=i&&s.push([i,r]),s)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),(function(t,o,i){t=t.split(o,e),n.appendChild(t)})),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,o=[],i=[];t.forEach((function(t){t.target===n.domNode&&"childList"===t.type&&(o.push.apply(o,t.addedNodes),i.push.apply(i,t.removedNodes))})),i.forEach((function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=s.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}})),o.filter((function(t){return t.parentNode==n.domNode})).sort((function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(t){var e=null;null!=t.nextSibling&&(e=s.find(t.nextSibling));var o=l(t);o.next==e&&null!=o.next||(null!=o.parent&&o.parent.removeChild(n),n.insertBefore(o,e||void 0))}))},e}(r.default);function l(t){var e=s.find(t);if(null==e)try{e=s.create(t)}catch(n){e=s.create(s.Scope.INLINE),[].slice.call(t.childNodes).forEach((function(t){e.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=a},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),r=n(31),s=n(17),a=n(1),l=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new r.default(n.domNode),n}return o(e,t),e.formats=function(t){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=a.query(t);n instanceof i.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var o=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(o),o},e.prototype.update=function(e,n){var o=this;t.prototype.update.call(this,e,n),e.some((function(t){return t.target===o.domNode&&"attributes"===t.type}))&&this.attributes.build()},e.prototype.wrap=function(n,o){var i=t.prototype.wrap.call(this,n,o);return i instanceof e&&i.statics.scope===this.statics.scope&&this.attributes.move(i),i},e}(s.default);e.default=l},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(30),r=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return t={},t[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=r.Scope.INLINE_BLOT,e}(i.default);e.default=s},function(t,e,n){var o=n(11),i=n(3),r={attributes:{compose:function(t,e,n){"object"!==typeof t&&(t={}),"object"!==typeof e&&(e={});var o=i(!0,{},e);for(var r in n||(o=Object.keys(o).reduce((function(t,e){return null!=o[e]&&(t[e]=o[e]),t}),{})),t)void 0!==t[r]&&void 0===e[r]&&(o[r]=t[r]);return Object.keys(o).length>0?o:void 0},diff:function(t,e){"object"!==typeof t&&(t={}),"object"!==typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce((function(n,i){return o(t[i],e[i])||(n[i]=void 0===e[i]?null:e[i]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!==typeof t)return e;if("object"===typeof e){if(!n)return e;var o=Object.keys(e).reduce((function(n,o){return void 0===t[o]&&(n[o]=e[o]),n}),{});return Object.keys(o).length>0?o:void 0}}},iterator:function(t){return new s(t)},length:function(t){return"number"===typeof t["delete"]?t["delete"]:"number"===typeof t.retain?t.retain:"string"===typeof t.insert?t.insert.length:1}};function s(t){this.ops=t,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,o=r.length(e);if(t>=o-n?(t=o-n,this.index+=1,this.offset=0):this.offset+=t,"number"===typeof e["delete"])return{delete:t};var i={};return e.attributes&&(i.attributes=e.attributes),"number"===typeof e.retain?i.retain=t:"string"===typeof e.insert?i.insert=e.insert.substr(n,t):i.insert=e.insert,i}return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?r.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index]["delete"]?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),o=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(o)}return[]},t.exports=r},function(t,n){var o=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var n,o,i;try{n=Map}catch(p){n=function(){}}try{o=Set}catch(p){o=function(){}}try{i=Promise}catch(p){i=function(){}}function r(s,a,l,c,p){"object"===typeof a&&(l=a.depth,c=a.prototype,p=a.includeNonEnumerable,a=a.circular);var f=[],d=[],h="undefined"!=typeof e;function v(s,l){if(null===s)return null;if(0===l)return s;var m,b;if("object"!=typeof s)return s;if(t(s,n))m=new n;else if(t(s,o))m=new o;else if(t(s,i))m=new i((function(t,e){s.then((function(e){t(v(e,l-1))}),(function(t){e(v(t,l-1))}))}));else if(r.__isArray(s))m=[];else if(r.__isRegExp(s))m=new RegExp(s.source,u(s)),s.lastIndex&&(m.lastIndex=s.lastIndex);else if(r.__isDate(s))m=new Date(s.getTime());else{if(h&&e.isBuffer(s))return m=e.allocUnsafe?e.allocUnsafe(s.length):new e(s.length),s.copy(m),m;t(s,Error)?m=Object.create(s):"undefined"==typeof c?(b=Object.getPrototypeOf(s),m=Object.create(b)):(m=Object.create(c),b=c)}if(a){var y=f.indexOf(s);if(-1!=y)return d[y];f.push(s),d.push(m)}for(var g in t(s,n)&&s.forEach((function(t,e){var n=v(e,l-1),o=v(t,l-1);m.set(n,o)})),t(s,o)&&s.forEach((function(t){var e=v(t,l-1);m.add(e)})),s){var _;b&&(_=Object.getOwnPropertyDescriptor(b,g)),_&&null==_.set||(m[g]=v(s[g],l-1))}if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(s);for(g=0;g<C.length;g++){var w=C[g],k=Object.getOwnPropertyDescriptor(s,w);(!k||k.enumerable||p)&&(m[w]=v(s[w],l-1),k.enumerable||Object.defineProperty(m,w,{enumerable:!1}))}}if(p){var O=Object.getOwnPropertyNames(s);for(g=0;g<O.length;g++){var x=O[g];k=Object.getOwnPropertyDescriptor(s,x);k&&k.enumerable||(m[x]=v(s[x],l-1),Object.defineProperty(m,x,{enumerable:!1}))}}return m}return"undefined"==typeof a&&(a=!0),"undefined"==typeof l&&(l=1/0),v(s,l)}function s(t){return Object.prototype.toString.call(t)}function a(t){return"object"===typeof t&&"[object Date]"===s(t)}function l(t){return"object"===typeof t&&"[object Array]"===s(t)}function c(t){return"object"===typeof t&&"[object RegExp]"===s(t)}function u(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return r.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},r.__objToStr=s,r.__isDate=a,r.__isArray=l,r.__isRegExp=c,r.__getRegExpFlags=u,r}();"object"===typeof t&&t.exports&&(t.exports=o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done);o=!0)if(n.push(s.value),e&&n.length===e)break}catch(l){i=!0,r=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},s=n(0),a=y(s),l=n(8),c=y(l),u=n(4),p=y(u),f=n(16),d=y(f),h=n(13),v=y(h),m=n(25),b=y(m);function y(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function C(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function w(t){return t instanceof p.default||t instanceof u.BlockEmbed}var k=function(t){function e(t,n){g(this,e);var o=_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.emitter=n.emitter,Array.isArray(n.whitelist)&&(o.whitelist=n.whitelist.reduce((function(t,e){return t[e]=!0,t}),{})),o.domNode.addEventListener("DOMNodeInserted",(function(){})),o.optimize(),o.enable(),o}return C(e,t),i(e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,n){var i=this.line(t),s=o(i,2),a=s[0],l=s[1],c=this.line(t+n),p=o(c,1),f=p[0];if(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),null!=f&&a!==f&&l>0){if(a instanceof u.BlockEmbed||f instanceof u.BlockEmbed)return void this.optimize();if(a instanceof v.default){var h=a.newlineIndex(a.length(),!0);if(h>-1&&(a=a.split(h+1),a===f))return void this.optimize()}else if(f instanceof v.default){var m=f.newlineIndex(0);m>-1&&f.split(m+1)}var b=f.children.head instanceof d.default?null:f.children.head;a.moveChildren(f,b),a.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,n,o,i){(null==this.whitelist||this.whitelist[o])&&(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,o,i),this.optimize())}},{key:"insertAt",value:function(t,n,o){if(null==o||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==o||null==a.default.query(n,a.default.Scope.BLOCK)){var i=a.default.create(this.statics.defaultChild);this.appendChild(i),null==o&&n.endsWith("\n")&&(n=n.slice(0,-1)),i.insertAt(0,n,o)}else{var s=a.default.create(n,o);this.appendChild(s)}else r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,o);this.optimize()}}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===a.default.Scope.INLINE_BLOT){var o=a.default.create(this.statics.defaultChild);o.appendChild(t),t=o}r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(w,t)}},{key:"lines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function t(e,n,o){var i=[],r=o;return e.children.forEachAt(n,o,(function(e,n,o){w(e)?i.push(e):e instanceof a.default.Container&&(i=i.concat(t(e,n,r))),r-=o})),i};return n(this,t,e)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,n),t.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,t,n))}},{key:"path",value:function(t){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var n=c.default.sources.USER;"string"===typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,n,t),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,n,t)}}}]),e}(a.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[p.default,u.BlockEmbed,b.default],e.default=k},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done);o=!0)if(n.push(s.value),e&&n.length===e)break}catch(l){i=!0,r=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(21),a=O(s),l=n(11),c=O(l),u=n(3),p=O(u),f=n(2),d=O(f),h=n(20),v=O(h),m=n(0),b=O(m),y=n(5),g=O(y),_=n(10),C=O(_),w=n(9),k=O(w);function O(t){return t&&t.__esModule?t:{default:t}}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function P(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var j=(0,C.default)("quill:keyboard"),S=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",T=function(t){function e(t,n){A(this,e);var o=E(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.bindings={},Object.keys(o.options.bindings).forEach((function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist["list"])&&o.options.bindings[e]&&o.addBinding(o.options.bindings[e])})),o.addBinding({key:e.keys.ENTER,shiftKey:null},M),o.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(o.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},q),o.addBinding({key:e.keys.DELETE},{collapsed:!0},L)):(o.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},q),o.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},L)),o.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},D),o.addBinding({key:e.keys.DELETE},{collapsed:!1},D),o.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},q),o.listen(),o}return P(e,t),r(e,null,[{key:"match",value:function(t,e){return e=B(e),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!e[n]!==t[n]&&null!==e[n]}))&&e.key===(t.which||t.keyCode)}}]),r(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=B(t);if(null==o||null==o.key)return j.warn("Attempted to add invalid keyboard binding",o);"function"===typeof e&&(e={handler:e}),"function"===typeof n&&(n={handler:n}),o=(0,p.default)(o,e,n),this.bindings[o.key]=this.bindings[o.key]||[],this.bindings[o.key].push(o)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var r=n.which||n.keyCode,s=(t.bindings[r]||[]).filter((function(t){return e.match(n,t)}));if(0!==s.length){var a=t.quill.getSelection();if(null!=a&&t.quill.hasFocus()){var l=t.quill.getLine(a.index),u=i(l,2),p=u[0],f=u[1],d=t.quill.getLeaf(a.index),h=i(d,2),v=h[0],m=h[1],y=0===a.length?[v,m]:t.quill.getLeaf(a.index+a.length),g=i(y,2),_=g[0],C=g[1],w=v instanceof b.default.Text?v.value().slice(0,m):"",k=_ instanceof b.default.Text?_.value().slice(C):"",O={collapsed:0===a.length,empty:0===a.length&&p.length()<=1,format:t.quill.getFormat(a),offset:f,prefix:w,suffix:k},x=s.some((function(e){if(null!=e.collapsed&&e.collapsed!==O.collapsed)return!1;if(null!=e.empty&&e.empty!==O.empty)return!1;if(null!=e.offset&&e.offset!==O.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((function(t){return null==O.format[t]})))return!1}else if("object"===o(e.format)&&!Object.keys(e.format).every((function(t){return!0===e.format[t]?null!=O.format[t]:!1===e.format[t]?null==O.format[t]:(0,c.default)(e.format[t],O.format[t])})))return!1;return!(null!=e.prefix&&!e.prefix.test(O.prefix))&&(!(null!=e.suffix&&!e.suffix.test(O.suffix))&&!0!==e.handler.call(t,a,O))}));x&&n.preventDefault()}}}}))}}]),e}(k.default);function N(t,e){var n,o=t===T.keys.LEFT?"prefix":"suffix";return n={key:t,shiftKey:e,altKey:null},x(n,o,/^$/),x(n,"handler",(function(n){var o=n.index;t===T.keys.RIGHT&&(o+=n.length+1);var r=this.quill.getLeaf(o),s=i(r,1),a=s[0];return!(a instanceof b.default.Embed)||(t===T.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,g.default.sources.USER):this.quill.setSelection(n.index-1,g.default.sources.USER):e?this.quill.setSelection(n.index,n.length+1,g.default.sources.USER):this.quill.setSelection(n.index+n.length+1,g.default.sources.USER),!1)})),n}function q(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=this.quill.getLine(t.index),o=i(n,1),r=o[0],s={};if(0===e.offset){var a=this.quill.getLine(t.index-1),l=i(a,1),c=l[0];if(null!=c&&c.length()>1){var u=r.formats(),p=this.quill.getFormat(t.index-1,1);s=v.default.attributes.diff(u,p)||{}}}var f=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-f,f,g.default.sources.USER),Object.keys(s).length>0&&this.quill.formatLine(t.index-f,f,s,g.default.sources.USER),this.quill.focus()}}function L(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var o={},r=0,s=this.quill.getLine(t.index),a=i(s,1),l=a[0];if(e.offset>=l.length()-1){var c=this.quill.getLine(t.index+1),u=i(c,1),p=u[0];if(p){var f=l.formats(),d=this.quill.getFormat(t.index,1);o=v.default.attributes.diff(f,d)||{},r=p.length()}}this.quill.deleteText(t.index,n,g.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(t.index+r-1,n,o,g.default.sources.USER)}}function D(t){var e=this.quill.getLines(t),n={};if(e.length>1){var o=e[0].formats(),i=e[e.length-1].formats();n=v.default.attributes.diff(i,o)||{}}this.quill.deleteText(t,g.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,g.default.sources.USER),this.quill.setSelection(t.index,g.default.sources.SILENT),this.quill.focus()}function M(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var o=Object.keys(e.format).reduce((function(t,n){return b.default.query(n,b.default.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t}),{});this.quill.insertText(t.index,"\n",o,g.default.sources.USER),this.quill.setSelection(t.index+1,g.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach((function(t){null==o[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],g.default.sources.USER))}))}function $(t){return{key:T.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=b.default.query("code-block"),o=e.index,r=e.length,s=this.quill.scroll.descendant(n,o),a=i(s,2),l=a[0],c=a[1];if(null!=l){var u=this.quill.getIndex(l),p=l.newlineIndex(c,!0)+1,f=l.newlineIndex(u+c+r),d=l.domNode.textContent.slice(p,f).split("\n");c=0,d.forEach((function(e,i){t?(l.insertAt(p+c,n.TAB),c+=n.TAB.length,0===i?o+=n.TAB.length:r+=n.TAB.length):e.startsWith(n.TAB)&&(l.deleteAt(p+c,n.TAB.length),c-=n.TAB.length,0===i?o-=n.TAB.length:r-=n.TAB.length),c+=e.length+1})),this.quill.update(g.default.sources.USER),this.quill.setSelection(o,r,g.default.sources.SILENT)}}}}function I(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],g.default.sources.USER)}}}function B(t){if("string"===typeof t||"number"===typeof t)return B({key:t});if("object"===("undefined"===typeof t?"undefined":o(t))&&(t=(0,a.default)(t,!1)),"string"===typeof t.key)if(null!=T.keys[t.key.toUpperCase()])t.key=T.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[S]=t.shortKey,delete t.shortKey),t}T.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},T.DEFAULTS={bindings:{bold:I("bold"),italic:I("italic"),underline:I("underline"),indent:{key:T.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",g.default.sources.USER)}},outdent:{key:T.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",g.default.sources.USER)}},"outdent backspace":{key:T.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",g.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,g.default.sources.USER)}},"indent code-block":$(!0),"outdent code-block":$(!1),"remove tab":{key:T.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,g.default.sources.USER)}},tab:{key:T.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new d.default).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,g.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,g.default.sources.SILENT)}},"list empty enter":{key:T.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,g.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,g.default.sources.USER)}},"checklist enter":{key:T.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),n=i(e,2),o=n[0],r=n[1],s=(0,p.default)({},o.formats(),{list:"checked"}),a=(new d.default).retain(t.index).insert("\n",s).retain(o.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,g.default.sources.USER),this.quill.setSelection(t.index+1,g.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:T.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=this.quill.getLine(t.index),o=i(n,2),r=o[0],s=o[1],a=(new d.default).retain(t.index).insert("\n",e.format).retain(r.length()-s-1).retain(1,{header:null});this.quill.updateContents(a,g.default.sources.USER),this.quill.setSelection(t.index+1,g.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var n=e.prefix.length,o=this.quill.getLine(t.index),r=i(o,2),s=r[0],a=r[1];if(a>n)return!0;var l=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(t.index," ",g.default.sources.USER),this.quill.history.cutoff();var c=(new d.default).retain(t.index-a).delete(n+1).retain(s.length()-2-a).retain(1,{list:l});this.quill.updateContents(c,g.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,g.default.sources.SILENT)}},"code exit":{key:T.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),n=i(e,2),o=n[0],r=n[1],s=(new d.default).retain(t.index+o.length()-r-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(s,g.default.sources.USER)}},"embed left":N(T.keys.LEFT,!1),"embed left shift":N(T.keys.LEFT,!0),"embed right":N(T.keys.RIGHT,!1),"embed right shift":N(T.keys.RIGHT,!0)}},e.default=T,e.SHORTKEY=S},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done);o=!0)if(n.push(s.value),e&&n.length===e)break}catch(l){i=!0,r=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(0),a=u(s),l=n(7),c=u(l);function u(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(t,n){p(this,e);var o=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.selection=n,o.textNode=document.createTextNode(e.CONTENTS),o.domNode.appendChild(o.textNode),o._length=0,o}return d(e,t),r(e,null,[{key:"value",value:function(){}}]),r(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0!==this._length)return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);var o=this,r=0;while(null!=o&&o.statics.scope!==a.default.Scope.BLOCK_BLOT)r+=o.offset(o.parent),o=o.parent;null!=o&&(this._length=e.CONTENTS.length,o.optimize(),o.formatAt(r,e.CONTENTS.length,t,n),this._length=0)}},{key:"index",value:function(t,n){return t===this.textNode?0:i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,n=this.selection.getNativeRange(),i=void 0,r=void 0,s=void 0;if(null!=n&&n.start.node===t&&n.end.node===t){var l=[t,n.start.offset,n.end.offset];i=l[0],r=l[1],s=l[2]}while(null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var u=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof c.default?(i=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=e.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=r){var p=[r,s].map((function(t){return Math.max(0,Math.min(i.data.length,t-1))})),f=o(p,2);return r=f[0],s=f[1],{startNode:i,startOffset:r,endNode:i,endOffset:s}}}}},{key:"update",value:function(t,e){var n=this;if(t.some((function(t){return"characterData"===t.type&&t.target===n.textNode}))){var o=this.restore();o&&(e.range=o)}}},{key:"value",value:function(){return""}}]),e}(a.default.Embed);h.blotName="cursor",h.className="ql-cursor",h.tagName="span",h.CONTENTS="\ufeff",e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=a(o),r=n(4),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),e}(i.default.Container);p.allowedChildren=[s.default,r.BlockEmbed,p],e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(0),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),o(e,[{key:"value",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(t){return("00"+parseInt(t).toString(16)).slice(-2)})).join("")):n}}]),e}(s.default.Attributor.Style),f=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),d=new p("color","color",{scope:s.default.Scope.INLINE});e.ColorAttributor=p,e.ColorClass=f,e.ColorStyle=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(6),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),o(e,[{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n)return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),n.setAttribute("href",t),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return f(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}(s.default);function f(t,e){var n=document.createElement("a");n.href=t;var o=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(o)>-1}p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=p,e.sanitize=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(23),s=c(r),a=n(107),l=c(a);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var p=0;function f(t,e){t.setAttribute(e,!("true"===t.getAttribute(e)))}var d=function(){function t(e){var n=this;u(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(t){switch(t.keyCode){case s.default.keys.ENTER:n.togglePicker();break;case s.default.keys.ESCAPE:n.escape(),t.preventDefault();break;default:}})),this.select.addEventListener("change",this.update.bind(this))}return i(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),f(this.label,"aria-expanded"),f(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",(function(){e.selectItem(n,!0)})),n.addEventListener("keydown",(function(t){switch(t.keyCode){case s.default.keys.ENTER:e.selectItem(n,!0),t.preventDefault();break;case s.default.keys.ESCAPE:e.escape(),t.preventDefault();break;default:}})),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=l.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,[].slice.call(this.select.options).forEach((function(n){var o=t.buildItem(n);e.appendChild(o),!0===n.selected&&t.selectItem(o)})),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach((function(e){t.container.setAttribute(e.name,e.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout((function(){return t.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":o(Event))){var i=document.createEvent("Event");i.initEvent("change",!0,!0),this.select.dispatchEvent(i)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),t}();e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=j(o),r=n(5),s=j(r),a=n(4),l=j(a),c=n(16),u=j(c),p=n(25),f=j(p),d=n(24),h=j(d),v=n(35),m=j(v),b=n(6),y=j(b),g=n(22),_=j(g),C=n(7),w=j(C),k=n(55),O=j(k),x=n(42),A=j(x),E=n(23),P=j(E);function j(t){return t&&t.__esModule?t:{default:t}}s.default.register({"blots/block":l.default,"blots/block/embed":a.BlockEmbed,"blots/break":u.default,"blots/container":f.default,"blots/cursor":h.default,"blots/embed":m.default,"blots/inline":y.default,"blots/scroll":_.default,"blots/text":w.default,"modules/clipboard":O.default,"modules/history":A.default,"modules/keyboard":P.default}),i.default.register(l.default,u.default,h.default,y.default,_.default,w.default),e.default=s.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=function(){function t(t){this.domNode=t,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new o.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"===typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"===typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return o.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},t.prototype.deleteAt=function(t,e){var n=this.isolate(t,e);n.remove()},t.prototype.formatAt=function(t,e,n,i){var r=this.isolate(t,e);if(null!=o.query(n,o.Scope.BLOT)&&i)r.wrap(n,i);else if(null!=o.query(n,o.Scope.ATTRIBUTE)){var s=o.create(this.statics.scope);r.wrap(s),s.format(n,i)}},t.prototype.insertAt=function(t,e,n){var i=null==n?o.create("text",e):o.create(e,n),r=this.split(t);this.parent.insertBefore(i,r)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[o.DATA_KEY]&&delete this.domNode[o.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"===typeof t?o.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"===typeof t?o.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),i=n(32),r=n(33),s=n(1),a=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=o.default.keys(this.domNode),n=i.default.keys(this.domNode),a=r.default.keys(this.domNode);e.concat(n).concat(a).forEach((function(e){var n=s.query(e,s.Scope.ATTRIBUTE);n instanceof o.default&&(t.attributes[n.attrName]=n)}))},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach((function(n){var o=e.attributes[n].value(e.domNode);t.format(n,o)}))},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach((function(t){e.attributes[t].remove(e.domNode)})),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce((function(e,n){return e[n]=t.attributes[n].value(t.domNode),e}),{})},t}();e.default=a},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(12);function r(t,e){var n=t.getAttribute("class")||"";return n.split(/\s+/).filter((function(t){return 0===t.indexOf(e+"-")}))}var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map((function(t){return t.split("-").slice(0,-1).join("-")}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){var e=r(t,this.keyName);e.forEach((function(e){t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=r(t,this.keyName)[0]||"",n=e.slice(this.keyName.length+1);return this.canAdd(t,n)?n:""},e}(i.default);e.default=s},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(12);function r(t){var e=t.split("-"),n=e.slice(1).map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("");return e[0]+n}var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map((function(t){var e=t.split(":");return e[0].trim()}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[r(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[r(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[r(this.keyName)];return this.canAdd(t,e)?e:""},e}(i.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(e,n){i(this,t),this.quill=e,this.options=n,this.modules={}}return o(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach((function(e){null==t.modules[e]&&t.addModule(e)}))}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();r.DEFAULTS={modules:{}},r.themes={default:r},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(0),s=c(r),a=n(7),l=c(a);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d="\ufeff",h=function(t){function e(t){u(this,e);var n=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(t){n.contentNode.appendChild(t)})),n.leftGuard=document.createTextNode(d),n.rightGuard=document.createTextNode(d),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return f(e,t),o(e,[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"restore",value:function(t){var e=void 0,n=void 0,o=t.data.split(d).join("");if(t===this.leftGuard)if(this.prev instanceof l.default){var i=this.prev.length();this.prev.insertAt(i,o),e={startNode:this.prev.domNode,startOffset:i+o.length}}else n=document.createTextNode(o),this.parent.insertBefore(s.default.create(n),this),e={startNode:n,startOffset:o.length};else t===this.rightGuard&&(this.next instanceof l.default?(this.next.insertAt(0,o),e={startNode:this.next.domNode,startOffset:o.length}):(n=document.createTextNode(o),this.parent.insertBefore(s.default.create(n),this.next),e={startNode:n,startOffset:o.length}));return t.data=d,e}},{key:"update",value:function(t,e){var n=this;t.forEach((function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var o=n.restore(t.target);o&&(e.range=o)}}))}}]),e}(s.default.Embed);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var o=n(0),i=r(o);function r(t){return t&&t.__esModule?t:{default:t}}var s={scope:i.default.Scope.BLOCK,whitelist:["right","center","justify"]},a=new i.default.Attributor.Attribute("align","align",s),l=new i.default.Attributor.Class("align","ql-align",s),c=new i.default.Attributor.Style("align","text-align",s);e.AlignAttribute=a,e.AlignClass=l,e.AlignStyle=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var o=n(0),i=s(o),r=n(26);function s(t){return t&&t.__esModule?t:{default:t}}var a=new i.default.Attributor.Class("background","ql-bg",{scope:i.default.Scope.INLINE}),l=new r.ColorAttributor("background","background-color",{scope:i.default.Scope.INLINE});e.BackgroundClass=a,e.BackgroundStyle=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var o=n(0),i=r(o);function r(t){return t&&t.__esModule?t:{default:t}}var s={scope:i.default.Scope.BLOCK,whitelist:["rtl"]},a=new i.default.Attributor.Attribute("direction","dir",s),l=new i.default.Attributor.Class("direction","ql-direction",s),c=new i.default.Attributor.Style("direction","direction",s);e.DirectionAttribute=a,e.DirectionClass=l,e.DirectionStyle=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(0),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},f=new s.default.Attributor.Class("font","ql-font",p),d=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),o(e,[{key:"value",value:function(t){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}(s.default.Attributor.Style),h=new d("font","font-family",p);e.FontStyle=h,e.FontClass=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var o=n(0),i=r(o);function r(t){return t&&t.__esModule?t:{default:t}}var s=new i.default.Attributor.Class("size","ql-size",{scope:i.default.Scope.INLINE,whitelist:["small","large","huge"]}),a=new i.default.Attributor.Style("size","font-size",{scope:i.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=s,e.SizeStyle=a},function(t,e,n){"use strict";t.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(0),r=u(i),s=n(5),a=u(s),l=n(9),c=u(l);function u(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(t,n){p(this,e);var o=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.lastRecorded=0,o.ignoreChange=!1,o.clear(),o.quill.on(a.default.events.EDITOR_CHANGE,(function(t,e,n,i){t!==a.default.events.TEXT_CHANGE||o.ignoreChange||(o.options.userOnly&&i!==a.default.sources.USER?o.transform(e):o.record(e,n))})),o.quill.keyboard.addBinding({key:"Z",shortKey:!0},o.undo.bind(o)),o.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},o.redo.bind(o)),/Win/i.test(navigator.platform)&&o.quill.keyboard.addBinding({key:"Y",shortKey:!0},o.redo.bind(o)),o}return d(e,t),o(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],a.default.sources.USER),this.ignoreChange=!1;var o=m(n[t]);this.quill.setSelection(o)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){var i=this.stack.undo.pop();n=n.compose(i.undo),t=i.redo.compose(t)}else this.lastRecorded=o;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})),this.stack.redo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}(c.default);function v(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"===typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some((function(t){return null!=r.default.query(t,r.default.Scope.BLOCK)})))}function m(t){var e=t.reduce((function(t,e){return t+=e.delete||0,t}),0),n=t.length()-e;return v(t)&&(n-=1),n}h.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=h,e.getLastChangeIndex=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(3),s=k(r),a=n(2),l=k(a),c=n(8),u=k(c),p=n(23),f=k(p),d=n(34),h=k(d),v=n(59),m=k(v),b=n(60),y=k(b),g=n(28),_=k(g),C=n(61),w=k(C);function k(t){return t&&t.__esModule?t:{default:t}}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function A(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var E=[!1,"center","right","justify"],P=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],j=[!1,"serif","monospace"],S=["1","2","3",!1],T=["small",!1,"large","huge"],N=function(t){function e(t,n){O(this,e);var o=x(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=function e(n){if(!document.body.contains(t.root))return document.body.removeEventListener("click",e);null==o.tooltip||o.tooltip.root.contains(n.target)||document.activeElement===o.tooltip.textbox||o.quill.hasFocus()||o.tooltip.hide(),null!=o.pickers&&o.pickers.forEach((function(t){t.container.contains(n.target)||t.close()}))};return t.emitter.listenDOM("click",document.body,i),o}return A(e,t),o(e,[{key:"addModule",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){t.forEach((function(t){var n=t.getAttribute("class")||"";n.split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n]["rtl"];else if("string"===typeof e[n])t.innerHTML=e[n];else{var o=t.value||"";null!=o&&e[n][o]&&(t.innerHTML=e[n][o])}}))}))}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=t.map((function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&D(t,E),new y.default(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&D(t,P,"background"===n?"#ffffff":"#000000"),new m.default(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?D(t,j):t.classList.contains("ql-header")?D(t,S):t.classList.contains("ql-size")&&D(t,T)),new _.default(t)}));var o=function(){n.pickers.forEach((function(t){t.update()}))};this.quill.on(u.default.events.EDITOR_CHANGE,o)}}]),e}(h.default);N.DEFAULTS=(0,s.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",(function(){if(null!=e.files&&null!=e.files[0]){var n=new FileReader;n.onload=function(n){var o=t.quill.getSelection(!0);t.quill.updateContents((new l.default).retain(o.index).delete(o.length).insert({image:n.target.result}),u.default.sources.USER),t.quill.setSelection(o.index+1,u.default.sources.SILENT),e.value=""},n.readAsDataURL(e.files[0])}})),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var q=function(t){function e(t,n){O(this,e);var o=x(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.textbox=o.root.querySelector('input[type="text"]'),o.listen(),o}return A(e,t),o(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",(function(e){f.default.match(e,"enter")?(t.save(),e.preventDefault()):f.default.match(e,"escape")&&(t.cancel(),e.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,u.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,u.default.sources.USER)),this.quill.root.scrollTop=e;break;case"video":t=L(t);case"formula":if(!t)break;var n=this.quill.getSelection(!0);if(null!=n){var o=n.index+n.length;this.quill.insertEmbed(o,this.root.getAttribute("data-mode"),t,u.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(o+1," ",u.default.sources.USER),this.quill.setSelection(o+2,u.default.sources.USER)}break;default:}this.textbox.value="",this.hide()}}]),e}(w.default);function L(t){var e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0":(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/":t}function D(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var o=document.createElement("option");e===n?o.setAttribute("selected","selected"):o.setAttribute("value",e),t.appendChild(o)}))}e.BaseTooltip=q,e.default=N},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){var e,n=this.iterator();while(e=n())if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){var e=0,n=this.head;while(null!=n){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);var n,o=this.iterator();while(n=o()){var i=n.length();if(t<i||e&&t===i&&(null==n.next||0!==n.next.length()))return[n,t];t-=i}return[null,0]},t.prototype.forEach=function(t){var e,n=this.iterator();while(e=n())t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0)){var o,i=this.find(t),r=i[0],s=i[1],a=t-s,l=this.iterator(r);while((o=l())&&a<t+e){var c=o.length();t>a?n(o,t-a,Math.min(e,a+c-t)):n(o,0,Math.min(c,t+e-a)),a+=c}}},t.prototype.map=function(t){return this.reduce((function(e,n){return e.push(t(n)),e}),[])},t.prototype.reduce=function(t,e){var n,o=this.iterator();while(n=o())e=t(e,n);return e},t}();e.default=o},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(17),r=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},a=100,l=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver((function(t){n.update(t)})),n.observer.observe(n.domNode,s),n.attach(),n}return o(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach((function(t){t.remove()})):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,o,i){this.update(),t.prototype.formatAt.call(this,e,n,o,i)},e.prototype.insertAt=function(e,n,o){this.update(),t.prototype.insertAt.call(this,e,n,o)},e.prototype.optimize=function(e,n){var o=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);var s=[].slice.call(this.observer.takeRecords());while(s.length>0)e.push(s.pop());for(var l=function(t,e){void 0===e&&(e=!0),null!=t&&t!==o&&null!=t.domNode.parentNode&&(null==t.domNode[r.DATA_KEY].mutations&&(t.domNode[r.DATA_KEY].mutations=[]),e&&l(t.parent))},c=function(t){null!=t.domNode[r.DATA_KEY]&&null!=t.domNode[r.DATA_KEY].mutations&&(t instanceof i.default&&t.children.forEach(c),t.optimize(n))},u=e,p=0;u.length>0;p+=1){if(p>=a)throw new Error("[Parchment] Maximum optimize iterations reached");u.forEach((function(t){var e=r.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(l(r.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,(function(t){var e=r.find(t,!1);l(e,!1),e instanceof i.default&&e.children.forEach((function(t){l(t,!1)}))}))):"attributes"===t.type&&l(e.prev)),l(e))})),this.children.forEach(c),u=[].slice.call(this.observer.takeRecords()),s=u.slice();while(s.length>0)e.push(s.pop())}},e.prototype.update=function(e,n){var o=this;void 0===n&&(n={}),e=e||this.observer.takeRecords(),e.map((function(t){var e=r.find(t.target,!0);return null==e?null:null==e.domNode[r.DATA_KEY].mutations?(e.domNode[r.DATA_KEY].mutations=[t],e):(e.domNode[r.DATA_KEY].mutations.push(t),null)})).forEach((function(t){null!=t&&t!==o&&null!=t.domNode[r.DATA_KEY]&&t.update(t.domNode[r.DATA_KEY].mutations||[],n)})),null!=this.domNode[r.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[r.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild="block",e.scope=r.Scope.BLOCK_BLOT,e.tagName="DIV",e}(i.default);e.default=l},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),r=n(1);function s(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,o){var r=this;n!==this.statics.blotName||o?t.prototype.format.call(this,n,o):(this.children.forEach((function(t){t instanceof i.default||(t=t.wrap(e.blotName,!0)),r.attributes.copy(t)})),this.unwrap())},e.prototype.formatAt=function(e,n,o,i){if(null!=this.formats()[o]||r.query(o,r.Scope.ATTRIBUTE)){var s=this.isolate(e,n);s.format(o,i)}else t.prototype.formatAt.call(this,e,n,o,i)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var o=this.formats();if(0===Object.keys(o).length)return this.unwrap();var i=this.next;i instanceof e&&i.prev===this&&s(o,i.formats())&&(i.moveChildren(this),i.remove())},e.blotName="inline",e.scope=r.Scope.INLINE_BLOT,e.tagName="SPAN",e}(i.default);e.default=a},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),r=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(n){var o=r.query(e.blotName).tagName;if(n.tagName!==o)return t.formats.call(this,n)},e.prototype.format=function(n,o){null!=r.query(n,r.Scope.BLOCK)&&(n!==this.statics.blotName||o?t.prototype.format.call(this,n,o):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,o,i){null!=r.query(o,r.Scope.BLOCK)?this.format(o,i):t.prototype.formatAt.call(this,e,n,o,i)},e.prototype.insertAt=function(e,n,o){if(null==o||null!=r.query(n,r.Scope.INLINE))t.prototype.insertAt.call(this,e,n,o);else{var i=this.split(e),s=r.create(n,o);i.parent.insertBefore(s,i)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName="block",e.scope=r.Scope.BLOCK_BLOT,e.tagName="P",e}(i.default);e.default=s},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,o,i){0===e&&n===this.length()?this.format(o,i):t.prototype.formatAt.call(this,e,n,o,i)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(i.default);e.default=r},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),r=n(1),s=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return o(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e["normalize"]&&(e=e["normalize"]()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,o){null==o?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,o)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=r.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some((function(t){return"characterData"===t.type&&t.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=r.Scope.INLINE_BLOT,e}(i.default);e.default=s},function(t,e,n){"use strict";var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)===!e?e:i.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!==typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var o=n.indexOf(t,e);return-1!==o&&o===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),o=n.length>>>0,i=arguments[1],r=0;r<o;r++)if(e=n[r],t.call(i,e,r,n))return e}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(t,e){var n=-1,o=1,i=0;function r(t,e,n){if(t==e)return t?[[i,t]]:[];(n<0||t.length<n)&&(n=null);var o=c(t,e),r=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=u(t,e);var a=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var l=s(t,e);return r&&l.unshift([i,r]),a&&l.push([i,a]),f(l),null!=n&&(l=v(l,n)),l=m(l),l}function s(t,e){var s;if(!t)return[[o,e]];if(!e)return[[n,t]];var l=t.length>e.length?t:e,c=t.length>e.length?e:t,u=l.indexOf(c);if(-1!=u)return s=[[o,l.substring(0,u)],[i,c],[o,l.substring(u+c.length)]],t.length>e.length&&(s[0][0]=s[2][0]=n),s;if(1==c.length)return[[n,t],[o,e]];var f=p(t,e);if(f){var d=f[0],h=f[1],v=f[2],m=f[3],b=f[4],y=r(d,v),g=r(h,m);return y.concat([[i,b]],g)}return a(t,e)}function a(t,e){for(var i=t.length,r=e.length,s=Math.ceil((i+r)/2),a=s,c=2*s,u=new Array(c),p=new Array(c),f=0;f<c;f++)u[f]=-1,p[f]=-1;u[a+1]=0,p[a+1]=0;for(var d=i-r,h=d%2!=0,v=0,m=0,b=0,y=0,g=0;g<s;g++){for(var _=-g+v;_<=g-m;_+=2){var C=a+_;E=_==-g||_!=g&&u[C-1]<u[C+1]?u[C+1]:u[C-1]+1;var w=E-_;while(E<i&&w<r&&t.charAt(E)==e.charAt(w))E++,w++;if(u[C]=E,E>i)m+=2;else if(w>r)v+=2;else if(h){var k=a+d-_;if(k>=0&&k<c&&-1!=p[k]){var O=i-p[k];if(E>=O)return l(t,e,E,w)}}}for(var x=-g+b;x<=g-y;x+=2){k=a+x;O=x==-g||x!=g&&p[k-1]<p[k+1]?p[k+1]:p[k-1]+1;var A=O-x;while(O<i&&A<r&&t.charAt(i-O-1)==e.charAt(r-A-1))O++,A++;if(p[k]=O,O>i)y+=2;else if(A>r)b+=2;else if(!h){C=a+d-x;if(C>=0&&C<c&&-1!=u[C]){var E=u[C];w=a+E-C;if(O=i-O,E>=O)return l(t,e,E,w)}}}}return[[n,t],[o,e]]}function l(t,e,n,o){var i=t.substring(0,n),s=e.substring(0,o),a=t.substring(n),l=e.substring(o),c=r(i,s),u=r(a,l);return c.concat(u)}function c(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;var n=0,o=Math.min(t.length,e.length),i=o,r=0;while(n<i)t.substring(r,i)==e.substring(r,i)?(n=i,r=n):o=i,i=Math.floor((o-n)/2+n);return i}function u(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;var n=0,o=Math.min(t.length,e.length),i=o,r=0;while(n<i)t.substring(t.length-i,t.length-r)==e.substring(e.length-i,e.length-r)?(n=i,r=n):o=i,i=Math.floor((o-n)/2+n);return i}function p(t,e){var n=t.length>e.length?t:e,o=t.length>e.length?e:t;if(n.length<4||2*o.length<n.length)return null;function i(t,e,n){var o,i,r,s,a=t.substring(n,n+Math.floor(t.length/4)),l=-1,p="";while(-1!=(l=e.indexOf(a,l+1))){var f=c(t.substring(n),e.substring(l)),d=u(t.substring(0,n),e.substring(0,l));p.length<d+f&&(p=e.substring(l-d,l)+e.substring(l,l+f),o=t.substring(0,n-d),i=t.substring(n+f),r=e.substring(0,l-d),s=e.substring(l+f))}return 2*p.length>=t.length?[o,i,r,s,p]:null}var r,s,a,l,p,f=i(n,o,Math.ceil(n.length/4)),d=i(n,o,Math.ceil(n.length/2));if(!f&&!d)return null;r=d?f&&f[4].length>d[4].length?f:d:f,t.length>e.length?(s=r[0],a=r[1],l=r[2],p=r[3]):(l=r[0],p=r[1],s=r[2],a=r[3]);var h=r[4];return[s,a,l,p,h]}function f(t){t.push([i,""]);var e,r=0,s=0,a=0,l="",p="";while(r<t.length)switch(t[r][0]){case o:a++,p+=t[r][1],r++;break;case n:s++,l+=t[r][1],r++;break;case i:s+a>1?(0!==s&&0!==a&&(e=c(p,l),0!==e&&(r-s-a>0&&t[r-s-a-1][0]==i?t[r-s-a-1][1]+=p.substring(0,e):(t.splice(0,0,[i,p.substring(0,e)]),r++),p=p.substring(e),l=l.substring(e)),e=u(p,l),0!==e&&(t[r][1]=p.substring(p.length-e)+t[r][1],p=p.substring(0,p.length-e),l=l.substring(0,l.length-e))),0===s?t.splice(r-a,s+a,[o,p]):0===a?t.splice(r-s,s+a,[n,l]):t.splice(r-s-a,s+a,[n,l],[o,p]),r=r-s-a+(s?1:0)+(a?1:0)+1):0!==r&&t[r-1][0]==i?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,a=0,s=0,l="",p="";break}""===t[t.length-1][1]&&t.pop();var d=!1;r=1;while(r<t.length-1)t[r-1][0]==i&&t[r+1][0]==i&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)==t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),d=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),d=!0)),r++;d&&f(t)}var d=r;function h(t,e){if(0===e)return[i,t];for(var o=0,r=0;r<t.length;r++){var s=t[r];if(s[0]===n||s[0]===i){var a=o+s[1].length;if(e===a)return[r+1,t];if(e<a){t=t.slice();var l=e-o,c=[s[0],s[1].slice(0,l)],u=[s[0],s[1].slice(l)];return t.splice(r,1,c,u),[r+1,t]}o=a}}throw new Error("cursor_pos is out of bounds!")}function v(t,e){var n=h(t,e),o=n[1],r=n[0],s=o[r],a=o[r+1];if(null==s)return t;if(s[0]!==i)return t;if(null!=a&&s[1]+a[1]===a[1]+s[1])return o.splice(r,2,a,s),b(o,r,2);if(null!=a&&0===a[1].indexOf(s[1])){o.splice(r,2,[a[0],s[1]],[0,s[1]]);var l=a[1].slice(s[1].length);return l.length>0&&o.splice(r+2,0,[a[0],l]),b(o,r,3)}return t}function m(t){for(var e=!1,r=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},s=function(t){return t.charCodeAt(t.length-1)>=55296&&t.charCodeAt(t.length-1)<=56319},a=2;a<t.length;a+=1)t[a-2][0]===i&&s(t[a-2][1])&&t[a-1][0]===n&&r(t[a-1][1])&&t[a][0]===o&&r(t[a][1])&&(e=!0,t[a-1][1]=t[a-2][1].slice(-1)+t[a-1][1],t[a][1]=t[a-2][1].slice(-1)+t[a][1],t[a-2][1]=t[a-2][1].slice(0,-1));if(!e)return t;var l=[];for(a=0;a<t.length;a+=1)t[a][1].length>0&&l.push(t[a]);return l}function b(t,e,n){for(var o=e+n-1;o>=0&&o>=e-1;o--)if(o+1<t.length){var i=t[o],r=t[o+1];i[0]===r[1]&&t.splice(o,2,[i[0],i[1]+r[1]])}return t}d.INSERT=o,d.DELETE=n,d.EQUAL=i,t.exports=d},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}e=t.exports="function"===typeof Object.keys?Object.keys:n,e.shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function o(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}e=t.exports=n?o:i,e.supported=o,e.unsupported=i},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,o="~";function i(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),s.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t,e){var n=o?o+t:t,i=this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,s=i.length,a=new Array(s);r<s;r++)a[r]=i[r].fn;return a},s.prototype.emit=function(t,e,n,i,r,s){var a=o?o+t:t;if(!this._events[a])return!1;var l,c,u=this._events[a],p=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),p){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,i),!0;case 5:return u.fn.call(u.context,e,n,i,r),!0;case 6:return u.fn.call(u.context,e,n,i,r,s),!0}for(c=1,l=new Array(p-1);c<p;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,d=u.length;for(c=0;c<d;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),p){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;case 4:u[c].fn.call(u[c].context,e,n,i);break;default:if(!l)for(f=1,l=new Array(p-1);f<p;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(t,e,n){var i=new r(e,n||this),s=o?o+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):(this._events[s]=i,this._eventsCount++),this},s.prototype.once=function(t,e,n){var i=new r(e,n||this,!0),s=o?o+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):(this._events[s]=i,this._eventsCount++),this},s.prototype.removeListener=function(t,e,n,r){var s=o?o+t:t;if(!this._events[s])return this;if(!e)return 0===--this._eventsCount?this._events=new i:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||(0===--this._eventsCount?this._events=new i:delete this._events[s]);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==e||r&&!a[l].once||n&&a[l].context!==n)&&c.push(a[l]);c.length?this._events[s]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new i:delete this._events[s]}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&(0===--this._eventsCount?this._events=new i:delete this._events[e])):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=o,s.EventEmitter=s,"undefined"!==typeof t&&(t.exports=s)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done);o=!0)if(n.push(s.value),e&&n.length===e)break}catch(l){i=!0,r=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(3),a=A(s),l=n(2),c=A(l),u=n(0),p=A(u),f=n(5),d=A(f),h=n(10),v=A(h),m=n(9),b=A(m),y=n(36),g=n(37),_=n(13),C=A(_),w=n(26),k=n(38),O=n(39),x=n(40);function A(t){return t&&t.__esModule?t:{default:t}}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function S(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var T=(0,v.default)("quill:clipboard"),N="__ql-matcher",q=[[Node.TEXT_NODE,X],[Node.TEXT_NODE,K],["br",V],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,z],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,H],[Node.ELEMENT_NODE,Z],["li",W],["b",F.bind(F,"bold")],["i",F.bind(F,"italic")],["style",Y]],L=[y.AlignAttribute,k.DirectionAttribute].reduce((function(t,e){return t[e.keyName]=e,t}),{}),D=[y.AlignStyle,g.BackgroundStyle,w.ColorStyle,k.DirectionStyle,O.FontStyle,x.SizeStyle].reduce((function(t,e){return t[e.keyName]=e,t}),{}),M=function(t){function e(t,n){P(this,e);var o=j(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.quill.root.addEventListener("paste",o.onPaste.bind(o)),o.container=o.quill.addContainer("ql-clipboard"),o.container.setAttribute("contenteditable",!0),o.container.setAttribute("tabindex",-1),o.matchers=[],q.concat(o.options.matchers).forEach((function(t){var e=i(t,2),r=e[0],s=e[1];(n.matchVisual||s!==G)&&o.addMatcher(r,s)})),o}return S(e,t),r(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"===typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[C.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new c.default).insert(n,E({},C.default.blotName,e[C.default.blotName]))}var o=this.prepareMatching(),r=i(o,2),s=r[0],a=r[1],l=U(this.container,s,a);return B(l,"\n")&&null==l.ops[l.ops.length-1].attributes&&(l=l.compose((new c.default).retain(l.length()-1).delete(1))),T.log("convert",this.container.innerHTML,l),this.container.innerHTML="",l}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.default.sources.API;if("string"===typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,d.default.sources.SILENT);else{var o=this.convert(e);this.quill.updateContents((new c.default).retain(t).concat(o),n),this.quill.setSelection(t+o.length(),d.default.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),o=(new c.default).retain(n.index),i=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(d.default.sources.SILENT),setTimeout((function(){o=o.concat(e.convert()).delete(n.length),e.quill.updateContents(o,d.default.sources.USER),e.quill.setSelection(o.length()-n.length,d.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=i,e.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],n=[];return this.matchers.forEach((function(o){var r=i(o,2),s=r[0],a=r[1];switch(s){case Node.TEXT_NODE:n.push(a);break;case Node.ELEMENT_NODE:e.push(a);break;default:[].forEach.call(t.container.querySelectorAll(s),(function(t){t[N]=t[N]||[],t[N].push(a)}));break}})),[e,n]}}]),e}(b.default);function $(t,e,n){return"object"===("undefined"===typeof e?"undefined":o(e))?Object.keys(e).reduce((function(t,n){return $(t,n,e[n])}),t):t.reduce((function(t,o){return o.attributes&&o.attributes[e]?t.push(o):t.insert(o.insert,(0,a.default)({},E({},e,n),o.attributes))}),new c.default)}function I(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};var e="__ql-computed-style";return t[e]||(t[e]=window.getComputedStyle(t))}function B(t,e){for(var n="",o=t.ops.length-1;o>=0&&n.length<e.length;--o){var i=t.ops[o];if("string"!==typeof i.insert)break;n=i.insert+n}return n.slice(-1*e.length)===e}function R(t){if(0===t.childNodes.length)return!1;var e=I(t);return["block","list-item"].indexOf(e.display)>-1}function U(t,e,n){return t.nodeType===t.TEXT_NODE?n.reduce((function(e,n){return n(t,e)}),new c.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(o,i){var r=U(i,e,n);return i.nodeType===t.ELEMENT_NODE&&(r=e.reduce((function(t,e){return e(i,t)}),r),r=(i[N]||[]).reduce((function(t,e){return e(i,t)}),r)),o.concat(r)}),new c.default):new c.default}function F(t,e,n){return $(n,t,!0)}function H(t,e){var n=p.default.Attributor.Attribute.keys(t),o=p.default.Attributor.Class.keys(t),i=p.default.Attributor.Style.keys(t),r={};return n.concat(o).concat(i).forEach((function(e){var n=p.default.query(e,p.default.Scope.ATTRIBUTE);null!=n&&(r[n.attrName]=n.value(t),r[n.attrName])||(n=L[e],null==n||n.attrName!==e&&n.keyName!==e||(r[n.attrName]=n.value(t)||void 0),n=D[e],null==n||n.attrName!==e&&n.keyName!==e||(n=D[e],r[n.attrName]=n.value(t)||void 0))})),Object.keys(r).length>0&&(e=$(e,r)),e}function z(t,e){var n=p.default.query(t);if(null==n)return e;if(n.prototype instanceof p.default.Embed){var o={},i=n.value(t);null!=i&&(o[n.blotName]=i,e=(new c.default).insert(o,n.formats(t)))}else"function"===typeof n.formats&&(e=$(e,n.blotName,n.formats(t)));return e}function V(t,e){return B(e,"\n")||e.insert("\n"),e}function Y(){return new c.default}function W(t,e){var n=p.default.query(t);if(null==n||"list-item"!==n.blotName||!B(e,"\n"))return e;var o=-1,i=t.parentNode;while(!i.classList.contains("ql-clipboard"))"list"===(p.default.query(i)||{}).blotName&&(o+=1),i=i.parentNode;return o<=0?e:e.compose((new c.default).retain(e.length()-1).retain(1,{indent:o}))}function K(t,e){return B(e,"\n")||(R(t)||e.length()>0&&t.nextSibling&&R(t.nextSibling))&&e.insert("\n"),e}function G(t,e){if(R(t)&&null!=t.nextElementSibling&&!B(e,"\n\n")){var n=t.offsetHeight+parseFloat(I(t).marginTop)+parseFloat(I(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}function Z(t,e){var n={},o=t.style||{};return o.fontStyle&&"italic"===I(t).fontStyle&&(n.italic=!0),o.fontWeight&&(I(t).fontWeight.startsWith("bold")||parseInt(I(t).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(e=$(e,n)),parseFloat(o.textIndent||0)>0&&(e=(new c.default).insert("\t").concat(e)),e}function X(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!I(t.parentNode).whiteSpace.startsWith("pre")){var o=function(t,e){return e=e.replace(/[^\u00a0]/g,""),e.length<1&&t?" ":e};n=n.replace(/\r\n/g," ").replace(/\n/g," "),n=n.replace(/\s\s+/g,o.bind(o,!0)),(null==t.previousSibling&&R(t.parentNode)||null!=t.previousSibling&&R(t.previousSibling))&&(n=n.replace(/^\s+/,o.bind(o,!1))),(null==t.nextSibling&&R(t.parentNode)||null!=t.nextSibling&&R(t.nextSibling))&&(n=n.replace(/\s+$/,o.bind(o,!1)))}return e.insert(n)}M.DEFAULTS={matchers:[],matchVisual:!0},e.default=M,e.matchAttributor=H,e.matchBlot=z,e.matchNewline=K,e.matchSpacing=G,e.matchText=X},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(6),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),o(e,[{key:"optimize",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}(s.default);p.blotName="bold",p.tagName=["STRONG","B"],e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var o=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done);o=!0)if(n.push(s.value),e&&n.length===e)break}catch(l){i=!0,r=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(2),s=v(r),a=n(0),l=v(a),c=n(5),u=v(c),p=n(10),f=v(p),d=n(9),h=v(d);function v(t){return t&&t.__esModule?t:{default:t}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function g(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _=(0,f.default)("quill:toolbar"),C=function(t){function e(t,n){b(this,e);var i,r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(r.options.container)){var s=document.createElement("div");k(s,r.options.container),t.container.parentNode.insertBefore(s,t.container),r.container=s}else"string"===typeof r.options.container?r.container=document.querySelector(r.options.container):r.container=r.options.container;return r.container instanceof HTMLElement?(r.container.classList.add("ql-toolbar"),r.controls=[],r.handlers={},Object.keys(r.options.handlers).forEach((function(t){r.addHandler(t,r.options.handlers[t])})),[].forEach.call(r.container.querySelectorAll("button, select"),(function(t){r.attach(t)})),r.quill.on(u.default.events.EDITOR_CHANGE,(function(t,e){t===u.default.events.SELECTION_CHANGE&&r.update(e)})),r.quill.on(u.default.events.SCROLL_OPTIMIZE,(function(){var t=r.quill.selection.getRange(),e=o(t,1),n=e[0];r.update(n)})),r):(i=_.error("Container required for toolbar",r.options),y(r,i))}return g(e,t),i(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=[].find.call(t.classList,(function(t){return 0===t.indexOf("ql-")}));if(n){if(n=n.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void _.warn("ignoring attaching to disabled format",n,t);if(null==l.default.query(n))return void _.warn("ignoring attaching to nonexistent format",n,t)}var i="SELECT"===t.tagName?"change":"click";t.addEventListener(i,(function(i){var r=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var a=t.options[t.selectedIndex];r=!a.hasAttribute("selected")&&(a.value||!1)}else r=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),i.preventDefault();e.quill.focus();var c=e.quill.selection.getRange(),p=o(c,1),f=p[0];if(null!=e.handlers[n])e.handlers[n].call(e,r);else if(l.default.query(n).prototype instanceof l.default.Embed){if(r=prompt("Enter "+n),!r)return;e.quill.updateContents((new s.default).retain(f.index).delete(f.length).insert(m({},n,r)),u.default.sources.USER)}else e.quill.format(n,r,u.default.sources.USER);e.update(f)})),this.controls.push([n,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach((function(n){var i=o(n,2),r=i[0],s=i[1];if("SELECT"===s.tagName){var a=void 0;if(null==t)a=null;else if(null==e[r])a=s.querySelector("option[selected]");else if(!Array.isArray(e[r])){var l=e[r];"string"===typeof l&&(l=l.replace(/\"/g,'\\"')),a=s.querySelector('option[value="'+l+'"]')}null==a?(s.value="",s.selectedIndex=-1):a.selected=!0}else if(null==t)s.classList.remove("ql-active");else if(s.hasAttribute("value")){var c=e[r]===s.getAttribute("value")||null!=e[r]&&e[r].toString()===s.getAttribute("value")||null==e[r]&&!s.getAttribute("value");s.classList.toggle("ql-active",c)}else s.classList.toggle("ql-active",null!=e[r])}))}}]),e}(h.default);function w(t,e,n){var o=document.createElement("button");o.setAttribute("type","button"),o.classList.add("ql-"+e),null!=n&&(o.value=n),t.appendChild(o)}function k(t,e){Array.isArray(e[0])||(e=[e]),e.forEach((function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach((function(t){if("string"===typeof t)w(n,t);else{var e=Object.keys(t)[0],o=t[e];Array.isArray(o)?O(n,e,o):w(n,e,o)}})),t.appendChild(n)}))}function O(t,e,n){var o=document.createElement("select");o.classList.add("ql-"+e),n.forEach((function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),o.appendChild(e)})),t.appendChild(o)}C.DEFAULTS={},C.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(e){null!=l.default.query(e,l.default.Scope.INLINE)&&t.quill.format(e,!1)}))}else this.quill.removeFormat(e,u.default.sources.USER)},direction:function(t){var e=this.quill.getFormat()["align"];"rtl"===t&&null==e?this.quill.format("align","right",u.default.sources.USER):t||"right"!==e||this.quill.format("align",!1,u.default.sources.USER),this.quill.format("direction",t,u.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),o=parseInt(n.indent||0);if("+1"===t||"-1"===t){var i="+1"===t?1:-1;"rtl"===n.direction&&(i*=-1),this.quill.format("indent",o+i,u.default.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,u.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);"check"===t?"checked"===n["list"]||"unchecked"===n["list"]?this.quill.format("list",!1,u.default.sources.USER):this.quill.format("list","unchecked",u.default.sources.USER):this.quill.format("list",t,u.default.sources.USER)}}},e.default=C,e.addControls=k},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(28),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(t,n){l(this,e);var o=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.label.innerHTML=n,o.container.classList.add("ql-color-picker"),[].slice.call(o.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(t){t.classList.add("ql-primary")})),o}return u(e,t),o(e,[{key:"buildItem",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n);var o=this.label.querySelector(".ql-color-label"),r=t&&t.getAttribute("data-value")||"";o&&("line"===o.tagName?o.style.stroke=r:o.style.fill=r)}}]),e}(s.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(28),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(t,n){l(this,e);var o=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.container.classList.add("ql-icon-picker"),[].forEach.call(o.container.querySelectorAll(".ql-picker-item"),(function(t){t.innerHTML=n[t.getAttribute("data-value")||""]})),o.defaultItem=o.container.querySelector(".ql-selected"),o.selectItem(o.defaultItem),o}return u(e,t),o(e,[{key:"selectItem",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML}}]),e}(s.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(e,n){var o=this;i(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){o.root.style.marginTop=-1*o.quill.root.scrollTop+"px"})),this.hide()}return o(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var o=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect(),r=0;if(i.right>o.right&&(r=o.right-i.right,this.root.style.left=e+r+"px"),i.left<o.left&&(r=o.left-i.left,this.root.style.left=e+r+"px"),i.bottom>o.bottom){var s=i.bottom-i.top,a=t.bottom-t.top+s;this.root.style.top=n-a+"px",this.root.classList.add("ql-flip")}return r}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done);o=!0)if(n.push(s.value),e&&n.length===e)break}catch(l){i=!0,r=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(3),a=b(s),l=n(8),c=b(l),u=n(43),p=b(u),f=n(27),d=b(f),h=n(15),v=n(41),m=b(v);function b(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function _(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var C=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],w=function(t){function e(t,n){y(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=C);var o=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.quill.container.classList.add("ql-snow"),o}return _(e,t),r(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),m.default),this.tooltip=new k(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(e,n){t.handlers["link"].call(t,!n.format.link)}))}}]),e}(p.default);w.DEFAULTS=(0,a.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n);var o=this.quill.theme.tooltip;o.edit("link",n)}else this.quill.format("link",!1)}}}}});var k=function(t){function e(t,n){y(this,e);var o=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.preview=o.root.querySelector("a.ql-preview"),o}return _(e,t),r(e,[{key:"listen",value:function(){var t=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,c.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()})),this.quill.on(c.default.events.SELECTION_CHANGE,(function(e,n,i){if(null!=e){if(0===e.length&&i===c.default.sources.USER){var r=t.quill.scroll.descendant(d.default,e.index),s=o(r,2),a=s[0],l=s[1];if(null!=a){t.linkRange=new h.Range(e.index-l,a.length());var u=d.default.formats(a.domNode);return t.preview.textContent=u,t.preview.setAttribute("href",u),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}}))}},{key:"show",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}(u.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(29),i=nt(o),r=n(36),s=n(38),a=n(64),l=n(65),c=nt(l),u=n(66),p=nt(u),f=n(67),d=nt(f),h=n(37),v=n(26),m=n(39),b=n(40),y=n(56),g=nt(y),_=n(68),C=nt(_),w=n(27),k=nt(w),O=n(69),x=nt(O),A=n(70),E=nt(A),P=n(71),j=nt(P),S=n(72),T=nt(S),N=n(73),q=nt(N),L=n(13),D=nt(L),M=n(74),$=nt(M),I=n(75),B=nt(I),R=n(57),U=nt(R),F=n(41),H=nt(F),z=n(28),V=nt(z),Y=n(59),W=nt(Y),K=n(60),G=nt(K),Z=n(61),X=nt(Z),J=n(108),Q=nt(J),tt=n(62),et=nt(tt);function nt(t){return t&&t.__esModule?t:{default:t}}i.default.register({"attributors/attribute/direction":s.DirectionAttribute,"attributors/class/align":r.AlignClass,"attributors/class/background":h.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":s.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":r.AlignStyle,"attributors/style/background":h.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":s.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":b.SizeStyle},!0),i.default.register({"formats/align":r.AlignClass,"formats/direction":s.DirectionClass,"formats/indent":a.IndentClass,"formats/background":h.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":m.FontClass,"formats/size":b.SizeClass,"formats/blockquote":c.default,"formats/code-block":D.default,"formats/header":p.default,"formats/list":d.default,"formats/bold":g.default,"formats/code":L.Code,"formats/italic":C.default,"formats/link":k.default,"formats/script":x.default,"formats/strike":E.default,"formats/underline":j.default,"formats/image":T.default,"formats/video":q.default,"formats/list/item":f.ListItem,"modules/formula":$.default,"modules/syntax":B.default,"modules/toolbar":U.default,"themes/bubble":Q.default,"themes/snow":et.default,"ui/icons":H.default,"ui/picker":V.default,"ui/icon-picker":G.default,"ui/color-picker":W.default,"ui/tooltip":X.default},!0),e.default=i.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(0),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),o(e,[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var o=this.value(t)||0;n="+1"===n?o+1:o-1}return 0===n?(this.remove(t),!0):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n)}},{key:"canAdd",value:function(t,n){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,n)||i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(n))}},{key:"value",value:function(t){return parseInt(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}(s.default.Attributor.Class),f=new p("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i=r(o);function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){return s(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(i.default);c.blotName="blockquote",c.tagName="blockquote",e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(4),r=s(i);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(t){function e(){return a(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),o(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}(r.default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(0),s=p(r),a=n(4),l=p(a),c=n(25),u=p(c);function p(t){return t&&t.__esModule?t:{default:t}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function v(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return v(e,t),o(e,[{key:"format",value:function(t,n){t!==b.blotName||n?i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n):this.replaceWith(s.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,n))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:i(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}(l.default);m.blotName="list-item",m.tagName="LI";var b=function(t){function e(t){d(this,e);var n=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),o=function(e){if(e.target.parentNode===t){var o=n.statics.formats(t),i=s.default.find(e.target);"checked"===o?i.format("list","unchecked"):"unchecked"===o&&i.format("list","checked")}};return t.addEventListener("touchstart",o),t.addEventListener("mousedown",o),n}return v(e,t),o(e,null,[{key:"create",value:function(t){var n="ordered"===t?"OL":"UL",o=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);return"checked"!==t&&"unchecked"!==t||o.setAttribute("data-checked","checked"===t),o}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),o(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return f({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(t,n){if(t instanceof m)i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n);else{var o=null==n?this.length():n.offset(this),r=this.split(o);r.parent.insertBefore(t,r)}}},{key:"optimize",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=s.default.create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}(u.default);b.blotName="list",b.scope=s.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[m],e.ListItem=m,e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(56),i=r(o);function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){return s(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(i.default);c.blotName="italic",c.tagName=["EM","I"],e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(6),s=a(r);function a(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),o(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}(s.default);p.blotName="script",p.tagName=["SUB","SUP"],e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=r(o);function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){return s(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(i.default);c.blotName="strike",c.tagName="S",e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=r(o);function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){return s(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(i.default);c.blotName="underline",c.tagName="U",e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(0),s=l(r),a=n(27);function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=["alt","height","width"],d=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),o(e,[{key:"format",value:function(t,n){f.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"===typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return f.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,a.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(s.default.Embed);d.blotName="image",d.tagName="IMG",e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(4),s=n(27),a=l(s);function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=["height","width"],d=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),o(e,[{key:"format",value:function(t,n){f.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return f.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"sanitize",value:function(t){return a.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(r.BlockEmbed);d.blotName="video",d.className="ql-video",d.tagName="IFRAME",e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(35),s=p(r),a=n(5),l=p(a),c=n(9),u=p(c);function p(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(){return f(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),o(e,null,[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"===typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}(s.default);v.blotName="formula",v.className="ql-formula",v.tagName="SPAN";var m=function(t){function e(){f(this,e);var t=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return t}return h(e,t),o(e,null,[{key:"register",value:function(){l.default.register(v,!0)}}]),e}(u.default);e.FormulaBlot=v,e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},r=n(0),s=d(r),a=n(5),l=d(a),c=n(9),u=d(c),p=n(13),f=d(p);function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function m(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b=function(t){function e(){return h(this,e),v(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return m(e,t),o(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}]),e}(f.default);b.className="ql-syntax";var y=new s.default.Attributor.Class("token","hljs",{scope:s.default.Scope.INLINE}),g=function(t){function e(t,n){h(this,e);var o=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if("function"!==typeof o.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var i=null;return o.quill.on(l.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(i),i=setTimeout((function(){o.highlight(),i=null}),o.options.interval)})),o.highlight(),o}return m(e,t),o(e,null,[{key:"register",value:function(){l.default.register(y,!0),l.default.register(b,!0)}}]),o(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(l.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(b).forEach((function(e){e.highlight(t.options.highlight)})),this.quill.update(l.default.sources.SILENT),null!=e&&this.quill.setSelection(e,l.default.sources.SILENT)}}}]),e}(u.default);g.DEFAULTS={highlight:function(){return null==window.hljs?null:function(t){var e=window.hljs.highlightAuto(t);return e.value}}(),interval:1e3},e.CodeBlock=b,e.CodeToken=y,e.default=g},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var o=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(3),s=h(r),a=n(8),l=h(a),c=n(43),u=h(c),p=n(15),f=n(41),d=h(f);function h(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function b(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(t){function e(t,n){v(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=y);var o=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.quill.container.classList.add("ql-bubble"),o}return b(e,t),i(e,[{key:"extendToolbar",value:function(t){this.tooltip=new _(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),d.default)}}]),e}(u.default);g.DEFAULTS=(0,s.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var _=function(t){function e(t,n){v(this,e);var o=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.quill.on(l.default.events.EDITOR_CHANGE,(function(t,e,n,i){if(t===l.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&i===l.default.sources.USER){o.show(),o.root.style.left="0px",o.root.style.width="",o.root.style.width=o.root.offsetWidth+"px";var r=o.quill.getLines(e.index,e.length);if(1===r.length)o.position(o.quill.getBounds(e));else{var s=r[r.length-1],a=o.quill.getIndex(s),c=Math.min(s.length()-1,e.index+e.length-a),u=o.quill.getBounds(new p.Range(a,c));o.position(u)}}else document.activeElement!==o.textbox&&o.quill.hasFocus()&&o.hide()})),o}return b(e,t),i(e,[{key:"listen",value:function(){var t=this;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){t.root.classList.remove("ql-editing")})),this.quill.on(l.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),i=this.root.querySelector(".ql-tooltip-arrow");if(i.style.marginLeft="",0===n)return n;i.style.marginLeft=-1*n-i.offsetWidth/2+"px"}}]),e}(c.BaseTooltip);_.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=_,e.default=g},function(t,e,n){t.exports=n(63)}])["default"]}))}).call(this,n("b639").Buffer)},9844:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("text-editor",{ref:t.refer,class:{"error-editor":t.error,"hide-toolbar":t.hideToolbar,"editor-focus":t.focus},attrs:{"editor-toolbar":t.toolbarSettings,"hide-toolbar":t.hideToolbar,"editor-options":t.editorSettings,"template-default":t.templateDefault,"placeholder-html":t.placeholderHtml,"set-target-blank":t.setTargetBlank,placeholder:t.placeholder},on:{focus:t.onEditorFocus,blur:t.onEditorBlur,ready:t.ready,set_value:t.setValue,"selection-change":t.onSelectionChange},model:{value:t.valueEditor,callback:function(e){t.valueEditor=e},expression:"valueEditor"}})},i=[],r=(n("a481"),n("7618")),s=(n("4917"),n("a3ac7")),a=n("bc3a"),l=n.n(a),c=(n("b643"),n("4328")),u=n.n(c),p={name:"TextEditorMax",components:{TextEditor:s["a"]},props:{id:{type:String,default:"quill-container"},placeholder:{type:String,default:""},placeholderHtml:{type:String,default:""},templateDefault:{type:String,default:""},refer:{type:String,default:""},valueDefault:{type:String,default:""},hideToolbar:{type:Boolean,default:!1},setTargetBlank:{type:Boolean,default:!1},error:{type:Boolean,default:!1},showBtnMax:{type:Boolean,default:!1},disabled:{type:Boolean}},data:function(){return{toolbarSettings:[["bold"],[{list:"bullet"}],["video"],["gallery"]],gallery:{},editorSettings:{},valueEditor:"",focus:!1}},mounted:function(){this.$nextTick((function(){var t=this,e=this,n=this.valueDefault.match(/#GALLERY_(\d+)#/g),o=[];for(var i in n)o.push(n[i].match(/(\d+)/g)[0]);o.length>0?l.a.get("https://api.zemskidki.ru/public/v1/user/galleries/",{headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"false"!==localStorage.getItem("token")&&null!==localStorage.getItem("token")&&void 0!==localStorage.getItem("token")&&localStorage.getItem("token")},params:{galleries:o},paramsSerializer:function(t){return u.a.stringify(t,{arrayFormat:"indices"})},withCredentials:!0}).then((function(o){"object"===Object(r["a"])(o.data)&&0===+o.data.error?null!==n?(e.valueEditor=e.valueDefault.replace(/#GALLERY_(\d+)#/g,(function(t,e){return o.data.result.items[+e].replace(/[\n\r]/g,"").replace('"',"&quot;"),'<iframe srcdoc="<section id=&quot;surrogate_gallery_'+e+"&quot;><style>@import url(/css/img_thumbnails.css?v125);</style>"+o.data.result.items[+e]+'</section>" allowfullscreen="true" width="100%" frameborder="0"></iframe>'})),e.valueEditor=e.valueEditor.replace(/[\n\r]/g,"").replace(/(?:<p><br><\/p>){2,}/g,"<p><br></p>")):e.valueEditor=e.valueDefault.replace(/[\n\r]/g,"").replace(/(?:<p><br><\/p>){2,}/g,"<p><br></p>"):401===+o.data.error&&t.$store.dispatch("auth/logout")})).catch((function(t){e.valueEditor=e.valueDefault.replace(/[\n\r]/g,"").replace(/(?:<p><br><\/p>){2,}/g,"<p><br></p>")})):e.valueEditor=e.valueDefault.replace(/[\n\r]/g,"").replace(/(?:<p><br><\/p>){2,}/g,"<p><br></p>")}))},methods:{onEditorBlur:function(t){this.$nextTick((function(){this.focus=!1})),this.$emit("blur")},onEditorFocus:function(t){this.$nextTick((function(){this.$emit("error",!1),this.$emit("focus",!1),this.focus=!1}))},onEditorReady:function(t){},onEditorChange:function(t,e,n){},onSelectionChange:function(t,e,n){},ready:function(t){this.$emit("ready",t)},setValue:function(t){this.$emit("set_value",t)}},watch:{valueEditor:function(){var t=this.valueEditor.replace(/<iframe srcdoc="<section[\s\S]*?id=&quot;surrogate_gallery_(\d+)[\s\S]*?\/iframe>/gi,(function(t,e){return"#GALLERY_"+e+"#"}));t=t.replace(/[\n\r]/g,"").replace(/(?:<p><br><\/p>){2,}/g,"<p><br></p>"),this.$emit("input",t),this.$emit("error",!1)}}},f=p,d=n("2877"),h=Object(d["a"])(f,o,i,!1,null,"31a4b567",null);e["a"]=h.exports},9855:function(t,e,n){t.exports=n.p+"img/phone.e60a145e.svg"},a0be:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("yandex-map",{style:{height:t.height+"px"},attrs:{"scroll-zoom":t.scrollZoom,"view-all-markers":t.viewAllMarkers,coords:t.coords,controls:["rulerControl","zoomControl","geolocationControl"],zoom:t.zoom,placemarks:t.placemarks,"use-object-manager":!0,"map-type":"map"},on:{"map-was-initialized":t.initHandler}},t._l(t.markers,(function(e){return n("ymap-marker",{key:e.id,attrs:{"marker-id":e.id,"marker-type":e.type,coords:e.coords,"hint-content":e.hint,balloon:e.balloon,icon:"object"===typeof e.icon?e.icon:t.map.placemark.icon,balloonTemplate:t.balloonTemplate,options:{balloonShadow:t.map.placemark.balloonShadow,closeButton:t.map.placemark.closeButton,hideIconOnBalloonOpen:t.map.placemark.hideIconOnBalloonOpen},properties:{}}})})),1)],1)},i=[],r={name:"Map",props:{coords:{default:function(){return[55.633870903611,37.439710535057]}},viewAllMarkers:{type:Boolean,default:!1},scrollZoom:{type:Boolean,default:!0},behaviors:{type:Array,default:function(){return["default"]}},height:{default:502},zoom:{default:function(){return 9}},placemarks:{default:function(){return[]}},markers:{default:function(){return[]}}},data:function(){return{map:{init:!1,controls:{searchControl:!1},placemark:{icon:{layout:"default#image",imageHref:n("1b20"),imageSize:[30,30],imageOffset:[-12,5]},balloonShadow:!1,closeButton:!0,hideIconOnBalloonOpen:!1}}}},computed:{showMap:function(){return this.$store.state.actions.showMap},balloonTemplate:function(){return""}},methods:{toggleMap:function(){this.$store.commit("actions/toggleMap")},initHandler:function(){this.map.init=!0}}},s=r,a=n("2877"),l=Object(a["a"])(s,o,i,!1,null,null,null);e["a"]=l.exports},a3ac7:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-editor"},[n("div",{staticClass:"quillWrapper"},[t._t("toolbar"),n("div",{ref:"quillContainer",attrs:{id:t.id}}),t.useCustomImageHandler?n("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{id:"file-upload",type:"file",accept:"image/*"},on:{change:function(e){return t.emitImageInfo(e)}}}):t._e()],2),t.showPlaceholder?n("div",{staticClass:"placeholder-html",domProps:{innerHTML:t._s(t.placeholderHtml)}}):t._e(),t.showPlaceholder&&t.templateDefault?n("a",{staticClass:"link-icon set-template-link",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.setText(t.templateDefault)}}},[n("span",{staticClass:"i i-pencil3"}),n("span",{staticClass:"text text-size-s"},[t._v("Вставить шаблон")])]):t._e(),n("input",{ref:"fileGallery",staticClass:"gallery_files",staticStyle:{display:"none"},attrs:{type:"file",name:"gallery_files",id:"",multiple:"",accept:"image/jpeg,image/png,image/gif"},on:{change:function(e){return t.saveGallery(e.target.files)}}}),n("popup",{attrs:{show:t.popup.gallery.show,width:635},on:{close:function(e){t.popup.gallery.show=!1}}},[n("div",{staticClass:"text-size-xl text-color-red text-bolder"},[t._v("\n            Ошибка загрузки!\n        ")]),n("div",{staticClass:"popup__content"},[n("p",[t._v("Допускается не более 20 файлов.  То есть, мы загрузим первые 20, а остальные – нет...")])]),n("div",{staticClass:"popup__footer"},[n("a",{staticClass:"btn btn-white",attrs:{href:"javascript:;"},on:{click:function(e){return t.saveGallery(!0)}}},[t._v("Продолжить")]),n("a",{staticClass:"pseudo-link ml",attrs:{href:"javascript:;"},on:{click:function(e){t.popup.gallery.show=!1}}},[t._v("Отмена")])])])],1)},i=[],r=(n("28a5"),n("456d"),n("ac6a"),n("a481"),n("fd24"),n("7618")),s=n("9339"),a=n.n(s),l=n("516f"),c=(n("2f62"),n("bc3a")),u=n.n(c),p=(n("b643"),n("4328"),{name:"TextEditor",components:{Popup:l["a"]},props:{id:{type:String,default:"quill-container"},placeholder:{type:String,default:""},placeholderHtml:{type:String,default:""},templateDefault:{type:String,default:""},value:{type:String,default:""},hideToolbar:{type:Boolean,default:!1},setTargetBlank:{type:Boolean,default:!1},disabled:{type:Boolean},editorToolbar:Array,editorOptions:{type:Object,required:!1,default:function(){return{}}},useCustomImageHandler:{type:Boolean,default:!1}},data:function(){return{quill:null,popup:{gallery:{show:!1,value:!1,files:[]}},showPlaceholder:!1,isSend:!1}},mounted:function(){this.registerPrototypes(),this.initializeEditor();var t=this;this.quill.root.addEventListener("blur",(function(){t.$emit("blur")}))},methods:{initializeEditor:function(){this.setupQuillEditor(),this.checkForCustomImageHandler(),this.handleInitialContent(),this.registerEditorEventListeners(),this.$emit("ready",this.quill)},setupQuillEditor:function(){var t={debug:!1,modules:this.setModules(),matchVisual:!1,theme:"snow",placeholder:this.placeholder?this.placeholder:"",readOnly:!!this.disabled&&this.disabled};this.prepareEditorConfig(t),this.quill=new a.a(this.$refs.quillContainer,t)},setModules:function(){var t,e=this;this.addCustomHandler();var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),o=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0};function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==Object(r["a"])(e)&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+Object(r["a"])(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=a.a.import("delta"),u=a.a.import("blots/break"),p=a.a.import("blots/embed");function f(){var t=new c;return t.insert({break:""}),t}var d=function(t){function e(){return i(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),n(e,[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n}},{key:"length",value:function(){return 1}},{key:"value",value:function(){return"\n"}},{key:"insertInto",value:function(t,e){p.prototype.insertInto.call(this,t,e)}}],[{key:"value",value:function(){}}]),e}(u);return d.blotName="break",d.tagName="br",a.a.register(d),!0===this.hideToolbar?t={clipboard:{matchers:[["br",f]],matchVisual:!1},keyboard:{bindings:{deleteLine:{key:46,handler:function(t){var e=this.quill.getLine(t.index)[0];if("<br>"!=e.domNode.innerHTML)return!0;this.quill.deleteText(t.index,2,"user")}},linebreak:{key:13,handler:function(t){var e=this.quill.getLeaf(t.index)[0],n=this.quill.getLeaf(t.index+1)[0];this.quill.insertEmbed(t.index,"break",!0,"user"),null!==n&&e.parent===n.parent||this.quill.insertEmbed(t.index,"break",!0,"user"),this.quill.setSelection(t.index+1,a.a.sources.SILENT)}}}},toolbar:{container:[]}}:(this.addSnippetHandler("gallery"),this.addSnippetHandler("loader"),t={clipboard:{matchers:[["br",f]],matchVisual:!1},keyboard:{bindings:{deleteLine:{key:46,handler:function(t){var e=this.quill.getLine(t.index)[0];if("<br>"!=e.domNode.innerHTML)return!0;this.quill.deleteText(t.index,2,"user")}},linebreak:{key:13,handler:function(t){var e=this.quill.getLeaf(t.index)[0],n=this.quill.getLeaf(t.index+1)[0];this.quill.insertEmbed(t.index,"break",!0,"user"),null!==n&&e.parent===n.parent||this.quill.insertEmbed(t.index,"break",!0,"user"),this.quill.setSelection(t.index+1,a.a.sources.SILENT)}}}},toolbar:{container:this.editorToolbar?this.editorToolbar:[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image","video"],["clean"]],handlers:{gallery:function(){e.$refs.fileGallery.click()}}}}),t},togglePopup:function(t){this.popup[t]&&(this.popup[t].show?(this.popup[t].value=!1,this.popup[t].show=!1):this.popup[t].show=!0)},saveGallery:function(t,e){var n=this;e=e||!1;var o=new FormData,i=0,s=this;for(var a in t)i<=20&&o.append(a,t[a]),i++;if(!e&&i>20)this.popup.gallery.show=!0;else if(this.popup.gallery.show=!1,!this.isSend){var l=s.quill.getSelection();s.quill.insertEmbed(l.index,"loader",'<div class="preloader-page"><style>@import url(/css/img_thumbnails.css?v125);</style><div class="preloader"></div></div>');s.quill.enable(!1),this.isSend=!0,u.a.post("https://api.zemskidki.ru/public/v1/user/galleries/",o,{headers:{"Content-Type":"multipart/form-data",Authorization:"false"!==localStorage.getItem("token")&&null!==localStorage.getItem("token")&&void 0!==localStorage.getItem("token")&&localStorage.getItem("token")},withCredentials:!0}).then((function(t){if(s.isSend=!1,"object"===Object(r["a"])(t.data)&&0===+t.data.error){var e=t.data.result;if(parseInt(e.id)>0){var o=s.quill.getSelection();if(s.quill.deleteText(l.index,2),o){var i='<section id="surrogate_gallery_'+e.id+'"><style>@import url(/css/img_thumbnails.css?v125);</style>'+e.html+"</section>";s.quill.insertEmbed(o.index,"gallery",i)}s.quill.enable(),s.isSend=!1}}else 401===+t.data.error&&n.$store.dispatch("auth/logout")})).catch((function(t){s.isSend=!1}))}},addSnippetHandler:function(t){var e=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),n=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0};function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==Object(r["a"])(e)&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+Object(r["a"])(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=a.a.import("blots/block/embed"),c=function(t){function r(){return o(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return s(r,t),e(r,null,[{key:"create",value:function(t){var e=n(r.__proto__||Object.getPrototypeOf(r),"create",this).call(this,t);return e.setAttribute("srcdoc",t),e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen",!0),e.setAttribute("width","100%"),e.setAttribute("class","gallery-frame"),-1!==t.indexOf("col-24")?e.setAttribute("height","510"):-1!==t.indexOf("col-12")?e.setAttribute("height","255"):-1!==t.indexOf("col-8")?e.setAttribute("height","170"):-1!==t.indexOf("col-6")&&e.setAttribute("height","130"),e}},{key:"value",value:function(t){return t.getAttribute("srcdoc")}}]),r}(l);c.blotName=t,c.className="ql-".type,c.tagName="iframe",a.a.register(c,!0)},addCustomHandler:function(t){var e=this,n=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),o=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(o):void 0};function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==Object(r["a"])(e)&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+Object(r["a"])(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=a.a.import("blots/inline"),u=function(t){function r(){return i(this,r),s(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return l(r,t),n(r,null,[{key:"create",value:function(t){var n=o(r.__proto__||Object.getPrototypeOf(r),"create",this).call(this);return n.setAttribute("href",t),e.setTargetBlank&&n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}}]),r}(c);u.blotName="link",u.tagName="a",a.a.register(u);var p=a.a.import("modules/clipboard"),f=(a.a.import("delta"),function(t){function o(){return i(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return l(o,t),n(o,[{key:"onPaste",value:function(t){t.preventDefault(),e.showPlaceholder=!1;var n=e.quill.getSelection();e.quill.deleteText(n.index,n.length);var o=t.clipboardData.getData("text/html").replace("<html>","").replace("<body>","").replace("</html>","").replace("</body>","").replace("\x3c!--StartFragment--\x3e","").replace("\x3c!--EndFragment--\x3e","").trim();0===o.length&&(o=t.clipboardData.getData("text"));var i=document.createElement("div");i.innerHTML=o,i.querySelectorAll("*")&&Array.prototype.forEach.call(i.querySelectorAll("*"),(function(t){t.removeAttribute("style")})),e.quill.pasteHTML(n.index,i.innerHTML)}}]),o}(p));a.a.register("modules/clipboard",f,!0)},prepareEditorConfig:function(t){Object.keys(this.editorOptions).length>0&&this.editorOptions.constructor===Object&&(this.editorOptions.modules&&"undefined"!==typeof this.editorOptions.modules.toolbar&&delete t.modules.toolbar,lodash.merge(t,this.editorOptions))},registerPrototypes:function(){a.a.prototype.getHTML=function(){return this.container.querySelector(".ql-editor").innerHTML},a.a.prototype.getWordCount=function(){return this.container.querySelector(".ql-editor").innerText.length}},registerEditorEventListeners:function(){this.quill.on("text-change",this.handleTextChange),this.quill.on("selection-change",this.handleSelectionChange),this.listenForEditorEvent("text-change"),this.listenForEditorEvent("selection-change"),this.listenForEditorEvent("editor-change")},listenForEditorEvent:function(t){var e=this;this.quill.on(t,(function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];e.$emit.apply(e,[t].concat(o))}))},handleInitialContent:function(){this.value&&(this.quill.root.innerHTML=this.value)},handleSelectionChange:function(t,e){!t&&e?this.$emit("blur",this.quill):t&&!e&&this.$emit("focus",this.quill)},handleTextChange:function(){var t="<p><br></p>"===this.quill.getHTML()?"":this.quill.getHTML();t.length>0?this.showPlaceholder=!1:this.showPlaceholder=!0,this.$emit("input",t)},checkForCustomImageHandler:function(){!0===this.useCustomImageHandler&&this.setupCustomImageHandler()},setupCustomImageHandler:function(){var t=this.quill.getModule("toolbar");t.addHandler("image",this.customImageHandler)},customImageHandler:function(t,e){this.$refs.fileInput.click()},emitImageInfo:function(t){var e=function(){var t=document.getElementById("file-upload");t.value=""},n=t.target.files[0],o=this.quill,i=o.getSelection(),r=i.index;this.$emit("imageAdded",n,o,r,e)},setText:function(t){t=t.replace(/[\n\r]/g,"");var e=t.split("<br>");for(var n in e)e[n]=e[n].trim();t=e.join("<br>"),this.quill.pasteHTML(0,t),t.length>0&&(this.showPlaceholder=!1)}},watch:{value:function(t){if(t!=this.quill.root.innerHTML&&!this.quill.hasFocus()){var e=t.replace(/[\r]/g,"");e=e.replace(/[\n]/g,"");var n=e.split("<br>");for(var o in n)n[o]=n[o].trim();e=n.join("<br>"),this.quill.pasteHTML(0,e);var i=this.quill.getContents(this.quill.getLength()-2);i.ops.length>0&&"\n\n"==i.ops[0].insert&&this.quill.deleteText(this.quill.getLength()-2,2),this.$nextTick((function(){this.quill.enable(!0),this.quill.blur(),this.$emit("set_value",this.quill)})),t.length>0?this.showPlaceholder=!1:this.showPlaceholder=!0}},disabled:function(t){this.quill.enable(!t)}},beforeDestroy:function(){this.quill=null,delete this.quill}}),f=p,d=(n("d880"),n("2877")),h=Object(d["a"])(f,o,i,!1,null,null,null);e["a"]=h.exports},b0b4:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("85f2"),i=n.n(o);function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),i()(t,o.key,o)}}function s(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},b5dc:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"coupon-details__stat"},[n("div",{staticClass:"col-left"},[n("div",{staticClass:"coupon-details__stat-row"},[n("div",{staticClass:"line"},[n("div",{staticClass:"l"},[t._v("Оформлено")]),n("div",{staticClass:"r"},[t._v(t._s(t.action.statistics.sold))])]),n("div",{staticClass:"n"},[t._v("Общее количество купонов")])]),n("div",{staticClass:"coupon-details__stat-row"},[n("div",{staticClass:"line"},[n("div",{staticClass:"l"},[t._v("Использовано")]),n("div",{staticClass:"r"},[t._v(t._s(t.action.statistics.ext))])]),n("div",{staticClass:"n"},[t._v("Купоны, по которым получена обещанная скидка")])]),n("div",{staticClass:"coupon-details__stat-row"},[n("div",{staticClass:"line"},[n("div",{staticClass:"l"},[t._v("Ждут своего часа")]),n("div",{staticClass:"r"},[t._v(t._s(t.action.statistics.valid))])]),n("div",{staticClass:"n"},[t._v("Оформленные, но еще не использованные купоны")])]),n("div",{staticClass:"coupon-details__stat-row"},[n("div",{staticClass:"line"},[n("div",{staticClass:"l"},[t._v("Аннулировано поставщиком")]),n("div",{staticClass:"r"},[t._v(t._s(t.action.statistics.canceledProvider))])]),n("div",{staticClass:"n"},[t._v("Купоны, которые отозвал поставщик")])]),n("div",{staticClass:"coupon-details__stat-row"},[n("div",{staticClass:"line"},[n("div",{staticClass:"l"},[t._v("Аннулировано модератором")]),n("div",{staticClass:"r"},[t._v(t._s(t.action.statistics.canceledModerator))])]),n("div",{staticClass:"n"},[t._v("Купоны, отозванные нами")])]),n("div",{staticClass:"coupon-details__stat-row"},[n("div",{staticClass:"line"},[n("div",{staticClass:"l"},[t._v("Отменено")]),n("div",{staticClass:"r"},[t._v(t._s(t.action.statistics.withdrawn))])]),n("div",{staticClass:"n"},[t._v("Купоны, от которых отказались сами покупатели")])])]),n("div",{staticClass:"col-right"},[n("div",{staticClass:"coupon-details__stat-card"},[t._m(0),n("div",{staticClass:"t"},[t._v("\n                Всего сэкономлено\n            ")]),n("div",{staticClass:"d"},[t._v(t._s(t.action.statistics.sumFormat)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])]),0===+t.action.statistics.ext?n("div",{staticClass:"n"},[t._v("Потому что погашено "+t._s(t.action.statistics.ext)+" купонов")]):n("div",{staticClass:"n"},[t._v("после погашения "+t._s(t.action.statistics.ext)+" "+t._s(t.declOfNumber(t.action.statistics.ext,["купона","купонов","купонов"])))])]),19===+t.action.status?n("div",{staticClass:"coupon-details__stat-card"},[t._m(1),n("div",{staticClass:"t"},[t._v("\n                На сайте\n            ")]),n("div",{staticClass:"d"},[t._v(t._s(t.action.dateDiff))]),n("div",{staticClass:"n"},[t._v("Опубликовано "+t._s(t.action.statusDate))])]):n("div",{staticClass:"coupon-details__stat-card"},[t._m(2),n("div",{staticClass:"t"},[t._v("\n                На сайте\n            ")]),n("div",{staticClass:"d"},[t._v("0")]),n("div",{staticClass:"n"},[t._v("Акция не опубликована")])])])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon"},[n("span",{staticClass:"i i-discount2"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon"},[n("span",{staticClass:"i i-calendar"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon"},[n("span",{staticClass:"i i-calendar"})])}],r=n("69db"),s={name:"StatisticsDetail",props:{action:{default:function(){return{}}}},methods:{declOfNumber:function(t,e){return Object(r["a"])(t,e)}}},a=s,l=n("2877"),c=Object(l["a"])(a,o,i,!1,null,null,null);e["a"]=c.exports},b639:function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var o=n("1fb5"),i=n("9152"),r=n("2335");function s(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=c.prototype):(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return u(this,t,e,n)}function u(t,e,n,o){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?m(t,e,n,o):"string"===typeof e?h(t,e,n):b(t,e)}function p(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e,n,o){return p(e),e<=0?l(t,e):void 0!==n?"string"===typeof o?l(t,e).fill(n,o):l(t,e).fill(n):l(t,e)}function d(t,e){if(p(e),t=l(t,e<0?0:0|y(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|_(e,n);t=l(t,o);var i=t.write(e,n);return i!==o&&(t=t.slice(0,i)),t}function v(t,e){var n=e.length<0?0:0|y(e.length);t=l(t,n);for(var o=0;o<n;o+=1)t[o]=255&e[o];return t}function m(t,e,n,o){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===o?new Uint8Array(e):void 0===o?new Uint8Array(e,n):new Uint8Array(e,n,o),c.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=c.prototype):t=v(t,e),t}function b(t,e){if(c.isBuffer(e)){var n=0|y(e.length);return t=l(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?l(t,0):v(t,e);if("Buffer"===e.type&&r(e.data))return v(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function g(t){return+t!=t&&(t=0),c.alloc(+t)}function _(t,e){if(c.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(t).length;default:if(o)return Z(t).length;e=(""+e).toLowerCase(),o=!0}}function C(t,e,n){var o=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return $(this,e,n);case"utf8":case"utf-8":return N(this,e,n);case"ascii":return D(this,e,n);case"latin1":case"binary":return M(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function w(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function k(t,e,n,o,i){if(0===t.length)return-1;if("string"===typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=c.from(e,o)),c.isBuffer(e))return 0===e.length?-1:O(t,e,n,o,i);if("number"===typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):O(t,[e],n,o,i);throw new TypeError("val must be string, number or Buffer")}function O(t,e,n,o,i){var r,s=1,a=t.length,l=e.length;if(void 0!==o&&(o=String(o).toLowerCase(),"ucs2"===o||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var u=-1;for(r=n;r<a;r++)if(c(t,r)===c(e,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===l)return u*s}else-1!==u&&(r-=r-u),u=-1}else for(n+l>a&&(n=a-l),r=n;r>=0;r--){for(var p=!0,f=0;f<l;f++)if(c(t,r+f)!==c(e,f)){p=!1;break}if(p)return r}return-1}function x(t,e,n,o){n=Number(n)||0;var i=t.length-n;o?(o=Number(o),o>i&&(o=i)):o=i;var r=e.length;if(r%2!==0)throw new TypeError("Invalid hex string");o>r/2&&(o=r/2);for(var s=0;s<o;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function A(t,e,n,o){return tt(Z(e,t.length-n),t,n,o)}function E(t,e,n,o){return tt(X(e),t,n,o)}function P(t,e,n,o){return E(t,e,n,o)}function j(t,e,n,o){return tt(Q(e),t,n,o)}function S(t,e,n,o){return tt(J(e,t.length-n),t,n,o)}function T(t,e,n){return 0===e&&n===t.length?o.fromByteArray(t):o.fromByteArray(t.slice(e,n))}function N(t,e,n){n=Math.min(t.length,n);var o=[],i=e;while(i<n){var r,s,a,l,c=t[i],u=null,p=c>239?4:c>223?3:c>191?2:1;if(i+p<=n)switch(p){case 1:c<128&&(u=c);break;case 2:r=t[i+1],128===(192&r)&&(l=(31&c)<<6|63&r,l>127&&(u=l));break;case 3:r=t[i+1],s=t[i+2],128===(192&r)&&128===(192&s)&&(l=(15&c)<<12|(63&r)<<6|63&s,l>2047&&(l<55296||l>57343)&&(u=l));break;case 4:r=t[i+1],s=t[i+2],a=t[i+3],128===(192&r)&&128===(192&s)&&128===(192&a)&&(l=(15&c)<<18|(63&r)<<12|(63&s)<<6|63&a,l>65535&&l<1114112&&(u=l))}null===u?(u=65533,p=1):u>65535&&(u-=65536,o.push(u>>>10&1023|55296),u=56320|1023&u),o.push(u),i+=p}return L(o)}e.Buffer=c,e.SlowBuffer=g,e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:s(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return f(null,t,e,n)},c.allocUnsafe=function(t){return d(null,t)},c.allocUnsafeSlow=function(t){return d(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,o=e.length,i=0,r=Math.min(n,o);i<r;++i)if(t[i]!==e[i]){n=t[i],o=e[i];break}return n<o?-1:o<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var o=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(o,i),i+=s.length}return o},c.byteLength=_,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)w(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)w(this,e,e+3),w(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)w(this,e,e+7),w(this,e+1,e+6),w(this,e+2,e+5),w(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?N(this,0,t):C.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,o,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),e<0||n>t.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&e>=n)return 0;if(o>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,o>>>=0,i>>>=0,this===t)return 0;for(var r=i-o,s=n-e,a=Math.min(r,s),l=this.slice(o,i),u=t.slice(e,n),p=0;p<a;++p)if(l[p]!==u[p]){r=l[p],s=u[p];break}return r<s?-1:s<r?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return k(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return k(this,t,e,n,!1)},c.prototype.write=function(t,e,n,o){if(void 0===e)o="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)o=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var r=!1;;)switch(o){case"hex":return x(this,t,e,n);case"utf8":case"utf-8":return A(this,t,e,n);case"ascii":return E(this,t,e,n);case"latin1":case"binary":return P(this,t,e,n);case"base64":return j(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(r)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),r=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var q=4096;function L(t){var e=t.length;if(e<=q)return String.fromCharCode.apply(String,t);var n="",o=0;while(o<e)n+=String.fromCharCode.apply(String,t.slice(o,o+=q));return n}function D(t,e,n){var o="";n=Math.min(t.length,n);for(var i=e;i<n;++i)o+=String.fromCharCode(127&t[i]);return o}function M(t,e,n){var o="";n=Math.min(t.length,n);for(var i=e;i<n;++i)o+=String.fromCharCode(t[i]);return o}function $(t,e,n){var o=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>o)&&(n=o);for(var i="",r=e;r<n;++r)i+=G(t[r]);return i}function I(t,e,n){for(var o=t.slice(e,n),i="",r=0;r<o.length;r+=2)i+=String.fromCharCode(o[r]+256*o[r+1]);return i}function B(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,o,i,r){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<r)throw new RangeError('"value" argument is out of bounds');if(n+o>t.length)throw new RangeError("Index out of range")}function U(t,e,n,o){e<0&&(e=65535+e+1);for(var i=0,r=Math.min(t.length-n,2);i<r;++i)t[n+i]=(e&255<<8*(o?i:1-i))>>>8*(o?i:1-i)}function F(t,e,n,o){e<0&&(e=4294967295+e+1);for(var i=0,r=Math.min(t.length-n,4);i<r;++i)t[n+i]=e>>>8*(o?i:3-i)&255}function H(t,e,n,o,i,r){if(n+o>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(t,e,n,o,r){return r||H(t,e,n,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,n,o,23,4),n+4}function V(t,e,n,o,r){return r||H(t,e,n,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,n,o,52,8),n+8}c.prototype.slice=function(t,e){var n,o=this.length;if(t=~~t,e=void 0===e?o:~~e,t<0?(t+=o,t<0&&(t=0)):t>o&&(t=o),e<0?(e+=o,e<0&&(e=0)):e>o&&(e=o),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var r=0;r<i;++r)n[r]=this[r+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var o=this[t],i=1,r=0;while(++r<e&&(i*=256))o+=this[t+r]*i;return o},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var o=this[t+--e],i=1;while(e>0&&(i*=256))o+=this[t+--e]*i;return o},c.prototype.readUInt8=function(t,e){return e||B(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||B(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||B(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var o=this[t],i=1,r=0;while(++r<e&&(i*=256))o+=this[t+r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var o=e,i=1,r=this[t+--o];while(o>0&&(i*=256))r+=this[t+--o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},c.prototype.readInt8=function(t,e){return e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||B(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||B(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||B(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||B(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||B(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||B(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,o){if(t=+t,e|=0,n|=0,!o){var i=Math.pow(2,8*n)-1;R(this,t,e,n,i,0)}var r=1,s=0;this[e]=255&t;while(++s<n&&(r*=256))this[e+s]=t/r&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,o){if(t=+t,e|=0,n|=0,!o){var i=Math.pow(2,8*n)-1;R(this,t,e,n,i,0)}var r=n-1,s=1;this[e+r]=255&t;while(--r>=0&&(s*=256))this[e+r]=t/s&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,o){if(t=+t,e|=0,!o){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var r=0,s=1,a=0;this[e]=255&t;while(++r<n&&(s*=256))t<0&&0===a&&0!==this[e+r-1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,o){if(t=+t,e|=0,!o){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var r=n-1,s=1,a=0;this[e+r]=255&t;while(--r>=0&&(s*=256))t<0&&0===a&&0!==this[e+r+1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return z(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return z(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return V(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return V(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,o){if(n||(n=0),o||0===o||(o=this.length),e>=t.length&&(e=t.length),e||(e=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-n&&(o=t.length-e+n);var i,r=o-n;if(this===t&&n<e&&e<o)for(i=r-1;i>=0;--i)t[i+e]=this[i+n];else if(r<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<r;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+r),e);return r},c.prototype.fill=function(t,e,n,o){if("string"===typeof t){if("string"===typeof e?(o=e,e=0,n=this.length):"string"===typeof n&&(o=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==o&&"string"!==typeof o)throw new TypeError("encoding must be a string");if("string"===typeof o&&!c.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(r=e;r<n;++r)this[r]=t;else{var s=c.isBuffer(t)?t:Z(new c(t,o).toString()),a=s.length;for(r=0;r<n-e;++r)this[r+e]=s[r%a]}return this};var Y=/[^+\/0-9A-Za-z-_]/g;function W(t){if(t=K(t).replace(Y,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function K(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function G(t){return t<16?"0"+t.toString(16):t.toString(16)}function Z(t,e){var n;e=e||1/0;for(var o=t.length,i=null,r=[],s=0;s<o;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(s+1===o){(e-=3)>-1&&r.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&r.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&r.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function X(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function J(t,e){for(var n,o,i,r=[],s=0;s<t.length;++s){if((e-=2)<0)break;n=t.charCodeAt(s),o=n>>8,i=n%256,r.push(i),r.push(o)}return r}function Q(t){return o.toByteArray(W(t))}function tt(t,e,n,o){for(var i=0;i<o;++i){if(i+n>=e.length||i>=t.length)break;e[i+n]=t[i]}return i}function et(t){return t!==t}}).call(this,n("c8ba"))},bc03:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[t._m(0),n("section",{staticClass:"container"},[n("div",{staticClass:"container__full"},[n("div",{staticClass:"wrapper-content wrapper-content-inner mt32"},[n("div",{staticClass:"h1"},[t._v("Скидка")]),n("div",{staticClass:"construct-form"},[n("div",{staticClass:"row-b"},[n("div",{staticClass:"row-b__col elem-pos-fix",staticStyle:{width:"680px","min-width":"680px"}},[n("input-styled",{attrs:{id:"coupon-name","is-error":t.stepsCreateAction.one.fields.name.error,placeholder:"Название акции","placeholder-input":"Например, «Строительные смеси»"},on:{focus:function(e){return t.fieldFocus("name","one")},blur:function(e){return t.fieldBlur("name","one")}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("div",{staticClass:"row-b__col elem-pos-fit",class:{"--active":t.stepsCreateAction.one.fields.name.focus}},[n("div",{staticClass:"construct-form__note",class:{error:t.stepsCreateAction.one.fields.name.error}},[t._v("В названии укажите, на что\n                                конкретно"),n("br"),t._v(" распространяется ваша скидка\n                            ")])])]),n("div",{staticClass:"row-b"},[n("div",{staticClass:"row-b__col elem-pos-fix",staticStyle:{width:"240px","min-width":"240px"}},[n("input-price",{attrs:{id:"coupon-average","is-error":t.stepsCreateAction.one.fields.averageCheck.error,placeholder:"Средний чек",isValidate:t.couponAverageDisabled,disabled:t.couponAverageDisabled,"placeholder-input":"₽"},on:{blur:function(e){return t.fieldBlur("averageCheck","one")},focus:function(e){return t.fieldFocus("averageCheck","one")}},model:{value:t.averageCheck,callback:function(e){t.averageCheck=e},expression:"averageCheck"}})],1),n("div",{staticClass:"row-b__col elem-pos-fit",class:{"--active":t.stepsCreateAction.one.fields.averageCheck.focus}},[t.couponAverageDisabled?n("div",{staticClass:"construct-form__note dif --dark"},[n("span",{staticClass:"i i-warning mr8"}),t._m(1)]):n("div",{staticClass:"construct-form__note",class:{error:t.stepsCreateAction.one.fields.averageCheck.error}},[t._v("Укажите среднюю\n                                сумму покупки"),n("br"),t._v(" по данному виду продукции\n                            ")])])]),n("div",{staticClass:"row-b"},[n("div",{staticClass:"row-b__col elem-pos-fix",staticStyle:{width:"240px","min-width":"240px"}},[n("input-styled",{ref:"discountUser",attrs:{id:"coupon-discountUser",disabled:!!t.detail.newDateFrom&&"new"!==t.$route.params.id,mask:t.masks.percent,"is-error":t.stepsCreateAction.one.fields.discountUser.error,isValidate:!!t.detail.newDateFrom&&"new"!==t.$route.params.id,placeholder:"Обычная скидка, %","placeholder-input":"%"},on:{blur:function(e){return t.fieldBlur("discountUser","one")},focus:function(e){return t.fieldFocus("discountUser","one")}},model:{value:t.discountUser,callback:function(e){t.discountUser=e},expression:"discountUser"}})],1),t.detail.newDateFrom&&"new"!==t.$route.params.id?t._e():n("div",{staticClass:"row-b__col elem-pos-fix",class:{"--active":t.stepsCreateAction.one.fields.discountUser.focus}},[n("div",{staticClass:"construct-form__note",class:{error:t.stepsCreateAction.one.fields.discountUser.error}},[t._v("\n                                Максимально возможная скидка, которую вы предоставляете обычному покупателю "),n("br"),t._v("\n                                    Если вы никому не предоставляете скидок — просто оставьте это поле пустым\n\n                            ")])]),n("div",{staticClass:"row-b__col elem-pos-fit"},[t.detail.newDateFrom&&"new"!==t.$route.params.id?n("div",{staticClass:"el construct-form__note --dark dif",staticStyle:{position:"relative",top:"-7px"}},[n("span",{staticClass:"i i-warning mr8"}),t._m(2)]):t._e()])]),n("div",{staticClass:"row-b"},[n("div",{staticClass:"row-b__col elem-pos-fix",staticStyle:{width:"240px","min-width":"240px"}},[n("input-styled",{ref:"projectDiscount",attrs:{id:"coupon-discount",disabled:!!t.detail.newDateFrom&&"new"!==t.$route.params.id,mask:t.masks.percent,"is-error":t.stepsCreateAction.one.fields.discount.error||t.stepsCreateAction.one.buttons.origin.hide,isValidate:!!t.detail.newDateFrom&&"new"!==t.$route.params.id,placeholder:"Эксклюзивная скидка, %","placeholder-input":"%"},on:{blur:function(e){return t.fieldBlur("discount","one")},focus:function(e){return t.fieldFocus("discount","one")}},model:{value:t.discount,callback:function(e){t.discount=e},expression:"discount"}})],1),n("div",{staticClass:"row-b__col elem-pos-fix",class:{"--active":t.stepsCreateAction.one.fields.discount.focus&&0===t.stepsCreateAction.one.fields.discount.errorType}},[!t.stepsCreateAction.one.fields.discount.value||t.stepsCreateAction.one.fields.discount.errorType>0?n("div",{staticClass:"construct-form__note"},[1===t.stepsCreateAction.one.fields.discount.errorType&&t.stepsCreateAction.one.fields.discount.error?n("span",{staticClass:"text-color-red"},[t._v("Эксклюзивная сикдка для нашего проекта меньше той, "),n("br"),t._v("что вы предоставляете обычным покупателям. Так не пойдёт...")]):t._e(),2===t.stepsCreateAction.one.fields.discount.errorType&&t.stepsCreateAction.one.fields.discount.error?n("span",{staticClass:"text-color-red"},[t._v("Эксклюзивная скидка почти такая же, как вы даёте обычным покупателям."),n("br"),t._v("Так не пойдёт, разница должна составлять не менее "+t._s(t.options.minDiscount)+"%.")]):t._e(),3===t.stepsCreateAction.one.fields.discount.errorType&&t.stepsCreateAction.one.fields.discount.error?n("span",{staticClass:"text-color-red"},[t._v("Эксклюзивная сикдка такая же, как вы даёте обычным покупателям."),n("br"),t._v("Так не пойдёт, разница должна составлять не менее "+t._s(t.options.minDiscount)+"%.")]):t._e(),0===t.stepsCreateAction.one.fields.discount.errorType?n("span",{class:{error:t.stepsCreateAction.one.fields.discount.error}},[t._v("Максимальная скидка, которую вы готовы предоставить эксклюзивно для нашего проекта."),n("br"),t._v("\n                                Обратите внимание, что скидка для покупателя будет на "+t._s(t.options.ourDiscount)+"% меньше")]):t._e()]):n("div",{staticClass:"construct-form__discount-stat"},[n("div",{staticClass:"el"},[n("div",{staticClass:"t"},[t._v("Скидка для покупателей")]),n("div",{staticClass:"n"},[t._v(t._s(t.stepsCreateAction.one.fields.discount.value-t.options.ourDiscount>0?t.stepsCreateAction.one.fields.discount.value-t.options.ourDiscount:0)+"%\n                                    ")])]),n("div",{staticClass:"el"},[n("div",{staticClass:"t"},[t._v("Комиссия ZemSkidki.ru")]),n("div",{staticClass:"n"},[t._v(t._s(t.options.ourDiscount)+"%")])])])]),n("div",{staticClass:"row-b__col elem-pos-fit"},[t.detail.newDateFrom&&"new"!==t.$route.params.id?n("div",{staticClass:"el construct-form__note --dark dif",staticStyle:{position:"relative",top:"-7px"}},[n("span",{staticClass:"i i-warning mr8"}),t._m(3)]):t._e()])]),n("div",{staticClass:"construct-form__origin-info mt40",staticStyle:{width:"656px"}},[t.stepsCreateAction.one.fields.originDiscount.value?n("div",{staticClass:"el"},[n("div",{staticClass:"n"},[t._v("Происхождение скидки "),n("span",{staticClass:"link-icon link-grey hover",on:{click:t.openOriginDiscount}},[n("span",{staticClass:"i i-pencil2"})])]),n("div",{staticClass:"t",on:{click:t.openOriginDiscount}},[n("a",{staticClass:"link-nostyle",attrs:{href:"javascript:void(0)"},domProps:{innerHTML:t._s(t.originDiscountHtml)}})])]):n("div",{staticClass:"row-b"},[n("div",{staticClass:"row-b__col elem-pos-fix"},[n("div",{on:{click:t.openOriginDiscount}},[n("button",{staticClass:"btn-striped size-xm",class:{"btn-striped--error":t.stepsCreateAction.one.fields.discount.error||t.stepsCreateAction.one.fields.originDiscount.error},staticStyle:{"min-width":"273px"}},[t._v("Указать происхождение скидки\n                                    ")])])]),n("div",{staticClass:"row-b__col elem-pos-fit"},[t.stepsCreateAction.one.buttons.origin.hide?n("div",{staticClass:"text-size-s text-color-red"},[t._v("\n                                    Сначала укажите эксклюзивную скидку\n                                ")]):t._e()])])])])]),t.stepsCreateAction.two.show?n("div",{staticClass:"wrapper-content wrapper-content-inner mt40"},[n("div",{staticClass:"h1",attrs:{id:"coupon-aboutActionPhoto"}},[t._v("Фотогалерея")]),n("div",{staticClass:"row-b mt32"},[n("div",{staticClass:"row-b__col elem-pos-fit mr24"},[n("file-upload-cropper-gallery-multi",{key:"preview",attrs:{error:t.stepsCreateAction.two.fields.aboutActionPhoto.error,"field-name":"preview","element-id":"new"!==t.$route.params.id&&t.$route.params.id,"action-send":"partnerActions/sendImageFileGallery","action-delete":"false","btn-text":"","hint-solo":"Минимальный размер — 800х600px, максимальный вес — 10Мб","accept-type":"image/jpeg,image/jpg,image/png,image/gif"},on:{change:function(e){return t.removeError("aboutActionPhoto","two")}},model:{value:t.aboutActionPhoto,callback:function(e){t.aboutActionPhoto=e},expression:"aboutActionPhoto"}})],1),n("div",{staticClass:"row-b__col elem-pos-fix",staticStyle:{width:"248px","min-width":"248px"}},[n("div",{staticClass:"mtb"},[n("div",{staticClass:"text-size-xs construct-form__note",class:{error:t.stepsCreateAction.two.fields.aboutActionPhoto.error}},[t._v("Добавьте изображения, характеризующие вашу продукцию или услугу. Самое первое из них будет обложкой вашей акции.")]),n("div",{staticClass:"text-size-xs construct-form__note",class:{error:t.stepsCreateAction.two.fields.aboutActionPhoto.error},staticStyle:{"margin-top":"12px"}},[t._v("Вы можете менять последовательность изображений, просто перетаскивая их мышкой.")]),n("div",{staticClass:"text-size-xs construct-form__note",class:{error:t.stepsCreateAction.two.fields.aboutActionPhoto.error},staticStyle:{"margin-top":"12px"}},[t._v("Допускаются форматы JPG или PNG, минимальный"),n("br"),t._v(" размер 800х600px, максимальный вес каждого файла — не более 10Мб")])])])])]):t._e(),t.stepsCreateAction.three.show?n("div",{staticClass:"wrapper-content wrapper-content-inner mt40 pt32 pb32"},[n("div",{staticClass:"h1",attrs:{id:"coupon-aboutAction"}},[t._v("Об акции")]),n("div",{staticClass:"mt32",staticStyle:{position:"relative"}},[n("div",{staticClass:"construct-form__check-title"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.aboutActionPromoChecked,expression:"aboutActionPromoChecked"}],attrs:{disabled:"",checked:"",type:"checkbox",id:"coupon-aboutActionPromo"},domProps:{checked:Array.isArray(t.aboutActionPromoChecked)?t._i(t.aboutActionPromoChecked,null)>-1:t.aboutActionPromoChecked},on:{change:function(e){var n=t.aboutActionPromoChecked,o=e.target,i=!!o.checked;if(Array.isArray(n)){var r=null,s=t._i(n,r);o.checked?s<0&&(t.aboutActionPromoChecked=n.concat([r])):s>-1&&(t.aboutActionPromoChecked=n.slice(0,s).concat(n.slice(s+1)))}else t.aboutActionPromoChecked=i}}}),n("label-hint",{attrs:{label:"Описание вашей продукции или услуги","for-input":"coupon-aboutActionPromo"}})],1),n("div",[n("div",{staticClass:"row-b",staticStyle:{"padding-top":"8px"}},[n("div",{staticClass:"row-b__col elem-pos-fit mr24"},[n("textarea-field",{staticClass:"full",attrs:{"is-error":t.stepsCreateAction.three.fields.aboutActionPromo.error,placeholder:"Например, «Мы производим отделку за 1 день. На все материалы есть сертификаты. Каждый мастер является дипломированным специалистом.»","add-style":{minHeight:"120px"}},on:{focus:function(e){return t.fieldFocus("aboutActionPromo","three",e)},blur:function(e){return t.fieldBlur("aboutActionPromo","three")}},model:{value:t.aboutActionPromo,callback:function(e){t.aboutActionPromo=e},expression:"aboutActionPromo"}})],1),n("div",{staticClass:"row-b__col elem-pos-fix",class:{"--active":t.stepsCreateAction.three.fields.aboutActionPromo.focus},staticStyle:{width:"248px","min-width":"248px"}},[n("div",{staticClass:"mtb construct-form__big-note"},[n("div",{staticClass:"mt16 text-size-xs construct-form__note",class:{error:t.stepsCreateAction.three.fields.aboutActionPromo.error}},[t._v("\n                                        В этом блоке красочно расскажите о своей"),n("br"),t._v(" продукции или услуге. Сделайте это так,"),n("br"),t._v(" чтобы всем  захотелось её купить.\n                                    ")])])])])])]),n("div",{staticClass:"construct-form__sect-about",attrs:{id:"coupon-aboutActionVideo"}},[n("construct-check-show",{staticClass:"mt32",attrs:{"prop-title":"Видео"},model:{value:t.aboutActionVideoChecked,callback:function(e){t.aboutActionVideoChecked=e},expression:"aboutActionVideoChecked"}},[n("div",{staticClass:"row-b",staticStyle:{"padding-top":"8px"}},[n("video-gallery-add",{staticClass:"row-b__col elem-pos-fit mr24",attrs:{error:t.stepsCreateAction.three.fields.aboutActionVideo.error},model:{value:t.aboutActionVideo,callback:function(e){t.aboutActionVideo=e},expression:"aboutActionVideo"}}),n("div",{staticClass:"row-b__col elem-pos-fix",staticStyle:{width:"248px","min-width":"248px"}},[n("div",{staticClass:"mtb construct-form__big-note"},[n("div",{staticClass:"mt16 text-size-xs construct-form__note",class:{error:t.stepsCreateAction.three.fields.aboutActionVideo.error}},[t._v("Если у вас есть промо-видео об указанной"),n("br"),t._v(" продукции или услуге, вставьте его сюда. ")]),n("div",{staticClass:"mt16 text-size-xs construct-form__note",class:{error:t.stepsCreateAction.three.fields.aboutActionVideo.error}},[t._v("Чтобы вставить видео, предварительно загрузите"),n("br"),t._v(" его на YouTube и скопируйте ссылку.")])])])],1)]),n("construct-check-show",{staticClass:"mt32",attrs:{id:"coupon-aboutActionInclude","prop-title":"Скидка распространяется на:"},model:{value:t.aboutActionIncludeChecked,callback:function(e){t.aboutActionIncludeChecked=e},expression:"aboutActionIncludeChecked"}},[n("div",{staticClass:"row-b",staticStyle:{"padding-top":"8px"}},[n("div",{staticClass:"row-b__col elem-pos-fit mr24"},[n("textarea-field",{staticClass:"full",attrs:{"is-error":t.stepsCreateAction.three.fields.aboutActionInclude.error,placeholder:"Например, «- Все работы. - Все материалы. - Дополнительные аксессуары. - Сушилки для белья.»","add-style":{minHeight:"120px"}},on:{focus:function(e){return t.fieldFocus("aboutActionInclude","three",e)},blur:function(e){return t.fieldBlur("aboutActionInclude","three")}},model:{value:t.aboutActionInclude,callback:function(e){t.aboutActionInclude=e},expression:"aboutActionInclude"}})],1),n("div",{staticClass:"row-b__col elem-pos-fix",class:{"--active":t.stepsCreateAction.three.fields.aboutActionInclude.focus},staticStyle:{width:"248px","min-width":"248px"}},[n("div",{staticClass:"mtb construct-form__big-note"},[n("div",{staticClass:"mt16 text-size-xs construct-form__note",class:{error:t.stepsCreateAction.three.fields.aboutActionInclude.error}},[t._v("Составьте список того, на что конкретно"),n("br"),t._v(" распространяется скидка. Каждый пункт"),n("br"),t._v(" начните с новой строки.")]),n("div",{staticClass:"mt16 text-size-xs construct-form__note",class:{error:t.stepsCreateAction.three.fields.aboutActionInclude.error}},[t._v("Желательно использовать этот блок вместе"),n("br"),t._v(" с блоком “Скидка НЕ распространяется на:”")])])])])]),n("construct-check-show",{staticClass:"mt32",attrs:{id:"coupon-aboutActionExclude","prop-title":"Скидка НЕ распространяется на:"},model:{value:t.aboutActionExcludeChecked,callback:function(e){t.aboutActionExcludeChecked=e},expression:"aboutActionExcludeChecked"}},[n("div",{staticClass:"row-b",staticStyle:{"padding-top":"8px"}},[n("div",{staticClass:"row-b__col elem-pos-fit mr24"},[n("textarea-field",{staticClass:"full",attrs:{"is-error":t.stepsCreateAction.three.fields.aboutActionExclude.error,placeholder:"Например, «- Погрузку и разгрузку. - Подъём материалов на этаж. - Видео-наблюдение на лоджии.»","add-style":{minHeight:"120px"}},on:{focus:function(e){return t.fieldFocus("aboutActionExclude","three",e)},blur:function(e){return t.fieldBlur("aboutActionExclude","three")}},model:{value:t.aboutActionExclude,callback:function(e){t.aboutActionExclude=e},expression:"aboutActionExclude"}})],1),n("div",{staticClass:"row-b__col elem-pos-fix",class:{"--active":t.stepsCreateAction.three.fields.aboutActionExclude.focus},staticStyle:{width:"248px","min-width":"248px"}},[n("div",{staticClass:"mtb construct-form__big-note"},[n("div",{staticClass:"mt16 text-size-xs construct-form__note",class:{error:t.stepsCreateAction.three.fields.aboutActionExclude.error}},[t._v("Составьте список того, на что НЕ распространяется"),n("br"),t._v(" скидка. Каждый пункт начните с новой строки.")]),n("div",{staticClass:"mt16 text-size-xs construct-form__note",class:{error:t.stepsCreateAction.three.fields.aboutActionExclude.error}},[t._v("Желательно использовать этот блок вместе"),n("br"),t._v(' с блоком "Скидка распространяется на:"')])])])])]),n("construct-check-show",{staticClass:"mt32",attrs:{id:"coupon-aboutActionPrivileges","prop-title":"Дополнительные льготы"},model:{value:t.aboutActionPrivilegesChecked,callback:function(e){t.aboutActionPrivilegesChecked=e},expression:"aboutActionPrivilegesChecked"}},[n("div",{staticClass:"row-b",staticStyle:{"padding-top":"8px"}},[n("div",{staticClass:"row-b__col elem-pos-fit mr24"},[n("textarea-field",{staticClass:"full",attrs:{"is-error":t.stepsCreateAction.three.fields.aboutActionPrivileges.error,placeholder:"Например, «Для всех покупателей с сайта ZemSkidki.ru мы предоставляем бесплатный замер, бесплатную доставку и монтаж вне очереди.»","add-style":{minHeight:"120px"}},on:{focus:function(e){return t.fieldFocus("aboutActionPrivileges","three",e)},blur:function(e){return t.fieldBlur("aboutActionPrivileges","three")}},model:{value:t.aboutActionPrivileges,callback:function(e){t.aboutActionPrivileges=e},expression:"aboutActionPrivileges"}})],1),n("div",{staticClass:"row-b__col elem-pos-fix",class:{"--active":t.stepsCreateAction.three.fields.aboutActionPrivileges.focus},staticStyle:{width:"248px","min-width":"248px"}},[n("div",{staticClass:"mtb construct-form__big-note"},[n("div",{staticClass:"mt16 text-size-xs construct-form__note",class:{error:t.stepsCreateAction.three.fields.aboutActionPrivileges.error}},[t._v("Опишите эксклюзивные льготы, которые"),n("br"),t._v(" получают ТОЛЬКО покупатели с нашего сайта.")])])])])]),n("construct-check-show",{staticClass:"mt32",attrs:{id:"coupon-aboutActionWarning","prop-title":"Обратите внимание!"},model:{value:t.aboutActionWarningChecked,callback:function(e){t.aboutActionWarningChecked=e},expression:"aboutActionWarningChecked"}},[n("div",{staticClass:"row-b",staticStyle:{"padding-top":"8px"}},[n("div",{staticClass:"row-b__col elem-pos-fit mr24"},[n("textarea-field",{staticClass:"full",attrs:{"is-error":t.stepsCreateAction.three.fields.aboutActionWarning.error,placeholder:"Например, «Скидка предоставляется только при заказе от 50 000 рублей...»","add-style":{minHeight:"120px"}},on:{focus:function(e){return t.fieldFocus("aboutActionWarning","three",e)},blur:function(e){return t.fieldBlur("aboutActionWarning","three")}},model:{value:t.aboutActionWarning,callback:function(e){t.aboutActionWarning=e},expression:"aboutActionWarning"}})],1),n("div",{staticClass:"row-b__col elem-pos-fix",class:{"--active":t.stepsCreateAction.three.fields.aboutActionWarning.focus},staticStyle:{width:"248px","min-width":"248px"}},[n("div",{staticClass:"mtb construct-form__big-note"},[n("div",{staticClass:"mt16 text-size-xs construct-form__note",class:{error:t.stepsCreateAction.three.fields.aboutActionWarning.error}},[t._v("Если у вас есть очень важная информация, которую"),n("br"),t._v(" нужно обособить, разместите её в этом блоке.")])])])])]),n("construct-check-show",{staticClass:"mt32",attrs:{id:"coupon-aboutActionMore","prop-title":"Дополнительная информация"},model:{value:t.aboutActionMoreChecked,callback:function(e){t.aboutActionMoreChecked=e},expression:"aboutActionMoreChecked"}},[n("div",{staticClass:"row-b",staticStyle:{"padding-top":"8px"}},[n("div",{staticClass:"row-b__col elem-pos-fit mr24"},[n("textarea-field",{staticClass:"full",attrs:{"is-error":t.stepsCreateAction.three.fields.aboutActionMore.error,placeholder:"Например, «Сроки доставки составляют 7 (семь) рабочих дней от даты проведения замера...»","add-style":{minHeight:"120px"}},on:{focus:function(e){return t.fieldFocus("aboutActionMore","three",e)},blur:function(e){return t.fieldBlur("aboutActionMore","three")}},model:{value:t.aboutActionMore,callback:function(e){t.aboutActionMore=e},expression:"aboutActionMore"}})],1),n("div",{staticClass:"row-b__col elem-pos-fix",class:{"--active":t.stepsCreateAction.three.fields.aboutActionMore.focus},staticStyle:{width:"248px","min-width":"248px"}},[n("div",{staticClass:"mtb construct-form__big-note"},[n("div",{staticClass:"mt16 text-size-xs construct-form__note",class:{error:t.stepsCreateAction.three.fields.aboutActionMore.error}},[t._v("Здесь разместите вспомогательную информацию,"),n("br"),t._v(" которую вы хотите донести до покупателей.")])])])])]),t._m(4)],1)]):t._e(),t.stepsCreateAction.four.show?n("div",{staticClass:"wrapper-content wrapper-content-inner mt40 pt32 pb32"},[n("div",{staticClass:"h1"},[t._v("Как воспользоваться скидкой?")]),n("div",{staticClass:"mt32"},[t.countHowToUse<3?n("div",[n("span",{staticClass:"construct-form__add-btn",class:{error:t.stepsCreateAction.four.fields.callUsCheckBox.error||t.stepsCreateAction.four.fields.comeUsCheckBox.error||t.stepsCreateAction.four.fields.goLinkCheckBox.error},on:{click:t.openModalHowToUse}},[n("span",{staticClass:"icon"},[t._v("+")]),n("span",{staticClass:"text"},[t._v("Добавить способ")])])]):t._e(),n("div",{staticClass:"construct-form__how-use-list"},[t.stepsCreateAction.four.fields.callUsCheckBox.value?n("div",{staticClass:"item"},[t.countHowToUse>1?n("div",{staticClass:"item__title"},[t._v("Способ 1")]):t._e(),n("div",{staticClass:"item__list"},[n("ol",[n("li",[t._v("Оформить купон")]),n("li",[t._v("Позвонить нам по телефону "),n("tooltip",{attrs:{direction:"bottom-center-direction","add-class-wrap":"dib","add-style":{width:"295px"}}},[n("span",{staticClass:"pseudo-link link-color",attrs:{slot:"tooltipBtn"},slot:"tooltipBtn"},[t._v(t._s(t.stepsCreateAction.four.fields.callUs.value.phone.value))]),n("div",{attrs:{slot:"tooltipContent"},slot:"tooltipContent"},[n("div",{staticClass:"text-size-m"},[t._v("Этот номер будет доступен покупателю "),n("br"),t._v("\n                                                только после оформления купона")])])]),t._v(" ("+t._s(t.stepsCreateAction.four.fields.callUs.value.operation.value)+"), чтобы "+t._s(t.stepsCreateAction.four.fields.callUs.value.target.value))],1)]),n("span",{staticClass:"item__control"},[n("span",{staticClass:"icon-btn i i-pencil2",on:{click:t.openConstructActionCallUs}}),n("span",{staticClass:"icon-btn i i-trash",staticStyle:{transform:"scale(0.8)"},on:{click:function(e){t.callUsCheckBox=!1}}})])])]):t._e(),t.stepsCreateAction.four.fields.comeUsCheckBox.value?n("div",{staticClass:"item"},[t.countHowToUse>1?n("div",{staticClass:"item__title"},[t._v("Способ "+t._s(t.stepsCreateAction.four.fields.callUsCheckBox.value?2:1))]):t._e(),n("div",{staticClass:"item__list"},[n("ol",[n("li",[t._v("Оформить купон")]),n("li",[0===t.stepsCreateAction.four.fields.comeUs.value.otherAddresses.length?n("span",[t._v("Приехать к нам в "+t._s(t.stepsCreateAction.four.fields.comeUs.value.where.value)+" по адресу\n                                            "),t.stepsCreateAction.four.fields.comeUs.value.coord.value?n("a",{staticClass:"pseudo-link link-color",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openMap(0)}}},[t._v(t._s(t.stepsCreateAction.four.fields.comeUs.value.address.value))]):n("span",[t._v(t._s(t.stepsCreateAction.four.fields.comeUs.value.address.value))]),t._v("\n                                             ("+t._s(t.stepsCreateAction.four.fields.comeUs.value.operation.value)+"), чтобы "+t._s(t.stepsCreateAction.four.fields.comeUs.value.target.value))]):n("span",[t._v("Приехать к нам "+t._s(t.stepsCreateAction.four.fields.comeUs.value.where.value)+" по любому из указанных адресов, чтобы "+t._s(t.stepsCreateAction.four.fields.comeUs.value.target.value)+":"),n("br")]),t.stepsCreateAction.four.fields.comeUs.value.otherAddresses.length>0?n("span",[n("span",[t._v("• "),t.stepsCreateAction.four.fields.comeUs.value.coord.value?n("a",{staticClass:"pseudo-link link-color",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openMap(0)}}},[t._v(t._s(t.stepsCreateAction.four.fields.comeUs.value.address.value))]):n("span",[t._v(t._s(t.stepsCreateAction.four.fields.comeUs.value.address.value))]),t._v(" ("+t._s(t.stepsCreateAction.four.fields.comeUs.value.operation.value)+")"),n("br")]),t._l(t.stepsCreateAction.four.fields.comeUs.value.otherAddresses,(function(e){return n("span",{key:e.num},[t._v("• "),e.coord.value?n("a",{staticClass:"pseudo-link link-color",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openMap(0)}}},[t._v(t._s(e.address.value))]):n("span",[t._v(t._s(e.address.value))]),t._v(" ("+t._s(e.operation.value)+")"),n("br")])}))],2):t._e()])]),n("span",{staticClass:"item__control"},[n("span",{staticClass:"icon-btn i i-pencil2",on:{click:t.openConstructActionComeUs}}),n("span",{staticClass:"icon-btn i i-trash",staticStyle:{transform:"scale(0.8)"},on:{click:function(e){t.comeUsCheckBox=!1}}})])])]):t._e(),t.stepsCreateAction.four.fields.goLinkCheckBox.value?n("div",{staticClass:"item"},[t.countHowToUse>1?n("div",{staticClass:"item__title"},[t._v("Способ "+t._s(t.countHowToUse))]):t._e(),n("div",{staticClass:"item__list"},[n("ol",[n("li",[t._v("Оформить купон")]),n("li",[t._v("Сделать заказ по "),n("a",{attrs:{target:"_blank",href:t.stepsCreateAction.four.fields.goLink.value.link.value}},[t._v("ссылке")]),t._v(", указав в описании кодовое слово «ЗЕМСКИДКИ»")])]),n("span",{staticClass:"item__control"},[n("span",{staticClass:"icon-btn i i-pencil2",on:{click:t.openConstructActionGoLink}}),n("span",{staticClass:"icon-btn i i-trash",staticStyle:{transform:"scale(0.8)"},on:{click:function(e){t.goLinkCheckBox=!1}}})])])]):t._e()])])]):t._e(),t.stepsCreateAction.five.show?n("div",{staticClass:"wrapper-content wrapper-content-inner mt40 pt32 pb32",staticStyle:{position:"relative"}},[n("div",{staticClass:"h1",attrs:{id:"coupon-cities"}},[t._v("Область действия акции")]),t.stepsCreateAction.five.fields.cities.value.length>0&&"all"===t.stepsCreateAction.five.fields.cities.value[0].xmlId?t._e():n("a",{staticClass:"construct-city-all",attrs:{href:"javascript:void(0);"},on:{click:t.openConstructActionAllCity}},[t._v("Сделать\n                    акцию доступной для всей России")]),n("div",{staticClass:"mt32"},[n("div",{staticClass:"tags tags--edit"},[n("div",{staticClass:"tags-wrap"},[t._l(t.stepsCreateAction.five.fields.cities.value,(function(e){return n("span",{staticClass:"tag"},[n("span",{staticClass:"text"},[t._v(t._s(e.name))]),n("span",{staticClass:"del",on:{click:function(n){return t.delCity(e.xmlId)}}})])})),0===t.stepsCreateAction.five.fields.cities.value.length||t.stepsCreateAction.five.fields.cities.value.length>0&&"all"!==t.stepsCreateAction.five.fields.cities.value[0].xmlId?n("span",{staticClass:"tag tag--add",class:{error:t.stepsCreateAction.five.fields.cities.error},on:{click:t.openConstructActionCity}},[n("span",{staticClass:"icon"},[t._v("+")]),n("span",{staticClass:"text"},[t._v("Добавить город")])]):t._e()],2)])])]):t._e(),t.stepsCreateAction.finish.show?n("div",{staticClass:"wrapper-content wrapper-content-inner mt40 pt32 pb32",staticStyle:{position:"relative"}},[n("div",{staticClass:"h1",attrs:{id:"coupon-tags"}},[t._v("Теги для поиска")]),n("div",{staticClass:"row-b mt32"},[n("div",{staticClass:"row-b__col elem-pos-fit mr24"},[n("tag-editor",{attrs:{error:t.stepsCreateAction.finish.fields.tags.error},on:{focus:function(e){return t.fieldFocus("tags","finish")},blur:function(e){return t.fieldBlur("tags","finish")}},model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}})],1),n("div",{staticClass:"row-b__col elem-pos-fix",class:{"--active":t.stepsCreateAction.finish.fields.tags.focus},staticStyle:{width:"248px","min-width":"248px"}},[t._m(5)])])]):t._e(),"finish"!==t.currentStep?n("div",{staticClass:"row-b",style:t.styleBtnNext},[n("div",{staticClass:"row-b__col elem-pos-fix mr24"},[n("button",{staticClass:"btn",on:{click:function(e){return t.nextStep()}}},[t._v("Продолжить")])]),t.stepsCreateAction.one.isCheckStep?n("div",{staticClass:"row-b__col elem-pos-fit"},[t._m(6)]):t._e()]):n("div",{staticClass:"row-b",staticStyle:{margin:"40px 24px 0"}},[n("div",{staticClass:"row-b__col elem-pos-fix mr24"},[n("submit-btn",{staticClass:"btn btn--green",attrs:{tag:"button",type:t.buttons.save.state},nativeOn:{click:function(e){return t.nextStep(e)}}},[t._v("\n                        Сохранить\n                    ")])],1),t._m(7)])])]),n("popup",{attrs:{width:744,show:t.popups.originDiscount.show,name:t.popups.originDiscount.name}},[n("origin-discount",{attrs:{"selected-prop":t.stepsCreateAction.one.fields.originDiscount.value},on:{change:t.originDiscountChange}})],1),n("popup",{attrs:{show:t.popups.confirmDiscount.show,name:t.popups.confirmDiscount.name}},[n("confirm-discount",{on:{change:t.confirmDiscountChange}})],1),n("popup",{attrs:{show:t.popups.correctText.show,name:t.popups.correctText.name}},[n("div",[n("div",{staticClass:"popup__content"},[n("div",{staticClass:"h1 mb8"},[t._v("\n                    Проверьте корректность текста\n                ")]),n("div",{staticClass:"text-bold"},[t._v("\n                    Соответствует ли описание ниже вашей компании?\n                ")]),n("div",{staticClass:"mt24",domProps:{innerHTML:t._s(t.onenessDiscountHtml)}}),n("div",{staticClass:"row-b mt32"},[n("button",{staticClass:"btn mr32",on:{click:t.hideConfirmDiscount}},[t._v("Всё верно!")]),n("a",{attrs:{href:"javascript:void(0)"},on:{click:t.prevConfirmDiscount}},[t._v("На шаг назад")])])])])]),n("popup",{attrs:{show:t.popups.correctTextNoDiscount.show,name:t.popups.correctTextNoDiscount.name}},[n("div",[n("div",{staticClass:"popup__content"},[n("div",{staticClass:"h1 mb8"},[t._v("\n                    Проверьте корректность текста\n                ")]),n("div",{staticClass:"text-bold"},[t._v("\n                    Соответствует ли описание ниже вашей компании?\n                ")]),n("div",{staticClass:"mt24",domProps:{innerHTML:t._s(t.onenessDiscountHtml)}}),n("div",{staticClass:"row-b mt32"},[n("button",{staticClass:"btn mr32",on:{click:t.hideConfirmDiscount}},[t._v("Всё верно!")]),n("a",{attrs:{href:"javascript:void(0)"},on:{click:t.prevConfirmDiscount}},[t._v("На шаг назад")])])])])]),n("popup",{attrs:{show:t.popups.constructActionCallUs.show,name:t.popups.constructActionCallUs.name,"add-class":"popup-choose-action"}},[n("construct-action-call-us",{attrs:{"phone-prop":t.stepsCreateAction.four.fields.callUs.value.phone?t.stepsCreateAction.four.fields.callUs.value.phone:"","operation-prop":t.stepsCreateAction.four.fields.callUs.value.operation?t.stepsCreateAction.four.fields.callUs.value.operation:"","target-prop":t.stepsCreateAction.four.fields.callUs.value.target?t.stepsCreateAction.four.fields.callUs.value.target:""},on:{save:t.setCallUs}})],1),n("popup",{attrs:{show:t.popups.constructActionGoLink.show,name:t.popups.constructActionGoLink.name,"add-class":"popup-choose-action"}},[n("construct-action-link",{attrs:{"link-prop":t.stepsCreateAction.four.fields.goLink.value.link?t.stepsCreateAction.four.fields.goLink.value.link:""},on:{save:t.setGoLink}})],1),n("popup",{ref:"constructActionComeUs",attrs:{show:t.popups.constructActionComeUs.show,name:t.popups.constructActionComeUs.name,"add-class":"popup-choose-action"}},[n("construct-action-come",{attrs:{fields:t.stepsCreateAction.four.fields.comeUs.value},on:{resize:function(e){return t.$refs.constructActionComeUs.updateViewportSize()},save:t.setComeUs}})],1),n("popup",{attrs:{"is-btn-close":!1,show:t.popups.constructActionAllCity.show,name:t.popups.constructActionAllCity.name}},[n("construct-action-all-city")],1),n("city-choice",{attrs:{"regions-prop":t.citySelectOptions,show:t.popups.constructActionCity.show,name:t.popups.constructActionCity.name},on:{change:t.cityChange}}),n("popup",{attrs:{width:992,show:t.popups.constructActionVideo.show,name:t.popups.constructActionVideo.name,"add-class":"popup--video"}},[n("iframe",{attrs:{width:"992",height:"548",src:"https://www.youtube.com/embed/WBaKEl5HIzU",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),n("popup",{attrs:{width:720,"is-btn-close":!1,show:t.popups.partnerModerateErrorPercent.show,name:t.popups.partnerModerateErrorPercent.name}},[n("div",[n("div",{staticClass:"popup__header mb"},[n("div",{staticClass:"title"},[t._v("Предложенная скидка слишком мала")])]),n("div",{staticClass:"popup__content"},[n("b",[t._v("Какой должна быть минимальная скидка?")]),n("ul",{staticClass:"ul-disc-small mt0"},[n("li",[t._v("Общая скидка должна составлять не менее "+t._s(t.options.minDiscount)+"%, потому что "+t._s(t.options.ourDiscount)+"% из этой скидки – наша комиссия.")]),n("li",[t._v("Оставшиеся проценты будут составлять скидку для покупателя. Поэтому "+t._s(t.options.minDiscount)+"% – это самый минимум.")])]),n("div",{staticClass:"row-b mt32"},[n("button",{staticClass:"btn btn--white-red",on:{click:function(e){return t.closePartnerModerateErrorPercent()}}},[t._v("Предложить более солидную скидку")])])])])]),n("popup",{attrs:{width:720,"is-btn-close":!1,show:t.popups.partnerModerateErrorSum.show,name:t.popups.partnerModerateErrorSum.name}},[n("div",[n("div",{staticClass:"popup__header mb"},[n("div",{staticClass:"title"},[t._v("Польза от вашей акции слишком мала!")])]),n("div",{staticClass:"popup__content"},[n("p",[t._v("Средний чек по данному виду продукции у вас составляет "+t._s(t.number_format(t.averageCheck))+" Р."),n("br"),t._v("\n                    Вы готовы дать скидку "+t._s(t.discount-t.options.ourDiscount)+"% ("+t._s(t.discount-t.options.ourDiscount)+"% покупателю и ещё "+t._s(t.options.ourDiscount)+"% — доход нашего проекта)"),n("br"),t._v("\n                    В результате экономия покупателя составит всего "+t._s(t.economy)+" Р и это очень мало.")]),n("div",{staticClass:"row-b mt32"},[n("button",{staticClass:"btn",on:{click:function(e){return t.closePartnerModerateErrorSum()}}},[t._v("Предложить более солидную скидку")]),n("a",{staticClass:"pseudo-link-cancel",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.close(t.popups.partnerModerateErrorSum.name)}}},[t._v("Отмена")])])])])]),n("popup",{attrs:{"is-btn-close":!1,show:t.popups.cooperationCancelSmallPriceOne.show,name:t.popups.cooperationCancelSmallPriceOne.name,width:808}},[n("cooperation-cancel-small-price-one",{attrs:{average:t.averageCheck,discount:t.discountUser,projectDiscount:t.discount},on:{close:function(e){return t.setFocus("projectDiscount")}}})],1),n("popup",{attrs:{"is-btn-close":!1,show:t.popups.constructHowUseVars.show,name:t.popups.constructHowUseVars.name}},[n("construct-how-use-vars")],1),t.stepsCreateAction.four.fields.comeUsCheckBox.value?n("popup",{attrs:{show:t.popups.address.show,name:t.popups.address.name,"add-class":"popup--map","is-set-blank":!0}},[n("Map",{attrs:{markers:t.getMarkers(),height:558,coords:t.mapCenter,zoom:11}})],1):t._e()],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-title"},[n("div",{staticClass:"main-title__wrap main-title--nowrap"},[n("div",{staticClass:"h1"},[t._v("Конструктор акции")]),n("div",{staticClass:"mt16"},[n("strong",[t._v("Создавая акцию, помните:")]),t._v(" скидка должна быть фиксированной и не может «плавать». Если у вас скидка на одну продукцию составляет 10%,"),n("br"),t._v(" а на другую 20% — создайте две отдельные акции.  Так же перед созданием посмотрите как оформлены акции других участников "),n("a",{attrs:{target:"_blank",href:"/"}},[t._v("ZemSkidki.ru")])])]),n("div",{staticClass:"main-title__right"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"t"},[t._v("Средний чек посчитан автоматически по результатам"),n("br"),t._v(" погашения 2 купонов и изменить его уже нельзя")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"t"},[t._v("У однажды опубликованной акции нельзя изменить скидку. "),n("br"),t._v("\n                                    Если нужно создать такую же акцию, но с другой скидкой – "),n("br"),t._v("\n                                    скопируйте эту акцию и делайте с ней, что хотите.")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"t"},[t._v("У однажды опубликованной акции нельзя изменить скидку. "),n("br"),t._v("\n                                    Если нужно создать такую же акцию, но с другой скидкой – "),n("br"),t._v("\n                                    скопируйте эту акцию и делайте с ней, что хотите.")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notice"},[t._v("\n                        Выберите дополнительные блоки, которые"),n("br"),t._v("\n                        вы хотите добавить к описанию акции."),n("br"),t._v("\n                        Это необязательно, но желательно.\n                    ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mtb construct-form__big-note"},[n("div",{staticClass:"construct-form__note mt16"},[t._v("Укажите тэги (ключевые слова), по которым "),n("br"),t._v("\n                                можно будет найти вашу акцию\n                            ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n                        Не переживайте, вся заполненная ранее информация не пропала, "),n("br"),t._v('\n                        вы увидете её после нажатия кнопки "Продолжить"\n                    ')])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row-b__col elem-pos-fit"},[n("div",[t._v("\n                        Теперь сохраните акцию, оцените её внешний вид и отправьте на модерацию.\n                    ")])])}],r=(n("8e6e"),n("ac6a"),n("456d"),n("7514"),n("55dd"),n("75fc")),s=(n("7f7f"),n("28a5"),n("bd86")),a=n("2f62"),l=n("f2c8"),c=n("516f"),u=n("1f24"),p=n("b10c"),f=n("9844"),d=n("6187"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"full"},[n("div",{staticClass:"construct-form__photo"},[t._l(t.files,(function(e){return n("div",{key:e.id,staticClass:"item-wrap"},[n("div",{staticClass:"item --img",style:{"background-image":"url(//api.zemskidki.ru/"+e.icon+")"}},[n("span",{staticClass:"item__remove",on:{click:function(n){return t.deleteFile(e.id)}}})])])})),t.files.length<t.maxFiles?n("div",{staticClass:"item-wrap"},[n("div",{staticClass:"item --add",class:{error:t.error},on:{click:function(e){t.errorPopupShow=!1,t.openInput()}}},[n("div",{staticClass:"icon"},[t.isSend?n("span",{staticClass:"preloader"}):n("span",{staticClass:"i i-photo"})]),t.isSend?t._e():n("span",{staticClass:"t"},[t._v("Добавить фото")])])]):t._e(),t._l(t.countEmpty,(function(e){return t.files.length<t.maxFiles?n("div",{staticClass:"item-wrap"},[n("div",{staticClass:"item --blank"})]):t._e()}))],2),t.isSend?t._e():n("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{accept:t.acceptType,type:"file"},on:{change:t.onFileChange}}),t.targetFile&&t.cropperShow?n("cropper",{directives:[{name:"show",rawName:"v-show",value:t.cropperVisible,expression:"cropperVisible"}],attrs:{"prop-popup-show":t.cropperShow,type:t.targetFileType,src:t.targetFile,width:t.targetFileWidth,height:t.targetFileHeight},on:{crop:t.onFileCrop,hide:function(e){t.cropperVisible=!1},close:function(e){t.cropperShow=!1},cancel:function(e){return t.cropperHide()}}}):t._e(),n("popup",{attrs:{show:t.errorPopupShow,width:550},on:{close:function(e){return t.close()}}},[n("div",{attrs:{id:"popup-cropper-warning"}},[n("div",{staticClass:"text-size-xl text-color-red text-bolder"},[t._v("\n                Ошибка загрузки!\n            ")]),n("div",{staticClass:"popup__content"},[n("div",[t._v("Ширина изображения не должна быть меньше 800px.")]),n("div",[t._v("Высота изображения не должна быть меньше 600px.")]),n("div",[t._v("Вес изображения не должен превышать 10Мб.")])]),n("div",{staticClass:"popup__footer"},[n("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.openInput()}}},[t._v("Загрузить другое изображение")])])])])],1)},v=[],m=(n("6b54"),n("69db")),b=n("b719f"),y={name:"FileUploadCropperGallery",components:{Cropper:b["a"],Popup:c["a"]},props:{maxFiles:{default:100},acceptType:{default:""},maxFilesSize:{default:10485760},hintSolo:{default:"Минимальный размер — 800х600px, максимальный вес — 10Мб"},btnText:{default:"Загрузить изображение"},path:{default:!1},value:{default:[]},fieldName:{default:"file"},actionDelete:{type:String,required:!0},actionSend:{type:String,required:!0},error:{default:!1},elementId:{default:!1},isModeraite:{default:!1},minWidth:{default:800},minHeight:{default:600}},data:function(){return{file:{},files:[],fileInput:!1,isSend:!1,cropperShow:!1,errorPopupShow:!1,cropperVisible:!1,targetFile:!1,targetFileWidth:!1,targetFileHeight:!1,targetFileType:!1,ajax:!1}},computed:{countEmpty:function(){return 0===this.files.length?3:this.files.length<4?3-this.files.length>0?3-this.files.length:0:3-this.files.length%4>0?3-this.files.length%4:0}},watch:{value:function(){this.$nextTick((function(){this.files=Object(r["a"])(this.value)}))}},mounted:function(){this.files=Object(r["a"])(this.value)},methods:{deleteFile:function(t){var e=this,n=function(n){+e.files[n].id===+t&&("false"!==e.actionDelete?e.$store.dispatch(e.actionDelete,{fileId:t,fieldName:e.fieldName,isModeraite:e.isModeraite,actionId:+e.elementId>0&&e.elementId}).then((function(t){e.files.splice(n,1),e.$emit("input",e.files)})):(e.files.splice(n,1),e.$emit("input",e.files)))};for(var o in this.files)n(o)},getViewportSize:function(){var t=window.document.querySelector("html");return{w:t.clientWidth,h:t.clientHeight}},close:function(){this.errorPopupShow=!1,document.getElementsByTagName("body")[0].classList.remove("noscroll")},openInput:function(){this.isSend||(this.close(),this.$refs.fileInput.click())},onFileChange:function(t){var e=this,n=t.target.files||t.dataTransfer.files;if(n.length){var o=window.URL||window.webkitURL;e.targetFile=o.createObjectURL(n[0]);var i=new Image;i.src=e.targetFile,i.onload=function(){this.height<e.minHeight||this.width<e.minWidth||n[0].size>10485760?e.errorPopupShow=!0:(e.targetFileHeight=this.height,e.targetFileWidth=this.width,e.targetFileType=n[0].type,e.$emit("change"),e.cropperShow=!0,e.cropperVisible=!0,e.fileInput=n[0])}}},onFileCrop:function(t){this.file={id:!1,name:this.fileInput.name,size:this.fileInput.size,path:!1,icon:!1,finish:!1,ext:this.getExt(this.fileInput.name),progress:0},this.fileUpload(t)},getExt:function(t){var e;return(e=t.split(".")).length>1?e.pop():""},cropperHide:function(){this.cropperShow=!1},fileUpload:function(t){var e=this,n=new FormData;n.append(e.fieldName.toString(),this.fileInput,this.fileInput.name),n.append("crop[x]",t.x<0?0:t.x),n.append("crop[y]",t.y<0?0:t.y),n.append("crop[w]",t.width),n.append("crop[h]",t.height),e.isSend||(e.isSend=!0,this.$store.dispatch(this.actionSend,{form_data:n,fieldName:this.fieldName,isModeraite:this.isModeraite,elementId:+this.elementId>0&&this.elementId}).then((function(t){e.isSend=!1;var n={id:t.id,name:e.file.name,size:e.file.size,path:t.path,finish:!0,icon:t.icon,ext:e.file.ext};e.files.push(n),e.$emit("input",e.files)})).catch((function(t){})))}}},g=y,_=n("2877"),C=Object(_["a"])(g,h,v,!1,null,null,null),w=C.exports,k=n("e45b"),O=n("be16"),x=n("5675"),A=n("4c1e"),E=n("4a30"),P=n("c11c"),j=n("341c"),S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade-popup"}},[t.show?n("div",{staticClass:"city-select-container"},[n("header",{staticClass:"header header--black"},[n("div",{staticClass:"header-main header-main--editor"},[n("div",{staticClass:"inner-wrapper"},[n("div",{staticClass:"h-left"}),n("div",{staticClass:"h-right"},[n("span",{staticClass:"btn h-editor-btn btn--ico btn--save",on:{click:t.close}},[n("span",{staticClass:"i i-ok2"}),n("span",{staticClass:"t"},[t._v("Сохранить")])])])])])]),n("div",{staticClass:"content"},[n("div",{staticClass:"main-title"},[n("div",{staticClass:"main-title__wrap"},[n("div",{staticClass:"h1"},[t._v("Выберите города")])]),n("div",{staticClass:"main-title__right"},[n("span",{staticClass:"text-color-grey text-size-s"},[t._v("Выбрано: "+t._s(t.countSelect))])])]),n("div",{staticClass:"wrapper-content mt32"},[n("div",{staticClass:"wrapper-content-inner"},[n("div",{staticClass:"city-choice-wrap"},[n("div",{staticClass:"city-choice__all-russia"},[n("a",{staticClass:"text-size-s",attrs:{href:"javascript:void(0);"},on:{click:t.openConstructActionAllCity}},[t._v("Сделать акцию доступной для всей России")])]),n("div",{staticClass:"city-choice"},t._l(t.regions,(function(e){return n("div",{staticClass:"city-choice__region",class:{open:e.isOpen,"--sep":e.isDelimiter}},[n("div",{staticClass:"city-choice__region-title"},[n("span",{staticClass:"p",on:{click:function(n){return t.showCities(e)}}}),n("span",{staticClass:"label",on:{click:function(n){return t.regionCheck(e)}}},[n("span",{staticClass:"pseudo-checkbox",attrs:{"data-status":e.isChecked}}),n("span",{staticClass:"label__text"},[t._v(t._s(e.name))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"region.isOpen"}],staticClass:"city-choice__region-wrap",attrs:{id:e.id}},[n("div",{staticClass:"wrapper"},t._l(e.cities,(function(e){return n("div",{key:e.xmlId,staticClass:"item",class:{active:e.isChecked}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.isChecked,expression:"children.isChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isChecked)?t._i(e.isChecked,null)>-1:e.isChecked},on:{change:function(n){var o=e.isChecked,i=n.target,r=!!i.checked;if(Array.isArray(o)){var s=null,a=t._i(o,s);i.checked?a<0&&t.$set(e,"isChecked",o.concat([s])):a>-1&&t.$set(e,"isChecked",o.slice(0,a).concat(o.slice(a+1)))}else t.$set(e,"isChecked",r)}}}),n("label",{on:{click:function(n){return t.changeCity(e)}}},[t._v(t._s(e.name)+" ")])])})),0)])])})),0)])])])])]):t._e()])},T=[];function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var L={name:"CityChoice",props:{regionsProp:{},show:{default:function(){return!1}},name:""},data:function(){return{regions:{},countSelect:0,isShowPopup:!1}},mounted:function(){this.updateCitiesList()},watch:{regionsProp:function(t,e){this.updateCitiesList()},show:function(){this.show?document.getElementsByTagName("body")[0].classList.add("city-select"):document.getElementsByTagName("body")[0].classList.remove("city-select")}},computed:q({},Object(a["b"])({popups:function(t){return t.popups.items}})),methods:{close:function(){for(var t in this.regions)this.regions[t].isOpen=!1;this.$emit("change",{regions:this.regions,count:this.countSelect}),this.show&&this.name&&this.$store.commit("popups/close",{name:this.name})},calcChecked:function(){for(var t in this.countSelect=0,this.regions){for(var e in this.regions[t].cities)!0===this.regions[t].cities[e].isChecked&&this.countSelect++;this.regionStatus(this.regions[t])}return this.countSelect},updateCitiesList:function(){this.regions=q({},this.regionsProp),this.calcChecked()},showCities:function(t){t.isOpen=!t.isOpen},regionCheck:function(t){if(0===t.isChecked||1===t.isChecked)for(var e in t.isChecked=2,t.cities)t.cities[e].isChecked=!0;else for(var n in t.isChecked=0,t.cities)t.cities[n].isChecked=!1;this.$nextTick((function(){this.calcChecked(),this.$emit("change",{regions:this.regions,count:this.countSelect})}))},changeCity:function(t){t.isChecked=!t.isChecked,this.$emit("change",{regions:this.regions,count:this.countSelect}),this.$nextTick((function(){this.calcChecked()}))},regionStatus:function(t){var e=0;for(var n in t.cities)!0===t.cities[n].isChecked&&e++;e===t.cities.length?t.isChecked=2:t.isChecked=0===e?0:1},openConstructActionAllCity:function(){this.$store.dispatch("popups/open",{name:this.popups.constructActionAllCity.name})}}},D=L,M=(n("1933"),Object(_["a"])(D,S,T,!1,null,"542d96f4",null)),$=M.exports,I=n("557e"),B=n("898e"),R=n("7f09"),U=n("436a"),F=n("4887"),H=n("53ec"),z=n("00ed"),V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"popup__content"},[t._m(0),n("div",{staticClass:"construct-form__how-use-var mt32"},[n("div",{staticClass:"item",class:{disabled:t.stepsCreateAction.four.fields.callUsCheckBox.value},on:{click:t.openConstructActionCallUs}},[t._m(1),n("div",{staticClass:"t"},[t._v("Позвонить...")]),n("div",{staticClass:"s"},[t._v("Уже используется")])]),n("div",{staticClass:"item",class:{disabled:t.stepsCreateAction.four.fields.comeUsCheckBox.value},on:{click:t.openConstructActionComeUs}},[t._m(2),n("div",{staticClass:"t"},[t._v("Приехать...")]),n("div",{staticClass:"s"},[t._v("Уже используется")])]),n("div",{staticClass:"item",class:{disabled:t.stepsCreateAction.four.fields.goLinkCheckBox.value},on:{click:t.openConstructActionGoLink}},[t._m(3),n("div",{staticClass:"t"},[t._v("Заказать по ссылке...")]),n("div",{staticClass:"s"},[t._v("Уже используется")])])]),n("div",{staticClass:"mt32 text-center"},[t._v("\n            Выберите один из вариантов. Если нужно выбрать несколько – добавьте их по очереди...\n        ")])])])},Y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h1 text-center"},[t._v("Что нужно сделать"),n("br"),t._v(" для получения скидки?")])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"icon"},[o("img",{attrs:{src:n("9855"),alt:""}})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"icon"},[o("img",{attrs:{src:n("e5b4"),alt:""}})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"icon"},[o("img",{attrs:{src:n("90e3"),alt:""}})])}];function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var G={name:"ConstructHowUseVars",props:{},data:function(){return{}},methods:{openConstructActionCallUs:function(){this.stepsCreateAction.four.fields.callUsCheckBox.value||(this.$store.commit("popups/close",{name:this.popups.constructHowUseVars.name}),this.$store.dispatch("popups/open",{name:this.popups.constructActionCallUs.name}))},openConstructActionComeUs:function(){this.stepsCreateAction.four.fields.comeUsCheckBox.value||(this.$store.commit("popups/close",{name:this.popups.constructHowUseVars.name}),this.$store.dispatch("popups/open",{name:this.popups.constructActionComeUs.name}))},openConstructActionGoLink:function(){this.stepsCreateAction.four.fields.goLinkCheckBox.value||(this.$store.commit("popups/close",{name:this.popups.constructHowUseVars.name}),this.$store.dispatch("popups/open",{name:this.popups.constructActionGoLink.name}))}},computed:K({},Object(a["b"])({popups:function(t){return t.popups.items},stepsCreateAction:function(t){return t.partnerActions.stepsCreateAction}}))},Z=G,X=Object(_["a"])(Z,V,Y,!1,null,"0342b446",null),J=X.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"popup__content"},[n("div",{staticClass:"h1 mb8"},[t._v("Заказать по ссылке...")]),n("div",{staticClass:"row-b mt40"},[n("div",{staticClass:"row-b__col elem-pos-fix",staticStyle:{width:"463px","min-width":"463px"}},[n("input-styled",{attrs:{isClearBtn:!0,name:"phoneCall","is-error":t.link.error,placeholder:"Ссылка на оформление заказа","placeholder-input":"yourshop.ru/dump"},on:{focus:function(e){t.link.error=!1,t.linkFocus=!0},blur:function(e){t.linkFocus=!1}},model:{value:t.link.value,callback:function(e){t.$set(t.link,"value",e)},expression:"link.value"}})],1),n("div",{staticClass:"row-b__col elem-pos-fit",class:{"--active":t.linkFocus}},[n("div",{staticClass:"construct-form__note",class:{error:t.link.error}},[t._v("Ссылка будет доступна покупателю "),n("br"),t._v("\n                    только после оформления купона")])])]),n("div",{staticClass:"construct-use-preview"},[n("div",{staticClass:"title"},[t._v("Проверьте, как считывается текст:")]),n("div",{staticClass:"text"},[n("div",{staticClass:"text-bold"},[t._v("Чтобы воспользоваться скидкой, нужно:")]),n("ol",[n("li",[t._v("Оформить купон")]),n("li",[t._v("Сделать заказ по "),t.link.value?n("a",{attrs:{target:"_blank",href:t.link.value}},[t._v("ссылке")]):n("span",[t._v("ссылке")]),t._v(". В описании обязательно укажите кодовое слово «ЗЕМСКИДКИ»")])])])]),n("div",{staticClass:"row-b mt32"},[n("div",{staticClass:"row-b__col elem-pos-fix mr24"},[n("button",{staticClass:"btn mr32",on:{click:t.save}},[t._v("Продолжить")]),n("button",{staticClass:"btn btn--grey",on:{click:t.close}},[t._v("Отмена")])]),n("div",{staticClass:"row-b__col elem-pos-fit"})])])])},tt=[];n("b54a"),n("004b");function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ot={name:"ConstructActionLink",components:{InputStyled:p["a"]},props:{linkProp:""},data:function(){return{link:{value:"",error:!1},linkFocus:!1}},created:function(){this.link.value=this.linkProp.value?this.linkProp.value:""},methods:{save:function(){var t=this,e=0;this.link.error=!1,this.link.value.length<5&&(setTimeout((function(){t.link.error=!0}),150),e++),0===e&&(this.$emit("save",{link:this.link}),this.$store.commit("popups/close",{name:this.popups.constructActionGoLink.name}))},close:function(){this.$store.commit("popups/close",{name:this.popups.constructActionGoLink.name})}},computed:nt({},Object(a["b"])({popups:function(t){return t.popups.items}})),beforeDestroy:function(){this.$store.commit("popups/close",{name:this.popups.constructActionGoLink.name})}},it=ot,rt=Object(_["a"])(it,Q,tt,!1,null,"df2ba1e2",null),st=rt.exports,at=n("a0be"),lt=n("6d13");function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var pt={name:"ActionEditor",components:{FileUploadCropperGalleryMulti:lt["a"],InputPrice:x["a"],Popup:c["a"],Tooltip:u["a"],InputStyled:p["a"],TextEditorMax:f["a"],FileUploadCropper:d["a"],FileUploadCropperGallery:w,OriginDiscount:k["a"],ConfirmDiscount:O["a"],ConstructActionCallUs:A["a"],ConstructActionCome:E["a"],ConstructActionAllCity:P["a"],TagEditor:j["a"],CityChoice:$,SubmitBtn:I["a"],ConstructCheckShow:B["a"],TextareaField:R["a"],VideoGalleryAdd:U["a"],CooperationCancelSmallPriceOne:H["a"],LabelHint:z["a"],Map:at["a"],ConstructHowUseVars:J,ConstructActionLink:st},props:{isModerator:{default:!1}},data:function(){return{mapCenter:[55.427862,37.550162],cityPartner:{},isAllCities:!1,cityAll:{},prevCitySelect:{},citySelectOptions:{},buttons:{save:{state:"normal"}}}},mounted:function(){if(this.partner.city?this.cityPartner=this.getCityByXmlId(this.partner.city):this.cityPartner=this.currentCityIp,"new"===this.$route.params.id){for(var t in this.$store.commit("partnerActions/setFormCreateField",{name:"cities",value:[this.cityPartner],step:"five"}),this.stepsCreateAction)this.$store.commit("partnerActions/showStep",{value:!1,step:t});this.$store.commit("partnerActions/setCurrentStep","one")}else if(0===this.stepsCreateAction.one.fields.originDiscount.value.length)this.$store.commit("partnerActions/setCurrentStep","one");else{for(var e in this.stepsCreateAction)this.$store.commit("partnerActions/showStep",{value:!0,step:e});this.$store.commit("partnerActions/setCurrentStep","finish")}this.changeCitySelect()},computed:ut({},Object(a["b"])({popups:function(t){return t.popups.items},user:function(t){return t.users.user},cities:function(t){return t.cities.items},masks:function(t){return t.masks.items},currentStep:function(t){return t.partnerActions.currentStep},tmpId:function(t){return t.partnerActions.tmpId},stepsCreateAction:function(t){return t.partnerActions.stepsCreateAction},templates:function(t){return t.partnerActions.templates},detail:function(t){return t.partnerActions.detail},currentCityIp:function(t){return t.cities.currentCityIp},options:function(t){return t.options.items},statuses:function(t){return t.partnerActions.statuses}}),{statistics:function(){var t={};return t="undefined"===typeof this.detail.statistics?{sold:0,ext:0}:this.detail.statistics,t},countHowToUse:function(){var t=0;return this.stepsCreateAction.four.fields.callUsCheckBox.value&&this.stepsCreateAction.four.fields.callUs.value&&t++,this.stepsCreateAction.four.fields.comeUsCheckBox.value&&this.stepsCreateAction.four.fields.comeUs.value&&t++,this.stepsCreateAction.four.fields.goLinkCheckBox.value&&this.stepsCreateAction.four.fields.goLink.value&&t++,t},couponAverageDisabled:function(){return!!this.detail.statistics&&!(this.detail.statistics.ext<2)},styleBtnNext:function(){return"two"===this.currentStep?"margin: 40px 0 0;":"margin: 40px 24px 0;"},partner:function(){return this.$store.state.partner&&this.$store.state.partner.current.id?this.$store.state.partner.current:this.$store.state.partnerActions.detail.partner?this.$store.state.partnerActions.detail.partner:{}},economy:function(){var t=0;if(this.stepsCreateAction.one.fields.averageCheck.value&&this.stepsCreateAction.one.fields.discount.value){var e=this.stepsCreateAction.one.fields.averageCheck.value.split(" ").join("");t=e*(this.stepsCreateAction.one.fields.discount.value-this.options.ourDiscount)/100,t=Object(m["b"])(t,0,""," ")}return t},discountUser:{get:function(){return this.stepsCreateAction.one.fields.discountUser.value},set:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"discountUser",value:t,step:"one"}),0===+t?this.$store.commit("partnerActions/setFormCreateField",{name:"onenessDiscount",value:"Обычным покупателям мы не даём никаких скидок, а для покупателей<br> с купоном готовы предоставить <strong>#DISCOUNT#%</strong>.<br>Такую скидку невозможно получить, минуя ZemSkidki.ru",step:"one"}):this.$store.commit("partnerActions/setFormCreateField",{name:"onenessDiscount",value:"Обычным покупателям мы даём скидку не более <strong>"+this.discountUser+"%</strong>, а для покупателей<br> с купоном готовы предоставить <strong>#DISCOUNT#%</strong>.<br>Такую скидку невозможно получить, минуя ZemSkidki.ru",step:"one"})}},name:{get:function(){return this.stepsCreateAction.one.fields.name.value},set:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"name",value:t,step:"one"})}},averageCheck:{get:function(){return this.stepsCreateAction.one.fields.averageCheck.value},set:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"averageCheck",value:t,step:"one"})}},callUsCheckBox:{get:function(){return this.stepsCreateAction.four.fields.callUsCheckBox.value},set:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"callUsCheckBox",value:t,step:"four"}),this.$store.commit("partnerActions/setFormCreateError",{name:"callUsCheckBox",step:"four",value:!1}),this.$store.commit("partnerActions/setFormCreateError",{name:"comeUsCheckBox",step:"four",value:!1}),this.$store.commit("partnerActions/setFormCreateError",{name:"goLinkCheckBox",step:"four",value:!1})}},comeUsCheckBox:{get:function(){return this.stepsCreateAction.four.fields.comeUsCheckBox.value},set:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"comeUsCheckBox",value:t,step:"four"}),this.$store.commit("partnerActions/setFormCreateError",{name:"callUsCheckBox",step:"four",value:!1}),this.$store.commit("partnerActions/setFormCreateError",{name:"comeUsCheckBox",step:"four",value:!1}),this.$store.commit("partnerActions/setFormCreateError",{name:"goLinkCheckBox",step:"four",value:!1})}},goLinkCheckBox:{get:function(){return this.stepsCreateAction.four.fields.goLinkCheckBox.value},set:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"goLinkCheckBox",value:t,step:"four"}),this.$store.commit("partnerActions/setFormCreateError",{name:"callUsCheckBox",step:"four",value:!1}),this.$store.commit("partnerActions/setFormCreateError",{name:"comeUsCheckBox",step:"four",value:!1}),this.$store.commit("partnerActions/setFormCreateError",{name:"goLinkCheckBox",step:"four",value:!1})}},discount:{get:function(){return this.stepsCreateAction.one.fields.discount.value},set:function(t){+t>0?(this.$store.commit("partnerActions/setFormCreateBtnState",{name:"origin",value:"normal",step:"one"}),this.$store.commit("partnerActions/setFormCreateBtnState",{name:"oneness",value:"normal",step:"one"})):(this.$store.commit("partnerActions/setFormCreateBtnState",{name:"origin",value:"disable",step:"one"}),this.$store.commit("partnerActions/setFormCreateBtnState",{name:"oneness",value:"disable",step:"one"})),this.$store.commit("partnerActions/setFormCreateField",{name:"discount",value:t,step:"one"})}},originDiscountHtml:function(){return this.stepsCreateAction.one.fields.originDiscount.value?Object(F["a"])(this.stepsCreateAction.one.fields.originDiscount.value,this.stepsCreateAction.one.fields.discount.value-this.options.ourDiscount):""},onenessDiscountHtml:function(){return this.stepsCreateAction.one.fields.onenessDiscount.value?Object(F["a"])(this.stepsCreateAction.one.fields.onenessDiscount.value,this.stepsCreateAction.one.fields.discount.value-this.options.ourDiscount):""},tags:{get:function(){return this.stepsCreateAction.finish.fields.tags.value},set:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"tags",value:t,step:"finish"})}},citiesAction:{get:function(){return this.stepsCreateAction.five.fields.cities.value},set:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"cities",value:t,step:"five"})}},aboutActionVideo:{get:function(){return this.stepsCreateAction.three.fields.aboutActionVideo.value},set:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"aboutActionVideo",value:t,step:"three"}),this.stepsCreateAction.three.fields.aboutActionVideo.error&&t.length>0&&this.$store.commit("partnerActions/setFormCreateError",{name:"aboutActionVideo",value:!1,step:"three"})}},aboutActionPromo:{get:function(){return this.stepsCreateAction.three.fields.aboutActionPromo.value},set:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"aboutActionPromo",value:t,step:"three"}),this.stepsCreateAction.three.fields.aboutActionPromo.error&&this.$store.commit("partnerActions/setFormCreateError",{name:"aboutActionPromo",value:!1,step:"three"})}},aboutActionInclude:{get:function(){return this.stepsCreateAction.three.fields.aboutActionInclude.value},set:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"aboutActionInclude",value:t,step:"three"})}},aboutActionExclude:{get:function(){return this.stepsCreateAction.three.fields.aboutActionExclude.value},set:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"aboutActionExclude",value:t,step:"three"})}},aboutActionPrivileges:{get:function(){return this.stepsCreateAction.three.fields.aboutActionPrivileges.value},set:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"aboutActionPrivileges",value:t,step:"three"})}},aboutActionWarning:{get:function(){return this.stepsCreateAction.three.fields.aboutActionWarning.value},set:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"aboutActionWarning",value:t,step:"three"})}},aboutActionMore:{get:function(){return this.stepsCreateAction.three.fields.aboutActionMore.value},set:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"aboutActionMore",value:t,step:"three"})}},aboutActionPromoChecked:{get:function(){return this.stepsCreateAction.three.fields.aboutActionPromo.required},set:function(t){this.$store.commit("partnerActions/setFormCreateRequired",{name:"aboutActionPromo",value:t,step:"three"})}},aboutActionIncludeChecked:{get:function(){return this.stepsCreateAction.three.fields.aboutActionInclude.required},set:function(t){this.$store.commit("partnerActions/setFormCreateRequired",{name:"aboutActionInclude",value:t,step:"three"})}},aboutActionExcludeChecked:{get:function(){return this.stepsCreateAction.three.fields.aboutActionExclude.required},set:function(t){this.$store.commit("partnerActions/setFormCreateRequired",{name:"aboutActionExclude",value:t,step:"three"})}},aboutActionPrivilegesChecked:{get:function(){return this.stepsCreateAction.three.fields.aboutActionPrivileges.required},set:function(t){this.$store.commit("partnerActions/setFormCreateRequired",{name:"aboutActionPrivileges",value:t,step:"three"})}},aboutActionWarningChecked:{get:function(){return this.stepsCreateAction.three.fields.aboutActionWarning.required},set:function(t){this.$store.commit("partnerActions/setFormCreateRequired",{name:"aboutActionWarning",value:t,step:"three"})}},aboutActionMoreChecked:{get:function(){return this.stepsCreateAction.three.fields.aboutActionMore.required},set:function(t){this.$store.commit("partnerActions/setFormCreateRequired",{name:"aboutActionMore",value:t,step:"three"})}},aboutActionVideoChecked:{get:function(){return this.stepsCreateAction.three.fields.aboutActionVideo.required},set:function(t){this.$store.commit("partnerActions/setFormCreateRequired",{name:"aboutActionVideo",value:t,step:"three"})}},aboutActionPhoto:{get:function(){return this.stepsCreateAction.two.fields.aboutActionPhoto.value},set:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"aboutActionPhoto",value:t,step:"two"}),this.stepsCreateAction.two.fields.aboutActionPhoto.error&&t.length>0&&this.$store.commit("partnerActions/setFormCreateError",{name:"aboutActionPhoto",value:!1,step:"two"})}}}),methods:{balloonTemplate:function(t){var e=this.stepsCreateAction.two.fields.aboutActionPhoto.value.length>0?this.stepsCreateAction.two.fields.aboutActionPhoto.value[0].icon:"";return'\n              <div class="yamap_baloon_link yamap_baloon_link_address hover">\n                <img width="80" src="//api.zemskidki.ru/'+e+'" alt="'+this.name+'">\n                '+this.partner.name+'<br>\n                <b class="yamap_baloon_link-name">'+this.name+"</b><br/>\n                "+t+"\n              </div>\n            "},openMap:function(t){var e,n={};if(this.stepsCreateAction.four.fields.comeUs.value.coord&&(e=this.stepsCreateAction.four.fields.comeUs.value.coord.value?this.stepsCreateAction.four.fields.comeUs.value.coord.value.split(","):[],n[0]=[e[1],e[0]]),this.stepsCreateAction.four.fields.comeUs.value.otherAddresses)for(var o in this.stepsCreateAction.four.fields.comeUs.value.otherAddresses)if(this.stepsCreateAction.four.fields.comeUs.value.otherAddresses[o].coord.value){var i=this.stepsCreateAction.four.fields.comeUs.value.otherAddresses[o].coord.value.split(",");n[parseInt(o)+1]=[i[1],i[0]]}n[t]&&(this.mapCenter=n[t],this.$store.dispatch("popups/open",{name:this.popups.address.name}))},getMarkers:function(){var t=[];if(this.stepsCreateAction.four.fields.comeUs.value.coord){var e=this.stepsCreateAction.four.fields.comeUs.value.coord.value?this.stepsCreateAction.four.fields.comeUs.value.coord.value.split(","):[];t.push({id:10,type:"placemark",coords:[e[1],e[0]],hint:"",balloon:{header:"",body:this.balloonTemplate(this.stepsCreateAction.four.fields.comeUs.value.address.value),footer:""},cluster:"1"})}for(var n in this.stepsCreateAction.four.fields.comeUs.value.otherAddresses)if(this.stepsCreateAction.four.fields.comeUs.value.otherAddresses[n].coord.value){var o=this.stepsCreateAction.four.fields.comeUs.value.otherAddresses[n].coord.value.split(","),i={id:parseInt(n)+1,type:"placemark",coords:[o[1],o[0]],hint:"",balloon:{header:"",body:this.balloonTemplate(this.stepsCreateAction.four.fields.comeUs.value.otherAddresses[n].address.value),footer:""},cluster:"1"};t.push(i)}return t},openModalHowToUse:function(){this.$store.dispatch("popups/open",{name:this.popups.constructHowUseVars.name})},callUsCheckBoxClick:function(){this.$store.dispatch("popups/open",{name:this.popups.constructActionCallUs.name})},comeUsCheckBoxClick:function(){this.$store.dispatch("popups/open",{name:this.popups.constructActionComeUs.name})},scrollTo:function(t){Object(l["c"])(t)},setCallUs:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"callUs",value:t,step:"four"}),this.$store.commit("partnerActions/setFormCreateField",{name:"callUsCheckBox",value:!0,step:"four"}),this.$store.commit("partnerActions/setFormCreateError",{name:"callUsCheckBox",step:"four",value:!1}),this.$store.commit("partnerActions/setFormCreateError",{name:"comeUsCheckBox",step:"four",value:!1})},setGoLink:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"goLink",value:t,step:"four"}),this.$store.commit("partnerActions/setFormCreateField",{name:"goLinkCheckBox",value:!0,step:"four"}),this.$store.commit("partnerActions/setFormCreateError",{name:"callUsCheckBox",step:"four",value:!1}),this.$store.commit("partnerActions/setFormCreateError",{name:"comeUsCheckBox",step:"four",value:!1})},setComeUs:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"comeUs",value:t,step:"four"}),this.$store.commit("partnerActions/setFormCreateField",{name:"comeUsCheckBox",value:!0,step:"four"}),this.$store.commit("partnerActions/setFormCreateError",{name:"callUsCheckBox",step:"four",value:!1}),this.$store.commit("partnerActions/setFormCreateError",{name:"comeUsCheckBox",step:"four",value:!1})},removeError:function(t,e){this.$store.commit("partnerActions/setFormCreateError",{name:t,step:e,value:!1})},fieldBlur:function(t,e){this.checkStep(e),this.$store.commit("partnerActions/setFormCreateFocus",{name:t,step:e,value:!1})},fieldFocus:function(t,e){this.removeError(t,e),this.$store.commit("partnerActions/setFormCreateFocus",{name:t,step:e,value:!0}),"discount"===t&&(this.$store.commit("partnerActions/setFormCreateError",{name:"onenessDiscount",step:e,value:!1}),this.$store.commit("partnerActions/setFormCreateError",{name:"originDiscount",step:e,value:!1})),this.$store.commit("partnerActions/setFormCreateBtnHide",{name:"oneness",value:!1,step:"one"}),this.$store.commit("partnerActions/setFormCreateBtnClick",{name:"oneness",value:0,step:"one"}),this.$store.commit("partnerActions/setFormCreateBtnHide",{name:"origin",value:!1,step:"one"}),this.$store.commit("partnerActions/setFormCreateBtnClick",{name:"origin",value:0,step:"one"})},inputText:function(t,e,n){this.$store.commit("partnerActions/setFormCreateField",{name:t,value:n,step:e})},openOriginDiscount:function(){var t=this;!1===this.stepsCreateAction.one.buttons.origin.hide&&("disable"!==this.stepsCreateAction.one.buttons.origin.state?this.$store.dispatch("popups/open",{name:this.popups.originDiscount.name}):(this.$store.commit("partnerActions/setFormCreateBtnHide",{name:"origin",value:!0,step:"one"}),setTimeout((function(){t.$store.commit("partnerActions/setFormCreateBtnHide",{name:"origin",value:!1,step:"one"}),t.$store.commit("partnerActions/setFormCreateBtnClick",{name:"origin",value:0,step:"one"})}),2500)))},openConfirmDiscount:function(){var t=this;!1===this.stepsCreateAction.one.buttons.oneness.hide&&("disable"!==this.stepsCreateAction.one.buttons.oneness.state?this.$store.dispatch("popups/open",{name:this.popups.confirmDiscount.name}):this.stepsCreateAction.one.buttons.oneness.clicks<2?this.$store.commit("partnerActions/setFormCreateBtnClick",{name:"oneness",value:this.stepsCreateAction.one.buttons.oneness.clicks+1,step:"one"}):(this.$store.commit("partnerActions/setFormCreateBtnHide",{name:"oneness",value:!0,step:"one"}),setTimeout((function(){t.$store.commit("partnerActions/setFormCreateBtnHide",{name:"oneness",value:!1,step:"one"}),t.$store.commit("partnerActions/setFormCreateBtnClick",{name:"oneness",value:0,step:"one"})}),2500)))},prevConfirmDiscount:function(){this.$store.commit("popups/close",{name:this.popups.correctText.name}),this.$store.commit("popups/close",{name:this.popups.correctTextNoDiscount.name}),this.$store.dispatch("popups/open",{name:this.popups.confirmDiscount.name})},hideConfirmDiscount:function(){this.$store.commit("popups/close",{name:this.popups.correctText.name}),this.$store.commit("popups/close",{name:this.popups.correctTextNoDiscount.name})},nextStep:function(){var t=this;if("finish"!==this.currentStep)this.$store.dispatch("partnerActions/nextStep");else{this.buttons.save.state="load";var e,n=Object.getOwnPropertyNames(this.statuses);e="new"===this.$route.params.id?this.tmpId:this.$route.params.id,this.$store.dispatch("partnerActions/saveAction",{id:this.$route.params.id,isModerator:this.isModerator}).then((function(){t.buttons.save.state="ok",setTimeout((function(){var o=n[0];t.isModerator?t.$router.push("/moderator/coupons/"+o+"/id"+e):t.$router.push("/partner/coupons/"+o+"/id"+e),t.buttons.save.state="normal"}),300)}),(function(){t.buttons.save.state="normal"}))}},originDiscountChange:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"originDiscount",value:t,step:"one"})},openConstructActionCallUs:function(){this.$store.dispatch("popups/open",{name:this.popups.constructActionCallUs.name})},openConstructActionComeUs:function(){this.$store.dispatch("popups/open",{name:this.popups.constructActionComeUs.name})},openConstructActionGoLink:function(){this.$store.dispatch("popups/open",{name:this.popups.constructActionGoLink.name})},delCity:function(t){this.$store.commit("partnerActions/delCity",{city:t}),"all"===t&&this.$store.commit("partnerActions/setFormCreateField",{name:"cities",value:[this.cityPartner],step:"five"}),this.changeCitySelect()},openConstructActionAllCity:function(){this.$store.dispatch("popups/open",{name:this.popups.constructActionAllCity.name})},openConstructActionCity:function(){this.$store.dispatch("popups/open",{name:this.popups.constructActionCity.name})},getCityByXmlId:function(t){return this.$store.getters["cities/getByXmlId"](t)},cityChange:function(t){var e=[];for(var n in t.regions)for(var o in t.regions[n].cities)t.regions[n].cities[o].isChecked&&e.push(ut({},t.regions[n].cities[o]));this.removeError("cities","five"),this.$store.commit("partnerActions/setFormCreateField",{name:"cities",value:e,step:"five"})},changeCitySelect:function(t){var e=this;this.cities.size>0&&function(){var t={},n=Object(r["a"])(e.cities),o=function(o){if(n[o].regionCode&&!t.hasOwnProperty(n[o].regionCode)){var i=0;"Московская область"===n[o].region&&(i=2),"Ленинградская область"===n[o].region&&(i=1),t[n[o].regionCode]={name:n[o].region,id:n[o].regionCode,isOpen:!1,isChecked:0,cities:[],isMain:i,isDelimiter:"Ленинградская область"===n[o].region}}if(n[o].regionCode){var r=e.stepsCreateAction.five.fields.cities.value.find((function(t){return t.xmlId===n[o].xmlId}));t[n[o].regionCode].cities.push({isChecked:void 0!==r,xmlId:n[o].xmlId,name:n[o].name,isCapital:n[o].isCapital}),void 0!==r&&0}};for(var i in n)o(i);for(var s in t){var a=[];for(var l in t[s].cities)a.push(t[s].cities[l]);a.sort((function(t,e){return t.name>e.name?1:t.name<e.name?-1:t.name==e.name?0:void 0})),a.sort((function(t,e){return t.isCapital<e.isCapital?1:t.isCapital>e.isCapital?-1:t.isCapital==e.isCapital?0:void 0})),t[s].cities=a}var c=[];for(var u in t)c.push(t[u]);c.sort((function(t,e){return t.name>e.name?1:t.name<e.name?-1:t.name==e.name?0:void 0})),c.sort((function(t,e){return t.isMain<e.isMain?1:t.isMain>e.isMain?-1:t.isMain==e.isMain?0:void 0})),e.citySelectOptions=c}()},checkStep:function(t){t!==this.currentStep&&"one"!==this.currentStep&&this.$store.dispatch("partnerActions/checkStep",{step:t})},pageUp:function(){"new"!==this.$route.params.id&&window.scroll(0,0)},openVideoAdd:function(){this.$store.dispatch("popups/open",{name:this.popups.constructVideoAdd.name})},number_format:function(t){return Object(m["b"])(t,0,""," ")},closePartnerModerateErrorPercent:function(){this.$store.commit("popups/close",{name:this.popups.partnerModerateErrorPercent.name}),this.setFocus("projectDiscount")},closePartnerModerateErrorSum:function(){this.$store.commit("popups/close",{name:this.popups.partnerModerateErrorSum.name})},closePartnerModerateErrorProfit:function(){this.$store.commit("popups/close",{name:this.popups.cooperationCancelSmallPriceOne.name})},setFocus:function(t){if(this.$refs[t]){var e=this.$refs[t].$el.getElementsByClassName("inp-s")[0];e&&(e.focus(),setTimeout((function(){e.select()}),20))}},confirmDiscountChange:function(t){this.$store.commit("partnerActions/setFormCreateField",{name:"discountUser",value:t,step:"one"})}}},ft=pt,dt=(n("91cc"),Object(_["a"])(ft,o,i,!1,null,null,null));e["a"]=dt.exports},bc73:function(t,e,n){},be16:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"popup__content"},[n("div",{staticClass:"h1 mb8",staticStyle:{"font-size":"31px"}},[t._v("Подтвердите эксклюзивность скидки "+t._s(t.stepsCreateAction.one.fields.discount.value-3)+"%")]),n("div",{staticClass:"text-bold"},[t._v("Для этого укажите максимальную скидку, которую вы предоставляете обычным покупателям")]),n("div",{staticClass:"row-b mt40"},[n("div",{staticClass:"row-b__col elem-pos-fix",staticStyle:{width:"164px","min-width":"164px"}},[n("input-styled",{attrs:{name:"discount",mask:t.masks.percent,"is-error":t.discountErrorTwo||t.discountErrorOne,placeholder:"Обычная скидка","placeholder-input":"%",fieldAutocomplete:"nope"},on:{focus:function(e){t.discountErrorTwo=!1,t.discountErrorOne=!1}},model:{value:t.discount,callback:function(e){t.discount=e},expression:"discount"}})],1),n("div",{staticClass:"row-b__col elem-pos-fit"},[t.discountErrorOne||t.discountErrorTwo?t._e():n("div",{staticClass:"construct-form__note"},[t._v("Если вы не предоставляете обычным покупателям никаких скидок,"),n("br"),t._v(" оставьте это поле пустым и нажмите «Продолжить»")]),t.discountErrorOne?n("div",{staticClass:"construct-form__note text-color-red"},[t._v("Указанная скидка больше той, что вы готовы"),n("br"),t._v(" предоставить нашему проекту. Так не пойдёт!")]):t._e(),t.discountErrorTwo?n("div",{staticClass:"construct-form__note text-color-red"},[t._v("Указанная скидка почти такая же, что вы готовы"),n("br"),t._v(" предоставить нашему проекту. Так не пойдёт!")]):t._e()])]),n("div",{staticClass:"row-b mt32"},[n("div",{staticClass:"row-b__col elem-pos-fix mr24"},[n("button",{staticClass:"btn",on:{click:t.next}},[t._v("Продолжить")])]),n("div",{staticClass:"row-b__col elem-pos-fit"})])])])},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),s=(n("7f7f"),n("2f62")),a=n("b10c");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={name:"ConfirmDiscount",components:{InputStyled:a["a"]},props:{},data:function(){return{discount:"",discountErrorOne:!1,discountErrorTwo:!1}},created:function(){},methods:{next:function(){var t=this;this.discountErrorOne=!1,this.discountErrorTwo=!1,+this.discount>this.stepsCreateAction.one.fields.discount.value-3?setTimeout((function(){t.discountErrorOne=!0}),150):this.stepsCreateAction.one.fields.discount.value-this.discount<6?setTimeout((function(){t.discountErrorTwo=!0}),150):(this.$emit("change",this.discount),0===+this.discount?(this.$store.commit("popups/close",{name:this.popups.confirmDiscount.name}),this.$store.dispatch("popups/open",{name:this.popups.correctTextNoDiscount.name}),this.$store.commit("partnerActions/setFormCreateField",{name:"onenessDiscount",value:"Обычным покупателям мы не даём никаких скидок, а для покупателей<br> с купоном готовы предоставить <strong>#DISCOUNT#%</strong>.<br>Такую скидку невозможно получить, минуя ZemSkidki.ru",step:"one"})):(this.$store.commit("popups/close",{name:this.popups.confirmDiscount.name}),this.$store.dispatch("popups/open",{name:this.popups.correctText.name}),this.$store.commit("partnerActions/setFormCreateField",{name:"onenessDiscount",value:"Обычным покупателям мы даём скидку не более <strong>"+this.discount+"%</strong>, а для покупателей<br> с купоном готовы предоставить <strong>#DISCOUNT#%</strong>.<br>Такую скидку невозможно получить, минуя ZemSkidki.ru",step:"one"})))}},computed:c({},Object(s["b"])({popups:function(t){return t.popups.items},items:function(t){return t.partnerActions.templates.modals.origin},masks:function(t){return t.masks.items},stepsCreateAction:function(t){return t.partnerActions.stepsCreateAction}})),beforeDestroy:function(){this.$store.commit("popups/close",{name:this.popups.confirmDiscount.name})}},p=u,f=n("2877"),d=Object(f["a"])(p,o,i,!1,null,null,null);e["a"]=d.exports},c11c:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"popup__content"},[n("div",{staticClass:"h1"},[t._v("Вы уверены, что хотите сделать вашу акцию доступной для всей России?")]),t._m(0),t._m(1),n("div",{staticClass:"row-b mt32"},[n("div",{staticClass:"row-b__col elem-pos-fix mr24"},[n("button",{staticClass:"btn mr32",on:{click:t.save}},[t._v("Я понимаю, что делаю!")]),n("button",{staticClass:"btn btn--grey",on:{click:t.close}},[t._v("Отмена")])]),n("div",{staticClass:"row-b__col elem-pos-fit"})])])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt16"},[t._v("\n            Это значит, что принять в ней участие смогут покупатели из любого города и вам придется"),n("br"),t._v(" обеспечивать указанные условия по всей стране.\n        ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt16"},[t._v("\n            Такие акции могут создавать только крупные компании с развитой логистической службой"),n("br"),t._v(" или интернент-магазины с доставкой по всей стране.\n        ")])}],r=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),s=(n("7f7f"),n("2f62"));function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c={name:"ConstructActionAllCity",components:{},props:{},data:function(){return{}},created:function(){},methods:{save:function(){this.$store.commit("partnerActions/setFormCreateField",{name:"cities",value:[this.$store.getters["cities/getByXmlId"]("all")],step:"five"}),this.$store.commit("popups/close",{name:this.popups.constructActionAllCity.name}),this.$store.commit("popups/close",{name:this.popups.constructActionCity.name})},close:function(){this.$store.commit("popups/close",{name:this.popups.constructActionAllCity.name})}},computed:l({},Object(s["b"])({popups:function(t){return t.popups.items}})),beforeDestroy:function(){this.$store.commit("popups/close",{name:this.popups.constructActionAllCity.name})}},u=c,p=n("2877"),f=Object(p["a"])(u,o,i,!1,null,null,null);e["a"]=f.exports},c167:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"main-title"},[n("div",{staticClass:"main-title__wrap main-title--nowrap"},[n("div",{staticClass:"h1"},[t._v(t._s(t.title))])]),n("div",{staticClass:"main-title__right"},[-1===t.user.permission.indexOf(6)?n("span",{staticClass:"text-color-grey"},[n("span",{staticClass:"i i-lock3 i--dark-trans mr4"}),t._v("У вас нет доступа к созданию и редактированию акций")]):t._e()])]),n("section",{staticClass:"container"},[n("div",{staticClass:"full"},[n("div",{staticClass:"coupon-list mt0"},t._l(t.actions,(function(e){return e.id?n("div",{key:e.id,staticClass:"coupon-stat"},[n("div",{staticClass:"coupon-stat__wrap"},[n("div",{staticClass:"coupon"},[n("tooltip",{attrs:{direction:"left-center-direction","add-class-wrap":"coupon__bookmark-wrap","add-style":{width:"248px",top:"67px",right:"126px"}}},[n("div",{staticClass:"coupon__bookmark",attrs:{slot:"tooltipBtn"},slot:"tooltipBtn"},[n("div",{staticClass:"wrap"},[n("span",{staticClass:"d"},[t._v("−"+t._s(e.discountFrom)+"%")]),n("span",{staticClass:"p"},[t._v("\n                                                ≈"+t._s(e.realSavingsFormat)+"\n                                                "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])])])]),n("div",{staticStyle:{"font-size":"16px"},attrs:{slot:"tooltipContent"},slot:"tooltipContent"},[t._v("\n                                        При обращении к этому"),n("br"),t._v("\n                                        поставщику средний чек"),n("br"),t._v("\n                                        составляет "),n("strong",[t._v(t._s(e.averageCheckFormat)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])]),t._v(","),n("br"),t._v("\n                                        а экономия – около\n                                        "),n("strong",[t._v(t._s(e.realSavingsFormat)+"\n                                        "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])])])]),e.isEmptyDetail?n("router-link",{staticClass:"coupon__link",attrs:{to:"/partner/coupon-edit/id"+e.id}}):n("router-link",{staticClass:"coupon__link",attrs:{to:"/partner/coupons/"+t.currentStatus+"/id"+e.id}}),n("div",{staticClass:"coupon__wrap"},[e.image?n("div",{staticClass:"coupon__img",style:{backgroundImage:"url(//api.zemskidki.ru/"+e.image+")"}}):n("div",{staticClass:"coupon__img --empty"},[t._m(0,!0)]),n("div",{staticClass:"coupon__content"},[n("div",{staticClass:"coupon__stat"},[n("span",{staticClass:"elem --views"},[n("span",{staticClass:"i i-eye"}),n("span",{staticClass:"t"},[t._v(t._s(e.showCounterFormat))])]),e.statistics?n("span",{staticClass:"elem --buy"},[n("span",{staticClass:"i i-cart"}),n("span",{staticClass:"t"},[t._v(t._s(e.statistics.sold))])]):t._e()]),n("div",{staticClass:"coupon__name",domProps:{innerHTML:t._s(e.name)}}),n("div",{staticClass:"coupon__company",domProps:{innerHTML:t._s(t.partner.name)}}),n("div",{staticClass:"w"},[n("div",{staticClass:"coupon__economy"},[n("div",{staticClass:"t"},[t._v("\n                                                    Экономия\n\n                                                    "),n("tooltip",{attrs:{direction:"bottom-right-direction","add-class-wrap":"dib mt-2","add-style":{width:"376px"}}},[n("span",{staticClass:"i i-question3 icon-btn",attrs:{slot:"tooltipBtn"},slot:"tooltipBtn"}),n("div",{attrs:{slot:"tooltipContent"},slot:"tooltipContent"},[n("p",[n("strong",[t._v("Как рассчитывается экономия? Очень просто:")])]),n("ul",{staticClass:"ul-disc-small"},[n("li",[t._v("Средний чек у данного поставщика составляет "+t._s(e.averageCheckFormat)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])]),n("li",[t._v("Предоставляемая скидка составляет "+t._s(e.discountFrom)+"%")]),n("li",[t._v(t._s(e.discountFrom)+"% от "+t._s(e.averageCheckFormat)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))]),t._v(" – это примерно "+t._s(e.realSavingsFormat)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])])]),n("p",[t._v("То есть, при обращении к данному поставщику экономия обычно составляет ≈"+t._s(e.realSavingsFormat)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])])])])],1),e.realSavingsFormat?n("div",{staticClass:"p"},[t._v("\n                                                    ≈"+t._s(e.realSavingsFormat)+"\n                                                    "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])]):n("div",{staticClass:"p"},[t._v("\n                                                    ?\n                                                ")])]),e.averageCheckFormat?n("div",{staticClass:"coupon__info"},[t._v("\n                                                Средний чек\n                                                "+t._s(e.averageCheckFormat)+"\n                                                "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))]),t._v(",\n\n                                                скидка\n                                                "),e.instrumentAction?n("span",{staticClass:"n --text"},[t._v("Бесплатная "),n("br"),t._v(" доставка")]):n("span",{staticClass:"n"},[t._v(t._s(e.discountFrom)+"%")])]):n("div",{staticClass:"coupon__info"},[t._v("\n                                                Средний чек\n                                                ?,\n                                                скидка\n                                                "),n("span",{staticClass:"n"},[t._v("?")])])])])])],1)]),n("div",{staticClass:"coupon-stat__control"},[+e.status===t.statuses.develop&&-1!==t.user.permission.indexOf(6)?n("div",{staticClass:"link"},[n("submit-link-icon",{staticClass:"link__icon",attrs:{icon:"send",type:e.buttons.moderate.state},nativeOn:{click:function(n){return t.setModerate(e)}}},[n("span",{staticClass:"t"},[t._v("Опубликовать")])])],1):t._e(),+e.status===t.statuses.active&&"NEW"==e.lk_status_publicate&&-1!==t.user.permission.indexOf(6)?n("div",{staticClass:"link"},[n("a",{staticClass:"link__icon",attrs:{href:"javascript:void(0);"},on:{click:function(n){return t.openPartnerCouponsCancel(e)}}},[t._m(1,!0),n("span",{staticClass:"t"},[t._v("Отменить публикацию")])])]):t._e(),+e.status===t.statuses.active&&"NEW"!=e.lk_status_publicate&&-1!==t.user.permission.indexOf(6)?n("div",{staticClass:"link"},[n("a",{staticClass:"link__icon",attrs:{href:"javascript:void(0);"},on:{click:function(n){return t.openPartnerCouponsStop(e)}}},[t._m(2,!0),n("span",{staticClass:"t"},[t._v("Приостановить")])])]):t._e(),+e.status===t.statuses.archive&&-1!==t.user.permission.indexOf(6)?n("div",{staticClass:"link"},[n("submit-link-icon",{staticClass:"link__icon",attrs:{icon:"send",type:e.buttons.active.state},nativeOn:{click:function(n){return t.activeAction(e)}}},[n("span",{staticClass:"t"},[t._v("Опубликовать повторно")])])],1):t._e(),+e.status!==t.statuses.develop&&+e.status!==t.statuses.active&&+e.status!==t.statuses.archive||-1===t.user.permission.indexOf(6)?t._e():n("div",{staticClass:"link"},[n("router-link",{staticClass:"link__icon",attrs:{to:"/partner/coupon-edit/id"+e.id}},[n("span",{staticClass:"w"},[n("span",{staticClass:"i i-pencil"})]),n("span",{staticClass:"t"},[t._v("Редактировать")])])],1),-1!==t.user.permission.indexOf(6)?n("div",{staticClass:"link"},[n("submit-link-icon",{staticClass:"link__icon",attrs:{icon:"copy",type:e.buttons.copy.state},nativeOn:{click:function(n){return t.copyAction(e)}}},[n("span",{staticClass:"t"},[t._v("Создать копию")])])],1):t._e(),+e.status===t.statuses.active||+e.status===t.statuses.archive?n("div",{staticClass:"link"},[n("a",{staticClass:"link__icon",attrs:{href:"javascript:void(0);"},on:{click:function(n){return t.openPartnerCouponsStat(e)}}},[t._m(3,!0),n("span",{staticClass:"t"},[t._v("Показать статистику")])])]):t._e(),+e.status!==t.statuses.develop&&+e.status!==t.statuses.archive||-1===t.user.permission.indexOf(6)?t._e():n("div",{staticClass:"link"},[n("a",{staticClass:"link__icon",attrs:{href:"javascript:void(0);"},on:{click:function(n){return t.openPartnerCouponsRemove(e)}}},[t._m(4,!0),n("span",{staticClass:"t"},[t._v("Удалить")])])]),+e.status===t.statuses.ban&&-1!==t.user.permission.indexOf(6)?n("div",{staticClass:"text"},[n("div",{staticClass:"text__icon"},[t._m(5,!0),n("span",{staticClass:"t"},[n("span",{staticClass:"t__title text-size-m text-color-orange"},[t._v("Заблокирована модератором")]),n("span",{staticClass:"mt8 t__note"},[t._v("Дата блокировки: "+t._s(e.statusDate)+" "),n("br"),t._v(" Подробности на "+t._s(e.providerEmail))])])])]):t._e(),+e.status===t.statuses.active?n("div",{staticClass:"text"},["NEW"==e.lk_status_publicate?n("div",{staticClass:"text__icon"},[t._m(6,!0),t._m(7,!0)]):t._e(),"CHECK"==e.lk_status_publicate?n("div",{staticClass:"text__icon"},[t._m(8,!0),n("span",{staticClass:"t"},[n("span",{staticClass:"t__title text-size-m text-color-yellow"},[t._v("На проверке")]),n("span",{staticClass:"mt8 t__note"},[t._v("Текущая редакция находится на проверке."),n("br"),t._v(" Покупатели пока видят старую версию, опубликованную "+t._s(e.publicate_date))])])]):t._e(),"REJECTED"==e.lk_status_publicate?n("div",{staticClass:"text__icon"},[t._m(9,!0),n("span",{staticClass:"t"},[n("span",{staticClass:"t__title text-size-m text-color-orange"},[t._v("Редакция отклонена")]),n("span",{staticClass:"mt8 t__note"},[t._v("Текущая редакция отклонена модератором,"),n("br"),t._v(" подробности на "+t._s(t.partner.email)+". На данный момент покупатели видят старую версию от "+t._s(e.publicate_date))])])]):t._e()]):t._e()])]):t._e()})),0),t.isLoad||0!==t.actions.length?t._e():n("div",{staticClass:"wrapper-content"},[t._m(10)]),t.isLoad?n("div",{staticClass:"coupon-stat"},[n("div",{staticClass:"coupon-stat__wrap"},[n("catalog-ghost")],1),n("div",{staticClass:"coupon-stat__control"})]):t._e()])]),n("action-modals",{attrs:{action:t.currentAction}})],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"coupon__img__empty"},[n("span",{staticClass:"icon"},[n("span",{staticClass:"i i-photo"})]),n("span",{staticClass:"t"},[t._v("нет фото")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"w"},[n("span",{staticClass:"i i-close2"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"w"},[n("span",{staticClass:"i i-pause3"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"w"},[n("span",{staticClass:"i i-stat"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"w"},[n("span",{staticClass:"i i-trash"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon"},[n("span",{staticClass:"i i-warning i--orange"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon"},[n("span",{staticClass:"i i-gear i--yellow"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"t"},[n("span",{staticClass:"t__title text-size-m text-color-yellow"},[t._v("На проверке")]),n("span",{staticClass:"mt8 t__note"},[t._v("Акция находится на срочной проверке и будет опубликована в ближайшее время")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon"},[n("span",{staticClass:"i i-gear i--yellow"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon"},[n("span",{staticClass:"i i-close2 i--orange"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sect-blank"},[n("div",{staticClass:"wrap text-center"},[n("div",{staticClass:"text-size-l text-bolder text-color-grey mt16"},[t._v("Здесь пока ничего нет...")])]),n("div",{staticClass:"mini-zems"})])}],r=(n("8e6e"),n("ac6a"),n("456d"),n("75fc")),s=(n("7514"),n("7f7f"),n("bd86")),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"coupon"},[n("router-link",{staticClass:"coupon__link",attrs:{to:{name:"catalogDetail",params:{id:t.item.id}}},nativeOn:{click:function(e){return t.activeItem(t.item.id)}}}),n("div",{staticClass:"coupon__wrap"},[n("div",{staticClass:"coupon__img",style:{backgroundImage:"url(//api.zemskidki.ru/"+t.item.image+")"}}),n("div",{staticClass:"coupon__content"},[n("div",{staticClass:"coupon__favorite"},[n("span",{ref:"favoriteBtn",staticClass:"check-favorites",class:{active:t.item.favorite},on:{click:function(e){return t.setFavorite(t.item)}}})]),n("div",{staticClass:"top"},[n("div",{staticClass:"coupon__company"},[t._v(t._s(t.provider.name))])]),n("div",{staticClass:"coupon__name"},[t._v("\n                "+t._s(t.item.name)+"\n            ")]),n("div",{staticClass:"w"},[n("div",{staticClass:"coupon__economy"},[n("div",{staticClass:"t"},[t._v("\n                        Экономия\n                        "),n("tooltip",{attrs:{direction:"bottom-right-direction","add-class-wrap":"dib mt-2","add-style":{width:"376px"}}},[n("span",{staticClass:"i i-question3 icon-btn",attrs:{slot:"tooltipBtn"},slot:"tooltipBtn"}),n("div",{attrs:{slot:"tooltipContent"},slot:"tooltipContent"},[n("p",[n("strong",[t._v("Как рассчитывается экономия? Очень просто:")])]),n("ul",{staticClass:"ul-disc-small"},[n("li",[t._v("Средний чек у данного поставщика составляет "+t._s(t.item.averageCheckFormat)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])]),n("li",[t._v("Предоставляемая скидка составляет "+t._s(t.item.discountFrom)+"%")]),n("li",[t._v(t._s(t.item.discountFrom)+"% от "+t._s(t.item.averageCheckFormat)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))]),t._v(" – это примерно "+t._s(t.item.realSavingsFormat)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])])]),n("p",[t._v("То есть, при обращении к данному поставщику экономия обычно составляет ≈"+t._s(t.item.realSavingsFormat)+" "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])])])])],1),n("div",{staticClass:"p"},[t._v("\n                        ≈"+t._s(t.item.realSavingsFormat)+"\n                        "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))])])]),n("div",{staticClass:"coupon__info"},[t._v("\n                    Средний чек\n                    "+t._s(t.item.averageCheckFormat)+"\n                    "),n("span",{staticClass:"rouble"},[t._v(t._s(t.$store.getters["options/setRouble"]))]),t._v(",\n                    \n                    скидка\n                    "),t.item.instrumentAction?n("span",{staticClass:"n --text"},[t._v("Бесплатная "),n("br"),t._v(" доставка")]):n("span",{staticClass:"n"},[t._v(t._s(t.item.discountFrom)+"%")])])]),n("div",{staticClass:"coupon__stat"},[n("span",{staticClass:"elem --views"},[n("span",{staticClass:"i i-eye"}),n("span",{staticClass:"t"},[t._v(t._s(t.item.showCounterFormat))])]),t.item.statistics&&t.item.statistics.sold?n("span",{staticClass:"elem --buy"},[n("span",{staticClass:"i i-cart"}),n("span",{staticClass:"t"},[t._v(t._s(t.item.statistics.sold))])]):t._e()])])])],1)},l=[],c=n("f2c8"),u=n("1f24"),p={name:"CatalogListItem",components:{Tooltip:u["a"]},props:{item:{default:function(){return{}}},provider:{default:function(){return{}}}},methods:{activeItem:function(t){t&&this.$store.dispatch("actions/goCoupon",{id:t})},setFavorite:function(t){this.$store.dispatch("actions/setFavorite",t),Object(c["a"])(this.$refs.coupon)}}},f=p,d=n("2877"),h=Object(d["a"])(f,a,l,!1,null,null,null),v=h.exports,m=n("516f"),b=n("2f62"),y=n("61d2"),g=n("c3a8"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.tag,{tag:"component",attrs:{href:"javascript:void(0);",disabled:t.disabled}},[n("span",{staticClass:"w"},[n("span",{class:t.style})]),t._t("default")],2)},C=[],w={props:{type:{type:String,default:function(){return"normal"}},icon:{type:String,default:function(){return"normal"}},tag:{type:String,default:function(){return"a"}}},computed:{disabled:function(){return"normal"!=this.type},style:function(){return"normal"==this.type?"i i-"+this.icon:"load"==this.type?"i --preloader i-"+this.icon:"ok"==this.type?"i --preloader --ok i-"+this.icon:void 0}},methods:{send:function(){}}},k=w,O=Object(d["a"])(k,_,C,!1,null,null,null),x=O.exports,A=n("555f"),E=n("e365");function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var S={metaInfo:function(){return{title:this.title,titleTemplate:this.$store.state.options.titleTemplate}},name:"Actions",components:{ListItem:v,Tooltip:u["a"],Popup:m["a"],ActionModals:g["a"],PartnerCouponsStat:y["a"],SubmitLinkIcon:x,Loader:A["a"],CatalogGhost:E["a"]},created:function(){this.$store.commit("partnerActions/setItems",{items:[]}),this.$store.dispatch("partnerActions/getItems",{status:this.currentStatus})},mounted:function(){},data:function(){return{currentAction:!1,buttons:{}}},watch:{$route:"fetchData",isLoad:function(t,e){if(0==t){var n=this;setTimeout((function(){n.checkOffset()}),100)}}},computed:j({absolute:{get:function(){return this.$store.getters["partnerActions/getTechsupportAbsolute"]},set:function(t){this.$store.commit("partnerActions/setTechsupportAbsolute",t)}}},Object(b["b"])({actions:function(t){return t.partnerActions.items},defaultStatus:function(t){return t.partnerActions.defaultStatusCode},statuses:function(t){return t.partnerActions.statuses},isLoad:function(t){return t.partnerActions.isLoad},user:function(t){return t.users.user},partner:function(t){return t.partner.current},popups:function(t){return t.popups.items},cities:function(t){return t.cities.items}}),{currentStatus:function(){return this.$route.params.status?this.$route.params.status:this.defaultStatus},title:function(){var t="";switch(this.statuses[this.$route.params.status]){case this.statuses.develop:t="Акции в разработке";break;case this.statuses.active:t="Опубликованные акции";break;case this.statuses.archive:t="Приостановленные акции";break;case this.statuses.deleted:t="Удалённые акции";break;case this.statuses.ban:t="Заблокированные акции";break;default:t="Акции в разработке";break}return t}}),methods:{getRectTop:function(t){var e=t.getBoundingClientRect();return e.top},checkOffset:function(){var t=document.querySelector("#techsupport"),e=document.querySelector(".footer");this.getRectTop(t)+document.body.scrollTop+t.offsetHeight>=this.getRectTop(e)+document.body.scrollTop-24&&(this.absolute=!0),document.body.scrollTop+window.innerHeight<this.getRectTop(e)+document.body.scrollTop&&(this.absolute=!1)},fetchData:function(){this.$store.dispatch("partnerActions/getItems",{status:this.currentStatus})},setModerate:function(t){if(this.currentAction=t,t.isValid)this.$store.dispatch("popups/open",{name:this.popups.partnerModerateConfirm.name});else switch(this.currentAction=t,t.validError){case"field":this.$store.dispatch("popups/open",{name:this.popups.partnerModerateErrorField.name});break;case"percent":this.$store.dispatch("popups/open",{name:this.popups.partnerModerateErrorPercent.name});break;case"sum":this.$store.dispatch("popups/open",{name:this.popups.partnerModerateErrorSum.name});break;case"provider":this.$store.dispatch("popups/open",{name:this.popups.partnerModerateErrorProvider.name});break}},getCityName:function(t){var e="";return this.cities[t]&&(e=this.cities[t].name),e},getCitiesName:function(t){var e=this,n="";if(0===t.length)return"Не выбрано";var o=1,i=function(i){var s=Object(r["a"])(e.cities).find((function(e){return e.xmlId===t[i]}));if(void 0!==s){if(o>3)return"break";o<3&&o<t.length?(n+=s.name+", ",o++):(3===o||o===t.length&&t.length<3)&&(n+=s.name,o++)}};for(var s in t){var a=i(s);if("break"===a)break}return t.length>3&&(n+=" + ещё "+(t.length-3)),n},setFavorite:function(t){this.$store.dispatch("actions/setFavorite",t),Object(c["a"])(this.$refs.coupon)},openPartnerCouponsRemove:function(t){this.currentAction=t,this.$store.dispatch("popups/open",{name:this.popups.partnerCouponsRemove.name})},openPartnerCouponsEdit:function(t){this.currentAction=t,this.$store.dispatch("popups/open",{name:this.popups.partnerCouponsEdit.name})},openPartnerCouponsEditStopped:function(t){this.currentAction=t,this.$store.dispatch("popups/open",{name:this.popups.partnerCouponsEditStopped.name})},openPartnerCouponsCancel:function(t){this.currentAction=t,this.$store.dispatch("popups/open",{name:this.popups.partnerCouponsCancel.name})},openPartnerCouponsStop:function(t){this.currentAction=t,this.$store.dispatch("popups/open",{name:this.popups.partnerCouponsStop.name})},openPartnerCouponsStat:function(t){this.currentAction=t,this.$store.dispatch("popups/open",{name:this.popups.partnerCouponsStat.name})},activeAction:function(t){var e=this;this.$store.commit("partnerActions/setButtonState",{id:t.id,button:"active",state:"load"}),this.$store.dispatch("partnerActions/setStatus",{id:t.id,status:this.statuses.active}).then((function(){e.$store.commit("partnerActions/setButtonState",{id:t.id,button:"active",state:"ok"}),setTimeout((function(){e.$store.commit("partnerActions/setButtonState",{id:t.id,button:"active",state:"normal"}),e.$router.push("/partner/coupons/status"+e.statuses.active)}),300)}))},archiveAction:function(t){var e=this;this.$store.commit("partnerActions/setButtonState",{id:t.id,button:"archive",state:"load"}),this.$store.dispatch("partnerActions/setStatus",{id:t.id,status:this.statuses.archive}).then((function(){e.$store.commit("partnerActions/setButtonState",{id:t.id,button:"archive",state:"ok"}),setTimeout((function(){e.$store.commit("partnerActions/setButtonState",{id:t.id,button:"archive",state:"normal"}),e.$router.push("/partner/coupons/status"+e.statuses.archive)}),300)}))},copyAction:function(t){var e=this;this.$store.commit("partnerActions/setButtonState",{id:t.id,button:"copy",state:"load"}),this.$store.dispatch("partnerActions/copyAction",{id:t.id}).then((function(){e.$store.commit("partnerActions/setButtonState",{id:t.id,button:"copy",state:"ok"}),setTimeout((function(){e.$store.commit("partnerActions/setButtonState",{id:t.id,button:"copy",state:"normal"}),e.currentStatus==e.statuses.develop?e.$store.dispatch("partnerActions/getItems",{status:e.currentStatus}):e.$router.push("/partner/coupons/status"+e.statuses.develop)}),300)}))}}},T=S,N=Object(d["a"])(T,o,i,!1,null,null,null);e["default"]=N.exports},c1a8:function(t,e,n){},c3a8:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.action?o("div",[o("popup",{attrs:{show:t.popups.partnerCouponsRemove.show,name:t.popups.partnerCouponsRemove.name}},[o("div",[o("div",{staticClass:"popup__header mb"},[o("div",{staticClass:"title"},[t._v("Удалить акцию?")])]),o("div",{staticClass:"popup__content"},[o("p",[t._v("Акция будет перемещена в «Удалённые» и с ней нельзя будет ничего делать."),o("br"),t._v("\n                    Но при этом вы сможете её скопировать. А затем делать с копией, что хотите...")]),o("div",{staticClass:"row-b mt32"},[o("submit-btn",{staticClass:"btn",attrs:{tag:"button",type:t.buttons.delete.state},nativeOn:{click:function(e){return t.closePartnerCouponsRemove()}}},[t._v("\n                        Продолжить\n                    ")])],1)])])]),o("popup",{attrs:{show:t.popups.partnerModerateErrorField.show,name:t.popups.partnerModerateErrorField.name}},[o("div",[o("div",{staticClass:"popup__header mb"},[o("div",{staticClass:"title error"},[t._v("Ошибка!")])]),o("div",{staticClass:"popup__content"},[o("p",[t._v("У акции не заполнены обязательные поля."),o("br"),t._v("\n                    Перед отправкой на модерацию перейдите в конструктор и заполните их.")]),o("div",{staticClass:"row-b mt32"},[o("button",{staticClass:"btn",on:{click:function(e){return t.closePartnerModerateErrorField()}}},[t._v("Редактировать акцию")])])])])]),o("popup",{attrs:{show:t.popups.partnerModerateErrorPercent.show,name:t.popups.partnerModerateErrorPercent.name}},[o("div",[o("div",{staticClass:"popup__header mb"},[o("div",{staticClass:"title"},[t._v("Указанная скидка слишком мала!")])]),o("div",{staticClass:"popup__content"},[o("p",[t._v("Средний чек по данному виду продукции у вас составляет ХХХ Р."),o("br"),t._v("\n                    Вы готовы дать скидку Х% (Х% покупателю и ещё 3% — доход нашего проекта)"),o("br"),t._v("\n                    В результате экономия покупателя составит всего ХХХ Р"),o("br"),t._v("\n                    и по сравнению с покупкой на сумму ХХХ Р это очень мало.")]),o("div",{staticClass:"row-b mt32"},[o("button",{staticClass:"btn",on:{click:function(e){return t.closePartnerModerateErrorPercent()}}},[t._v("Предложить более солидную скидку")])])])])]),o("popup",{attrs:{show:t.popups.partnerModerateErrorSum.show,name:t.popups.partnerModerateErrorSum.name}},[o("div",[o("div",{staticClass:"popup__header mb"},[o("div",{staticClass:"title"},[t._v("Польза от вашей акции слишком мала!")])]),o("div",{staticClass:"popup__content"},[o("p",[t._v("Средний чек по данному виду продукции у вас составляет ХХХ Р."),o("br"),t._v("\n                    Вы готовы дать скидку Х% (Х% покупателю и ещё 3% — доход нашего проекта)"),o("br"),t._v("\n                    В результате экономия покупателя составит всего ХХХ Р и это очень мало.")]),o("div",{staticClass:"row-b mt32"},[o("button",{staticClass:"btn",on:{click:function(e){return t.closePartnerModerateErrorSum()}}},[t._v("Предложить более солидную скидку")])])])])]),o("popup",{attrs:{show:t.popups.partnerModerateErrorProvider.show,name:t.popups.partnerModerateErrorProvider.name}},[o("div",[o("div",{staticClass:"popup__header mb"},[o("div",{staticClass:"title error"},[t._v("Вы ещё не создали страницу о себе")])]),o("div",{staticClass:"popup__content"},[o("p",[t._v("Вы не заполнили страницу о своей компании, а ведь она прикрепляется к каждой вашей акции!"),o("br"),t._v("\n                    Срочно зайдите в раздел «О поставщике» и заполните там все поля! После этого вы сможете отправить вашу акцию на модерацию...")]),o("div",{staticClass:"row-b mt32"},[o("button",{staticClass:"btn",on:{click:function(e){return t.closePartnerModerateErrorProvider()}}},[t._v("Перейти в раздел «О поставщике»")])])])])]),o("popup",{attrs:{show:t.popups.partnerCouponsEdit.show,name:t.popups.partnerCouponsEdit.name}},[o("div",[o("div",{staticClass:"popup__header mb"},[o("div",{staticClass:"title"},[t._v("Редактировать акцию?")])]),o("div",{staticClass:"popup__content"},[o("p",[t._v("После редактирования акция будет отправлена на повторную модерацию"),o("br"),t._v("\n                    и до её окончания будет скрыта от покупателей.")]),o("div",{staticClass:"row-b mt32"},[o("button",{staticClass:"btn",on:{click:function(e){return t.closePartnerCouponsEdit()}}},[t._v("Продолжить")])])])])]),o("popup",{attrs:{show:t.popups.partnerCouponsEditStopped.show,name:t.popups.partnerCouponsEditStopped.name}},[o("div",[o("div",{staticClass:"popup__header mb"},[o("div",{staticClass:"title"},[t._v("Редактировать акцию?")])]),o("div",{staticClass:"popup__content"},[o("p",[t._v("Сейчас вы можете повторно опубликовать эту акцию без модерации.\n                    После редактирования акция получит статус «В разработке» и \n                    перед публикацией потребуется её повторная модерация.")]),o("div",{staticClass:"row-b mt32"},[o("button",{staticClass:"btn",on:{click:function(e){return t.closePartnerCouponsEditStopped()}}},[t._v("Продолжить")])])])])]),o("popup",{attrs:{"is-btn-close":!1,show:t.popups.partnerCouponsCancel.show,name:t.popups.partnerCouponsCancel.name}},[o("div",{staticClass:"popup__header mb"},[o("div",{staticClass:"title"},[t._v("Отменить публикацию?")])]),o("div",{staticClass:"popup__content"},[o("p",[t._v("Акция будет перемещена в «Разработку» и её никто не увидит, "),o("br"),t._v("пока вы снова не нажмёте «Опубликовать»")]),o("div",{staticClass:"row-b mt32"},[o("submit-btn",{staticClass:"btn",attrs:{tag:"button",type:t.buttons.cancel.state},nativeOn:{click:function(e){return t.closePartnerCouponsCancel()}}},[t._v("\n                    Подтвердить\n                ")]),o("a",{staticClass:"pseudo-link-cancel",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.close(t.popups.partnerCouponsCancel.name)}}},[t._v("Отмена")])],1)])]),o("popup",{attrs:{show:t.popups.partnerCouponsStop.show,name:t.popups.partnerCouponsStop.name}},[o("div",[o("div",{staticClass:"popup__header mb"},[o("div",{staticClass:"title"},[t._v("Приостановить акцию?")])]),o("div",{staticClass:"popup__content"},[o("p",[t._v("Если приостановить действие акции, покупатели не смогут её увидеть и оформить купон.")]),o("p",[t._v("Вы сможете возобновить действие акции в любой момент. Для этого перейдите во вкладку\n                    «Приостановленные» и нажмите «Разместить повторно».")]),o("p",[t._v("Обратите внимание, по этой акции на данный момент оформлен"+t._s(t.declOfNumber(t.action.statistics.valid,["","о","о"]))+" "),o("strong",[t._v(t._s(t.action.statistics.valid)+" "+t._s(t.declOfNumber(t.action.statistics.valid,["купон","купона","купонов"])))]),t._v(" и по ним\n                    нужно будет выполнить все обязательства.")]),o("div",{staticClass:"row-b mt32"},[o("submit-btn",{staticClass:"btn",attrs:{tag:"button",type:t.buttons.stop.state},nativeOn:{click:function(e){return t.closePartnerCouponsStop()}}},[t._v("\n                        Подтвердить\n                    ")])],1)])])]),o("popup",{attrs:{"is-btn-close":!1,show:t.popups.partnerModerateConfirm.show,name:t.popups.partnerModerateConfirm.name}},[o("div",[o("div",{staticClass:"popup__header mb"},[o("div",{staticClass:"title"},[t._v("Подтвердите, пожалуйста!")])]),o("div",{staticClass:"popup__content"},[o("div",{staticClass:"mt16"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmCheckbox,expression:"confirmCheckbox"}],class:{error:t.confirmError&&-1==t.confirmCheckbox.indexOf("1")},attrs:{value:"1",type:"checkbox",id:"confirm_1"},domProps:{checked:Array.isArray(t.confirmCheckbox)?t._i(t.confirmCheckbox,"1")>-1:t.confirmCheckbox},on:{change:function(e){var n=t.confirmCheckbox,o=e.target,i=!!o.checked;if(Array.isArray(n)){var r="1",s=t._i(n,r);o.checked?s<0&&(t.confirmCheckbox=n.concat([r])):s>-1&&(t.confirmCheckbox=n.slice(0,s).concat(n.slice(s+1)))}else t.confirmCheckbox=i}}}),o("label",{attrs:{for:"confirm_1"}},[t._v("Я знаю, что скидку нельзя предоставлять без купона")])]),o("div",{staticClass:"mt16"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmCheckbox,expression:"confirmCheckbox"}],class:{error:t.confirmError&&-1==t.confirmCheckbox.indexOf("2")},attrs:{value:"2",type:"checkbox",id:"confirm_2"},domProps:{checked:Array.isArray(t.confirmCheckbox)?t._i(t.confirmCheckbox,"2")>-1:t.confirmCheckbox},on:{change:function(e){var n=t.confirmCheckbox,o=e.target,i=!!o.checked;if(Array.isArray(n)){var r="2",s=t._i(n,r);o.checked?s<0&&(t.confirmCheckbox=n.concat([r])):s>-1&&(t.confirmCheckbox=n.slice(0,s).concat(n.slice(s+1)))}else t.confirmCheckbox=i}}}),o("label",{attrs:{for:"confirm_2"}},[t._v("Я понимаю, что если у покупателя нет купона, нужно заставить его оформить купон")])]),o("div",{staticClass:"mt16"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmCheckbox,expression:"confirmCheckbox"}],class:{error:t.confirmError&&-1==t.confirmCheckbox.indexOf("3")},attrs:{value:"3",type:"checkbox",id:"confirm_3"},domProps:{checked:Array.isArray(t.confirmCheckbox)?t._i(t.confirmCheckbox,"3")>-1:t.confirmCheckbox},on:{change:function(e){var n=t.confirmCheckbox,o=e.target,i=!!o.checked;if(Array.isArray(n)){var r="3",s=t._i(n,r);o.checked?s<0&&(t.confirmCheckbox=n.concat([r])):s>-1&&(t.confirmCheckbox=n.slice(0,s).concat(n.slice(s+1)))}else t.confirmCheckbox=i}}}),o("label",{attrs:{for:"confirm_3"}},[t._v("Я в курсе, что все предоставленные скидки необходимо отмечать в личном кабинете")])]),o("div",{staticClass:"mt16"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmCheckbox,expression:"confirmCheckbox"}],class:{error:t.confirmError&&-1==t.confirmCheckbox.indexOf("4")},attrs:{value:"4",type:"checkbox",id:"confirm_4"},domProps:{checked:Array.isArray(t.confirmCheckbox)?t._i(t.confirmCheckbox,"4")>-1:t.confirmCheckbox},on:{change:function(e){var n=t.confirmCheckbox,o=e.target,i=!!o.checked;if(Array.isArray(n)){var r="4",s=t._i(n,r);o.checked?s<0&&(t.confirmCheckbox=n.concat([r])):s>-1&&(t.confirmCheckbox=n.slice(0,s).concat(n.slice(s+1)))}else t.confirmCheckbox=i}}}),o("label",{attrs:{for:"confirm_4"}},[t._v("Я помню эти и другие "),o("a",{attrs:{target:"_blank",href:"/partner/rules/"}},[t._v("правила проекта")])])]),o("div",{staticClass:"row-b mt32"},[o("submit-btn",{staticClass:"btn",attrs:{tag:"button",type:t.buttons.moderate.state},nativeOn:{click:function(e){return t.partnerModerateConfirm()}}},[t._v("\n                        Подтвердить\n                    ")])],1)])])]),o("popup",{attrs:{"is-btn-close":!1,show:t.popups.actionToModaretionConfirm.show,name:t.popups.actionToModaretionConfirm.name}},[o("action-to-modaration-confirm",{attrs:{action:t.action}})],1),o("popup",{attrs:{"is-btn-close":!1,show:t.popups.actionToModaretionConfirmRepeat.show,name:t.popups.actionToModaretionConfirmRepeat.name}},[o("div",{staticClass:"popup-info"},[o("div",[o("img",{attrs:{src:n("dfc0"),alt:""}})]),o("div",{staticClass:"text mt32"},[o("div",{staticClass:"text-size-xxl text-color-green text-bolder"},[t._v("Акция поступила на модерацию!")]),o("p",{staticClass:"mt24"},[t._v("\n                    Пока текущая редакция находится на проверке,"),o("br"),t._v("покупатели будут видеть старую версию от "+t._s(t.action.lk_status_publicate_date)+"\n                ")])]),o("div",{staticClass:"mt32"},[o("button",{staticClass:"btn btn--white-green",on:{click:function(e){return t.closeActionToModaretionConfirmRepeat()}}},[t._v("Степенно жду!")])])])]),o("popup",{attrs:{isSetBlank:"true",width:752,show:t.popups.partnerCouponsStat.show,name:t.popups.partnerCouponsStat.name}},[o("partner-coupons-stat",{attrs:{action:t.action}})],1)],1):t._e()},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("7f7f"),n("bd86")),s=n("516f"),a=n("2f62"),l=n("61d2"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popup-info"},[t._m(0),t._m(1),n("div",{staticClass:"mt32"},[n("button",{staticClass:"btn btn--white-green",on:{click:function(e){return t.closeActionToModaretionConfirm()}}},[t._v("Степенно жду!")])])])},u=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("img",{attrs:{src:n("dfc0"),alt:""}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text mt32"},[n("div",{staticClass:"text-size-xxl text-color-green text-bolder"},[t._v("Акция поступила на модерацию!")]),n("p",{staticClass:"mt24"},[t._v("\n            Сейчас она находится на срочной проверке"),n("br"),t._v("и будет опубликована в ближайшее время.\n        ")])])}];function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={name:"couponBuyOk",components:{Popup:s["a"]},methods:{closeActionToModaretionConfirm:function(){this.$store.commit("popups/close",{name:this.popups.actionToModaretionConfirm.name})}},computed:f({},Object(a["b"])({popups:function(t){return t.popups.items},user:function(t){return t.users.user}}))},h=d,v=n("2877"),m=Object(v["a"])(h,c,u,!1,null,"6fe7f24a",null),b=m.exports,y=n("557e"),g=n("69db");function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w={name:"ActionModals",components:{Popup:s["a"],PartnerCouponsStat:l["a"],SubmitBtn:y["a"],ActionToModarationConfirm:b},props:{action:{}},data:function(){return{buttons:{copy:{state:"normal"},stop:{state:"normal"},active:{state:"normal"},archive:{state:"normal"},delete:{state:"normal"},moderate:{state:"normal"},cancel:{state:"normal"}},confirmCheckbox:[],confirmError:!1}},computed:C({},Object(a["b"])({popups:function(t){return t.popups.items},statuses:function(t){return t.partnerActions.statuses}}),{currentStatus:function(){return this.$route.params.status?this.$route.params.status:this.defaultStatus}}),methods:{close:function(t){this.$store.commit("popups/close",{name:t})},closePartnerCouponsEdit:function(){this.$store.commit("popups/close",{name:this.popups.partnerCouponsEdit.name}),this.$router.push("/partner/coupon-edit/id"+this.action.id)},closeActionToModaretionConfirmRepeat:function(){this.$store.commit("popups/close",{name:this.popups.actionToModaretionConfirmRepeat.name})},closePartnerCouponsCancel:function(){var t=this;this.$store.commit("partnerActions/setButtonState",{id:this.action.id,button:"cancel",state:"load"}),this.buttons.cancel.state="load",this.$store.dispatch("partnerActions/setStatus",{id:this.action.id,status:this.statuses.develop}).then((function(){t.$store.commit("partnerActions/setButtonState",{id:t.action.id,button:"cancel",state:"ok"}),t.buttons.cancel.state="ok","actions"!==t.$route.name?setTimeout((function(){t.$store.commit("popups/close",{name:t.popups.partnerCouponsCancel.name}),t.$store.dispatch("partnerActions/initDetailPage",{route:t.$route}),t.buttons.cancel.state="normal"}),300):(t.$router.push("/partner/coupons/status"+t.statuses.develop),setTimeout((function(){t.$store.commit("popups/close",{name:t.popups.partnerCouponsCancel.name}),t.buttons.cancel.state="normal"}),300))}))},closePartnerCouponsStop:function(){var t=this;this.buttons.stop.state="load",this.$store.dispatch("partnerActions/setStatus",{id:this.action.id,status:this.statuses.archive}).then((function(){t.buttons.stop.state="ok","actions"!==t.$route.name?(t.$store.commit("popups/close",{name:t.popups.partnerCouponsStop.name}),t.$store.dispatch("partnerActions/initDetailPage",{route:t.$route}),t.buttons.stop.state="normal"):setTimeout((function(){t.buttons.stop.state="normal",t.$store.commit("partnerActions/setButtonState",{id:t.action.id,button:"archive",state:"normal"}),t.$router.push("/partner/coupons/status"+t.statuses.archive),t.$store.commit("popups/close",{name:t.popups.partnerCouponsStop.name})}),300)}))},closePartnerModerateErrorField:function(){this.$router.push("/partner/coupon-edit/id"+this.action.id),this.$store.commit("popups/close",{name:this.popups.partnerModerateErrorField.name})},closePartnerModerateErrorPercent:function(){this.$router.push("/partner/coupon-edit/id"+this.action.id),this.$store.commit("popups/close",{name:this.popups.partnerModerateErrorPercent.name})},closePartnerModerateErrorSum:function(){this.$router.push("/partner/coupon-edit/id"+this.action.id),this.$store.commit("popups/close",{name:this.popups.partnerModerateErrorSum.name})},closePartnerModerateErrorProvider:function(){this.$store.commit("popups/close",{name:this.popups.partnerModerateErrorProvider.name}),this.$router.push("/partner/about-edit")},closePartnerCouponsEditStopped:function(){this.$store.commit("popups/close",{name:this.popups.partnerCouponsEditStopped.name}),this.$router.push("/partner/coupon-edit/id"+this.action.id)},closePartnerCouponsRemove:function(){var t=this;this.$store.commit("partnerActions/setButtonState",{id:this.action.id,button:"delete",state:"load"}),this.buttons.delete.state="load",this.$store.dispatch("partnerActions/setStatus",{id:this.action.id,status:this.statuses.deleted}).then((function(){t.$store.commit("partnerActions/setButtonState",{id:t.action.id,button:"delete",state:"ok"}),t.buttons.delete.state="ok","actions"!==t.$route.name?(t.$store.dispatch("partnerActions/initDetailPage",{route:t.$route}),t.$store.commit("popups/close",{name:t.popups.partnerCouponsRemove.name})):t.$store.dispatch("partnerActions/getItems",{status:t.currentStatus,noClear:!0}).then((function(){t.$store.commit("partnerActions/setButtonState",{id:t.action.id,button:"delete",state:"normal"}),t.$store.commit("popups/close",{name:t.popups.partnerCouponsRemove.name}),setTimeout((function(){t.buttons.delete.state="normal"}),300)}))}))},partnerModerateConfirm:function(){var t=this;this.confirmError=!1,4==this.confirmCheckbox.length?(this.buttons.moderate.state="load",this.$store.dispatch("partnerActions/setStatus",{id:this.action.id,status:this.statuses.active}).then((function(){t.buttons.moderate.state="ok",setTimeout((function(){t.buttons.moderate.state="normal",t.$store.dispatch("popups/open",{name:t.popups.actionToModaretionConfirm.name}),t.$store.commit("popups/close",{name:t.popups.partnerModerateConfirm.name}),"actions"!==t.$route.name?t.$store.dispatch("partnerActions/initDetailPage",{route:t.$route}):t.$router.push("/partner/coupons/status"+t.statuses.active),t.confirmCheckbox=[]}),300)}))):this.confirmError=!0},declOfNumber:function(t,e){return Object(g["a"])(t,e)}}},k=w,O=Object(v["a"])(k,o,i,!1,null,null,null);e["a"]=O.exports},c831:function(t,e,n){"use strict";var o=n("c1a8"),i=n.n(o);i.a},d225:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return o}))},d880:function(t,e,n){"use strict";var o=n("8cca"),i=n.n(o);i.a},dfc0:function(t,e,n){t.exports=n.p+"img/icon-ok-big.962d15c0.svg"},e365:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"coupon --ghost"},[t.showFlag?n("tooltip",{attrs:{direction:"left-center-direction","add-class-wrap":"coupon__bookmark-wrap","add-style":{width:"248px",top:"67px",right:"126px"}}},[n("div",{staticClass:"coupon__bookmark",attrs:{slot:"tooltipBtn"},slot:"tooltipBtn"},[n("div",{staticClass:"wrap"},[n("span",{staticClass:"d"}),n("span",{staticClass:"p"})])]),n("div",{staticStyle:{"font-size":"16px"},attrs:{slot:"tooltipContent"},slot:"tooltipContent"})]):t._e(),t._m(0)],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"coupon__wrap"},[n("div",{staticClass:"coupon__img"}),n("div",{staticClass:"coupon__content"},[n("div",{staticClass:"coupon__favorite"},[n("span",{staticClass:"check-favorites"})]),n("div",{staticClass:"coupon__stat"},[n("span",{staticClass:"elem --views"},[n("span",{staticClass:"i i-eye"}),n("span",{staticClass:"t"})]),n("span",{staticClass:"elem --buy"},[n("span",{staticClass:"i i-cart"}),n("span",{staticClass:"t"})]),n("span",{staticClass:"elem --comment"},[n("span",{staticClass:"i i-comment"}),n("span",{staticClass:"t"})])]),n("div",{staticClass:"coupon__name"},[t._v(" ")]),n("div",{staticClass:"coupon__company"},[t._v(" ")]),n("div",{staticClass:"w"},[n("div",{staticClass:"coupon__economy"},[n("div",{staticClass:"t"},[t._v("\n                        Экономия\n                    ")]),n("div",{staticClass:"p"})]),n("div",{staticClass:"coupon__info"},[t._v("\n                    Средний чек\n                    "),n("span",{staticClass:"n"},[t._v("%")])])])])])}],r=n("1f24"),s={name:"CatalogGhost",components:{Tooltip:r["a"]},props:{showFlag:{default:!0}}},a=s,l=n("2877"),c=Object(l["a"])(a,o,i,!1,null,"0f284300",null);e["a"]=c.exports},e45b:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"popup__content"},[n("div",{staticClass:"h1 mb8"},[t._v("Откуда берётся скидка "+t._s(t.stepsCreateAction.one.fields.discount.value-3)+"%?")]),n("div",{class:{error:this.error}},[t._v("Выберите один из вариантов. Эта информация будет отображаться на странице вашей акции.")]),t._l(t.items,(function(e,o){return n("div",{staticClass:"mt24"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"radio",name:"origin-discount-radio",id:o},domProps:{value:o,checked:t._q(t.selected,o)},on:{change:[function(e){t.selected=o},function(n){return t.change(e)}]}}),n("label",{attrs:{for:o}},[n("div",{staticClass:"text-size-ml text-bolder"},[t._v(t._s(e.name))]),n("div",{domProps:{innerHTML:t._s(t.generateHtml(e))}})])])})),n("div",{staticClass:"row-b mt32"},[n("div",{staticClass:"row-b__col elem-pos-fix mr24"},[n("button",{staticClass:"btn",on:{click:t.next}},[t._v("Продолжить")])]),t._m(0)])],2)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row-b__col elem-pos-fit"},[n("div",{staticClass:"text-color-grey text-size-s"},[t._v("Если вам не подходит ни один из вариантов,"),n("br"),t._v(" напишите нам на skidki@zems.pro, мы добавим...")])])}],r=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),s=(n("7f7f"),n("2f62")),a=n("4887");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={name:"OriginDiscount",components:{},props:{selectedProp:{default:!1}},data:function(){return{selected:"",html:"",item:"",error:!1}},created:function(){},methods:{generateHtml:function(t){var e=Object(a["a"])(t.text,this.stepsCreateAction.one.fields.discount.value-3);return this.selected||this.selectedProp&&this.selectedProp===t.text&&(this.selected=t.code,this.html=e,this.item=t.text),e},change:function(t){this.html=this.generateHtml(t),this.item=t.text},next:function(){var t=this;0===this.html.length?(this.error=!0,this.error&&(this.error=!1,setTimeout((function(){t.error=!0}),500))):(this.false=!0,this.$emit("change",this.item),this.$store.commit("popups/close",{name:this.popups.originDiscount.name}))}},computed:c({},Object(s["b"])({popups:function(t){return t.popups.items},items:function(t){return t.partnerActions.templates.modals.origin},stepsCreateAction:function(t){return t.partnerActions.stepsCreateAction}})),beforeDestroy:function(){this.$store.commit("popups/close",{name:this.popups.originDiscount.name})}},p=u,f=(n("84c2"),n("2877")),d=Object(f["a"])(p,o,i,!1,null,"bc4cf124",null);e["a"]=d.exports},e5b4:function(t,e,n){t.exports=n.p+"img/marker.10199979.svg"},f559:function(t,e,n){"use strict";var o=n("5ca1"),i=n("9def"),r=n("d2c8"),s="startsWith",a=""[s];o(o.P+o.F*n("5147")(s),"String",{startsWith:function(t){var e=r(this,t,s),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),o=String(t);return a?a.call(e,o,n):e.slice(n,n+o.length)===o}})},fd24:function(t,e,n){var o=n("5ca1");o(o.S,"Object",{setPrototypeOf:n("8b97").set})}}]);
//# sourceMappingURL=actions.d9bfac14.js.map