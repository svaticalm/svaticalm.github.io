(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["moderator-statistic"],{"2c70":function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"content"},[i("div",{staticClass:"main-title"},[t._m(0),i("div",{staticClass:"main-title__right"},[i("a",{staticClass:"link-icon proj-statistic-update",attrs:{href:"javascript:void(0);"},on:{click:t.update}},[i("span",{staticClass:"i i-refresh",class:{start:t.startUpdate}}),i("span",{staticClass:"text"},[t._v("Обновить")])])])]),t.incomes.length>0?i("div",{staticClass:"proj-statistic"},[i("div",{staticClass:"proj-statistic-item income"},[i("div",{staticClass:"ttl flex-row"},[i("div",{staticClass:"text-size-xxl text-bold l"},[t._v("Доход")]),i("div",{staticClass:"text-size-xxl text-bold r"},[t._v(t._s(t.number_format(t.total.profit))+" Р")])]),i("div",{staticClass:"max-income"},[t._v("\n                "+t._s(t.number_format(t.maxProfit))+" Р\n            ")]),t.lastMonth.value?i("div",{staticClass:"last-month-income"},[t._v("\n                "+t._s(t.number_format(t.lastMonth.value.profit))+" Р\n            ")]):t._e(),i("line-chart",{attrs:{"max-profit":1.1*t.maxProfit,months:t.months,incomes:t.incomes}})],1),t.total.orders?i("div",{staticClass:"detail-stats"},[i("div",{staticClass:"col"},[i("div",{staticClass:"proj-statistic-item "},[i("div",{staticClass:"ttl flex-row mb24"},[i("div",{staticClass:"text-size-l text-bold l"},[t._v("Заявки")]),i("div",{staticClass:"text-size-l text-bold r"},[t._v(t._s(t.number_format(t.total.orders.total)))])]),i("div",{staticClass:"flex-row mb16"},[i("div",{staticClass:"text-size-m l"},[t._v("Одобрены")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.orders.percent.verify)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.orders.verify)))])]),i("div",{staticClass:"flex-row mb16"},[i("div",{staticClass:"text-size-m l"},[t._v("Отклонены")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.orders.percent.refuse)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.orders.refuse)))])]),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"text-size-m l"},[t._v("Отложены")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.orders.percent.aside)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.orders.aside)))])]),i("div",{staticClass:"pie"},[i("pie-chart",{attrs:{values:[t.total.orders.mobile,t.total.orders.desktop]}}),i("div",{staticClass:"percents"},[i("div",{staticClass:"mobile"},[i("div",{staticClass:"text-bold text-size-m mb8"},[t._v(" "+t._s(t.total.orders.percent.mobile)+"% ")])]),i("div",{staticClass:"desktop"},[i("div",{staticClass:"text-bold text-size-m"},[t._v(" "+t._s(t.total.orders.percent.desktop)+"% ")])])])],1)]),i("div",{staticClass:"proj-statistic-item"},[i("div",{staticClass:"ttl flex-row mb24"},[i("div",{staticClass:"text-size-l text-bold l"},[t._v("Покупатели")]),i("div",{staticClass:"text-size-l text-bold r"},[t._v(t._s(t.number_format(t.total.users.total)))])]),i("div",{staticClass:"flex-row mb16"},[i("div",{staticClass:"text-size-m l"},[t._v("Заблокированные")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.users.percent.ban)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.users.ban)))])]),i("div",{staticClass:"flex-row mb16"},[i("div",{staticClass:"text-size-m l"},[t._v("Потенциальные")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.users.percent.active)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.users.active)))])]),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"text-size-m l"},[t._v("Реальные")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.users.percent.repay)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.users.repay)))])]),i("div",{staticClass:"sub-row"},[i("span",{staticClass:"icon-arrow-1"}),i("span",{staticClass:"icon-arrow-2"}),i("span",{staticClass:"icon-arrow-3"}),i("div",{staticClass:"item"},[i("div",{staticClass:"text-size-xs text-color-grey"},[t._v("1 купон")]),i("div",{staticClass:"count"},[t._v(t._s(t.number_format(t.total.users.countCoupon1)))]),i("div",{staticClass:"text-size-xs text-color-grey"},[t._v(t._s(t.total.users.percent.countCoupon1)+"%")])]),i("div",{staticClass:"item"},[i("div",{staticClass:"text-size-xs text-color-grey"},[t._v("2 купон")]),i("div",{staticClass:"count"},[t._v(t._s(t.number_format(t.total.users.countCoupon2)))]),i("div",{staticClass:"text-size-xs text-color-grey"},[t._v(t._s(t.total.users.percent.countCoupon2)+"%")])]),i("div",{staticClass:"item"},[i("div",{staticClass:"text-size-xs text-color-grey"},[t._v("3+ купон")]),i("div",{staticClass:"count"},[t._v(t._s(t.number_format(t.total.users.countCoupon3)))]),i("div",{staticClass:"text-size-xs text-color-grey"},[t._v(t._s(t.total.users.percent.countCoupon3)+"%")])])]),i("div",{staticClass:"bells"},[i("tooltip",{attrs:{direction:"right-center-direction","add-class-wrap":"",isBtnClose:!1,"add-style":{width:"249px"}}},[i("span",{attrs:{slot:"tooltipBtn"},slot:"tooltipBtn"},[i("div",{staticClass:"bell-check"},[i("span",{staticClass:"i i-bell-check mr4"}),i("span",{staticClass:"text-size-xs text-color-grey"},[t._v("?")])])]),i("div",{attrs:{slot:"tooltipContent"},slot:"tooltipContent"},[t._v("\n                              Чтобы узнать количество пользователей, включивших уведомления, нужно написать Андрею, так как это легче посмотреть вручную в FireBase, чем кодить, так как у них нет нужного API\n                          ")])])],1)])]),i("div",{staticClass:"col"},[i("div",{staticClass:"proj-statistic-item"},[i("div",{staticClass:"ttl flex-row mb24"},[i("div",{staticClass:"text-size-l text-bold l"},[t._v("Поставщики")]),i("div",{staticClass:"text-size-l text-bold r"},[t._v(t._s(t.number_format(t.total.providers.total)))])]),i("div",{staticClass:"flex-row mb16"},[i("div",{staticClass:"text-size-m l"},[i("div",{staticClass:"icn"},[i("span",[t._v("В процессе")]),i("tooltip",{attrs:{direction:"right-center-direction","add-class-wrap":"",isBtnClose:!1,"add-style":{width:"298px"}}},[i("span",{attrs:{slot:"tooltipBtn"},slot:"tooltipBtn"},[i("span",{staticClass:"i i-info4"})]),i("div",{attrs:{slot:"tooltipContent"},slot:"tooltipContent"},[i("div",{staticClass:"flex-row mb16"},[i("div",{staticClass:"text-size-m l"},[t._v("Новые")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.providers.percent.new)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.providers.new)))])]),i("div",{staticClass:"flex-row mb16"},[i("div",{staticClass:"text-size-m l"},[t._v("На проверке")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.providers.percent.mod)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.providers.mod)))])]),i("div",{staticClass:"flex-row mb16"},[i("div",{staticClass:"text-size-m l"},[t._v("Ждут договор")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.providers.percent.countCoupon3)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.providers.countCoupon1)))])]),i("div",{staticClass:"flex-row "},[i("div",{staticClass:"text-size-m l"},[t._v("Ждём документы")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.providers.percent.wait)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.providers.wait)))])])])])],1)]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.providers.percent.process)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.providers.process)))])]),i("div",{staticClass:"flex-row mb16"},[i("div",{staticClass:"text-size-m l"},[t._v("Отклонены")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.providers.percent.refuse)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.providers.refuse)))])]),i("div",{staticClass:"flex-row mb16"},[i("div",{staticClass:"text-size-m l"},[t._v("Заблокированные")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.providers.percent.ban)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.providers.ban)))])]),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"text-size-m l"},[t._v("Одобрены")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.providers.percent.verify)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.providers.verify)))])]),i("div",{staticClass:"sub-row"},[i("span",{staticClass:"icon-arrow-1"}),i("span",{staticClass:"icon-arrow-3"}),i("div",{staticClass:"item"},[i("div",{staticClass:"text-size-xs text-color-grey"},[t._v("Активные")]),i("div",{staticClass:"count"},[t._v(t._s(t.number_format(t.total.providers.active)))]),i("div",{staticClass:"text-size-xs text-color-grey"},[t._v(t._s(t.total.providers.percent.active)+"%")])]),i("div",{staticClass:"item"},[i("div",{staticClass:"text-size-xs text-color-grey"},[t._v("Пассивные")]),i("div",{staticClass:"count"},[t._v(t._s(t.number_format(t.total.providers.passive)))]),i("div",{staticClass:"text-size-xs text-color-grey"},[t._v(t._s(t.total.providers.percent.passive)+"%")])])]),i("div",{staticClass:"sub-row"},[i("span",{staticClass:"icon-arrow-1"}),i("span",{staticClass:"icon-arrow-2"}),i("span",{staticClass:"icon-arrow-3"}),i("div",{staticClass:"item"},[i("div",{staticClass:"text-size-xs text-color-grey"},[t._v("1 акция")]),i("div",{staticClass:"count"},[t._v(t._s(t.number_format(t.total.providers.actionCount1)))]),i("div",{staticClass:"text-size-xs text-color-grey"},[t._v(t._s(t.total.providers.percent.actionCount1)+"%")])]),i("div",{staticClass:"item"},[i("div",{staticClass:"text-size-xs text-color-grey"},[t._v("2 акции")]),i("div",{staticClass:"count"},[t._v(t._s(t.number_format(t.total.providers.actionCount2)))]),i("div",{staticClass:"text-size-xs text-color-grey"},[t._v(t._s(t.total.providers.percent.actionCount2)+"%")])]),i("div",{staticClass:"item"},[i("div",{staticClass:"text-size-xs text-color-grey"},[t._v("3+ акции")]),i("div",{staticClass:"count"},[t._v(t._s(t.number_format(t.total.providers.actionCount3)))]),i("div",{staticClass:"text-size-xs text-color-grey"},[t._v(t._s(t.total.providers.percent.actionCount3)+"%")])])])])]),i("div",{staticClass:"col"},[i("div",{staticClass:"proj-statistic-item"},[i("div",{staticClass:"ttl flex-row mb24"},[i("div",{staticClass:"text-size-l text-bold l"},[t._v("Акции")]),i("div",{staticClass:"text-size-l text-bold r"},[t._v(t._s(t.number_format(t.total.actions.total)))])]),i("div",{staticClass:"flex-row mb16"},[i("div",{staticClass:"text-size-m l"},[t._v("Всероссийские")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.actions.percent.all)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.actions.all)))])]),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"text-size-m l"},[t._v("Местячковые")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.actions.percent.point)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.actions.point)))])])]),i("div",{staticClass:"proj-statistic-item"},[i("div",{staticClass:"ttl flex-row mb24"},[i("div",{staticClass:"text-size-l text-bold l"},[t._v("Купоны")]),i("div",{staticClass:"text-size-l text-bold r"},[t._v(t._s(t.number_format(t.total.coupons.total)))])]),i("div",{staticClass:"flex-row mb16"},[i("div",{staticClass:"text-size-m l"},[t._v("Новые")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.coupons.percent.new)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.coupons.new)))])]),i("div",{staticClass:"flex-row mb16"},[i("div",{staticClass:"text-size-m l"},[t._v("В работе")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.coupons.percent.work)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.coupons.work)))])]),i("div",{staticClass:"flex-row mb16"},[i("div",{staticClass:"text-size-m l"},[t._v("Отложенные")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.coupons.percent.timeout)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.coupons.timeout)))])]),i("div",{staticClass:"flex-row mb16"},[i("div",{staticClass:"text-size-m l"},[t._v("Аннулированные постав.")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.coupons.percent.annulProvider)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.coupons.annulProvider)))])]),i("div",{staticClass:"flex-row mb16"},[i("div",{staticClass:"text-size-m l"},[t._v("Аннулированные нами")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.coupons.percent.annul)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.coupons.annul)))])]),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"text-size-m l"},[t._v("Погашенные")]),i("div",{staticClass:"text-size-m r"},[t._v(t._s(t.total.coupons.percent.repay)+"%")]),i("div",{staticClass:"text-size-m text-bold r"},[t._v(t._s(t.number_format(t.total.coupons.repay)))])]),i("div",{staticClass:"pie"},[i("pie-chart",{attrs:{values:[t.total.coupons.mobile,t.total.coupons.desktop]}}),i("div",{staticClass:"percents"},[i("div",{staticClass:"mobile"},[i("div",{staticClass:"text-bold text-size-m mb8"},[t._v(" "+t._s(t.total.coupons.percent.mobile)+"% ")])]),i("div",{staticClass:"desktop"},[i("div",{staticClass:"text-bold text-size-m"},[t._v(" "+t._s(t.total.coupons.percent.desktop)+"% ")])])])],1)])])]):t._e()]):t._e()])},e=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"main-title__wrap main-title--nowrap mb32"},[i("div",{staticClass:"h1"},[t._v("Статистика проекта")])])}],o=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),r=i("2f62"),l=i("4bd8"),c=i("1f24"),v=i("748a"),d=i("69db");function n(t,s){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),i.push.apply(i,a)}return i}function m(t){for(var s=1;s<arguments.length;s++){var i=null!=arguments[s]?arguments[s]:{};s%2?n(Object(i),!0).forEach((function(s){Object(o["a"])(t,s,i[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))}))}return t}var _={metaInfo:function(){return{title:"Статистика проекта",titleTemplate:this.$store.state.options.titleTemplate}},name:"ProjectStatistic",components:{LineChart:l["a"],Tooltip:c["a"],PieChart:v["a"]},data:function(){return{interval:!1}},computed:m({},Object(r["b"])({graph:function(t){return t.moderatorStatistic.graph},maxProfit:function(t){return t.moderatorStatistic.maxProfit},months:function(t){return t.moderatorStatistic.months},total:function(t){return t.moderatorStatistic.total},lastMonth:function(t){return t.moderatorStatistic.lastMonth},startUpdate:function(t){return t.moderatorStatistic.startUpdate}}),{incomes:function(){var t=[];for(var s in this.graph){var i=this.graph[s];t.push({value:i.value.profit,tooltip:{formatter:this.getFormatter(i.month,i.value.orders,i.value.providers,i.value.actions,i.value.coupons,i.value.coupons_ext)}})}return t}}),mounted:function(){var t=this;this.$store.dispatch("moderatorStatistic/getItems"),this.$store.dispatch("moderatorStatistic/checkUpdate").then((function(s){s&&(t.$store.commit("moderatorStatistic/setStartUpdate",!0),t.interval=setInterval((function(){t.$store.dispatch("moderatorStatistic/checkUpdate").then((function(s){s||(clearInterval(t.interval),t.$store.dispatch("moderatorStatistic/getItems"))}))}),5e3))}))},methods:{getFormatter:function(t,s,i,a,e,o){return'<div class="tooltip right-center-direction" style="width: 144px;">\n                    <div class="tooltip__content">\n                      <div class="tooltip-ttl">'+t+'</div>\n                      <div class="flex-row text-bold"><div class="l">Доход</div> <div class="r"> {c} Р</div></div>\n                      <div class="flex-row"><div class="l">Заявок</div>      <div class="r">'+s+'</div></div>\n                      <div class="flex-row"><div class="l">Поставщиков</div> <div class="r">'+i+'</div></div>\n                      <div class="flex-row"><div class="l">Акций</div>       <div class="r">'+a+'</div></div>\n                      <div class="flex-row"><div class="l">Оформлено</div>   <div class="r">'+e+'</div></div>\n                      <div class="flex-row"><div class="l">Погашено</div>   <div class="r">'+o+"</div></div>\n                  </div>\n                </div>"},update:function(){var t=this;this.startUpdate||(this.$store.dispatch("moderatorStatistic/postStartUpdate"),this.interval=setInterval((function(){t.$store.dispatch("moderatorStatistic/checkUpdate").then((function(s){s||(clearInterval(t.interval),t.$store.dispatch("moderatorStatistic/getItems"))}))}),5e3))},number_format:function(t){return Object(d["b"])(t,0,""," ")}},watch:{}},x=_,p=(i("d3b1"),i("2877")),C=Object(p["a"])(x,a,e,!1,null,"112d619e",null);s["default"]=C.exports},adbc:function(t,s,i){},d3b1:function(t,s,i){"use strict";var a=i("adbc"),e=i.n(a);e.a}}]);
//# sourceMappingURL=moderator-statistic.b6fec929.js.map