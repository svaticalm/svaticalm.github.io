(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["faq"],{"10c2":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[t._m(0),i("section",{staticClass:"container"},[i("section",{staticClass:"container__left container-scroll"},t._l(t.items,(function(e){return i("div",{key:e.id,staticClass:"faq-item"},[i("div",{staticClass:"h2"},[t._v(t._s(e.name))]),i("p",{domProps:{innerHTML:t._s(e.description)}})])})),0),i("aside-sticky",{attrs:{marginTop:24,marginBottom:24}},[i("aside",{staticClass:"aside aside--right"},[i("div",{staticClass:"aside__sticky",attrs:{id:"aside-sticky"}},[i("div",{staticClass:"faq-add"},[i("svg",{staticClass:"big-icon icon"},[i("use",{attrs:{"xlink:href":s("f0cd")+"#emoji-faq"}})]),i("div",{staticClass:"title"},[t._v("Задать вопрос")]),i("div",{staticClass:"text"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.questText,expression:"questText"}],staticClass:"inp full",class:{error:t.quest_error},style:{height:"264px"},attrs:{placeholder:"Например, «А бесплатные купоны – это вообще законно?!»"},domProps:{value:t.questText},on:{focus:function(e){t.quest_error=!1},input:function(e){e.target.composing||(t.questText=e.target.value)}}})]),i("div",{staticClass:"bottom"},[i("button",{staticClass:"btn size-sm",on:{click:function(e){return t.sendQuest()}}},[t._v("Отправить")])])])])])])],1),i("popup",{attrs:{show:t.popups.newQuest.show,name:t.popups.newQuest.name}},[i("new-quest")],1)],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-title"},[s("div",{staticClass:"main-title__wrap main-title--nowrap"},[s("div",{staticClass:"h1 text-left"},[t._v("Вопросы и ответы")])]),s("div",{staticClass:"main-title__right"})])}],o=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),r=(s("7f7f"),s("516f")),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"popup-info popup-icon-info"},[i("svg",{staticClass:"big-icon"},[i("use",{attrs:{"xlink:href":s("f0cd")+"#emoji-new-quest"}})]),t._m(0),i("div",{staticClass:"mt32"},[i("span",{staticClass:"btn btn--white",on:{click:t.close}},[t._v("Степенно жду!")])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text mt32"},[s("div",{staticClass:"text-size-l text-color text-bold info-title"},[t._v("Ваш вопрос принят!")]),s("p",{staticClass:"info-text"},[t._v("\n            Мы прочитаем его в любом случае и опубликуем,"),s("br"),t._v("если он окажется интересным...\n        ")])])}],l=s("2f62");function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function p(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(Object(s),!0).forEach((function(e){Object(o["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var d={name:"newQuest",methods:{newQuestModalClose:function(){this.$store.commit("popups/close",{name:this.popups.newQuest.name})}},computed:p({},Object(l["b"])({popups:function(t){return t.popups.items}}))},h=d,f=s("2877"),m=Object(f["a"])(h,c,a,!1,null,"567bc785",null),w=m.exports,v=s("1bff");function b(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function g(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?b(Object(s),!0).forEach((function(e){Object(o["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):b(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var y={metaInfo:function(){return{title:"Вопросы и ответы",titleTemplate:this.$store.state.options.titleTemplate}},name:"Faq",components:{Popup:r["a"],NewQuest:w,AsideSticky:v["a"]},data:function(){return{questText:"",quest_error:!1,send_quest_success:!0}},created:function(){this.$store.dispatch("faq/getList")},mounted:function(){ym(39511350,"hit",this.$route.path,{title:"Вопросы и ответы | ZemSkidki.ru"})},methods:{sendQuest:function(){var t=this;t.quest_error=!1,""===t.questText?setTimeout((function(){t.quest_error=!0}),300):(t.quest_error=!1,this.$store.dispatch("faq/sendQuest",{quest:t.questText}).then((function(){t.questText=""})),t.newQuestModalOpen())},newQuestModalOpen:function(){this.send_quest_success=!1,this.$store.dispatch("popups/open",{name:this.popups.newQuest.name})}},computed:g({},Object(l["b"])({popups:function(t){return t.popups.items}}),{items:function(){return this.send_quest_success=!0,this.$store.getters["faq/getList"]()}})},k=y,O=Object(f["a"])(k,i,n,!1,null,null,null);e["default"]=O.exports},"1bff":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"aside-sticky-block"},[t._t("default")],2)])},n=[],o=(s("2f62"),{name:"AsideSticky",components:{},props:{marginTop:{default:function(){return 24}},marginBottom:{default:function(){return 24}}},data:function(){return{aside:null,newBlock:null,fixedMargin:null,z:null}},mounted:function(){var t=this;setTimeout((function(){t.aside=document.querySelector("#aside-sticky"),window.addEventListener("scroll",t.ascroll,!1),document.body.addEventListener("scroll",t.ascroll,!1)}),10)},beforeDestroy:function(){window.removeEventListener("scroll",this.ascroll,!1),document.body.removeEventListener("scroll",this.ascroll,!1)},watch:{$route:function(t,e){this.newBlock&&(this.newBlock.className="stop",this.newBlock.style.top="0px")}},methods:{ascroll:function(){if(document.querySelector("#aside-sticky")){var t=this.aside.getBoundingClientRect(),e=document.querySelector(".container-scroll").getBoundingClientRect().bottom;if(t.bottom<e){if(null==this.newBlock){for(var s=getComputedStyle(this.aside,""),i="",n=0;n<s.length;n++)0!=s[n].indexOf("overflow")&&0!=s[n].indexOf("padding")&&0!=s[n].indexOf("border")&&0!=s[n].indexOf("outline")&&0!=s[n].indexOf("box-shadow")&&0!=s[n].indexOf("background")||(i+=s[n]+": "+s.getPropertyValue(s[n])+"; ");this.newBlock=document.createElement("div"),this.newBlock.className="stop",this.newBlock.style.cssText=i+" box-sizing: border-box; width: "+this.aside.offsetWidth+"px;",this.aside.insertBefore(this.newBlock,this.aside.firstChild);var o=this.aside.childNodes.length;for(n=1;n<o;n++)this.newBlock.appendChild(this.aside.childNodes[1])}var r=this.newBlock.getBoundingClientRect(),c=t.top+r.height,a=document.documentElement.clientHeight,l=Math.round(c-e),u=Math.round(c-a);r.height>a?(t.top<this.fixedMargin?u+this.marginBottom>l?Math.floor(r.bottom-a+this.marginBottom)<=0?(this.newBlock.className="sticky",this.newBlock.style.top=a-r.height-this.marginBottom+"px",this.z=this.marginBottom+t.top+r.height-a):(this.newBlock.className="stop",this.newBlock.style.top=-this.z+"px"):(this.newBlock.className="stop",this.newBlock.style.top=-l+"px",this.z=l):t.top-this.marginTop<0?r.top-this.marginTop>=0?(this.newBlock.className="sticky",this.newBlock.style.top=this.marginTop+"px",this.z=t.top-this.marginTop):(this.newBlock.className="stop",this.newBlock.style.top=-this.z+"px"):(this.newBlock.className="",this.newBlock.style.top="",this.z=0),this.fixedMargin=t.top):t.top-this.marginTop<=0?t.top-this.marginTop<=l?(this.newBlock.className="stop",this.newBlock.style.top=-l+"px"):(this.newBlock.className="sticky",this.newBlock.style.top=this.marginTop+"px"):(this.newBlock.className="",this.newBlock.style.top="");var p=this;window.addEventListener("resize",(function(){p.aside.children[0].style.width=getComputedStyle(p.aside,"").width}),!1)}}}}}),r=o,c=s("2877"),a=Object(c["a"])(r,i,n,!1,null,"31915326",null);e["a"]=a.exports}}]);
//# sourceMappingURL=faq.8cf7b026.js.map