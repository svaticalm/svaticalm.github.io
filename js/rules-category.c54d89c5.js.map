{"version":3,"sources":["webpack:///./src/views/moderator/SectionDetail.vue?8a0b","webpack:///src/views/moderator/SectionDetail.vue","webpack:///./src/views/moderator/SectionDetail.vue?18ca","webpack:///./src/views/moderator/SectionDetail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","topSections","staticClass","_v","_s","getCurrentTopSect","name","on","$event","openSectionAdd","_e","attrs","openStaffGroup","openAddWorker","_m","usersGrouped","length","_l","group","index","key","id","users","user","indexUser","banned","width","slot","Object","keys","rights","sect","class","editor","reader","post","getCurrentUserRights","options","changeAccess","email","mark","active","kickActive","kickUnReadBtnType","nativeOn","kickUnRead","phone","popups","staffGroup","show","removeStaffGroupError","addWorker","staticRenderFns","component"],"mappings":"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","file":"js/rules-category.c54d89c5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.topSections[0])?_c('div',[_c('div',{staticClass:\"rules__header rules__header-staff rules__header-section\"},[_c('div',{staticClass:\"text-size-ml text-bold rules__header-wrapper\"},[(_vm.getCurrentTopSect)?_c('div',{staticClass:\"rules__header-left\"},[_c('span',[_vm._v(_vm._s(_vm.getCurrentTopSect.name))]),_c('span',{staticClass:\"i-wrapper\",on:{\"click\":function($event){return _vm.openSectionAdd(_vm.getCurrentTopSect)}}},[_c('span',{staticClass:\"i i-pencil2\"}),_c('span',{staticClass:\"i i-pencil2-active\"})])]):_vm._e(),_c('div',{staticClass:\"rules__header-right\"},[_c('a',{staticClass:\"link-icon\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":_vm.openStaffGroup}},[_c('span',{staticClass:\"i i-staff\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"создать группу\")])]),_c('div',{staticClass:\"rules__btn\",on:{\"click\":function($event){return _vm.openAddWorker([])}}},[_vm._m(0)])])])]),(_vm.getCurrentTopSect)?_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"container  staff-container\"},[(_vm.usersGrouped.length === 0)?_c('div',{staticClass:\"nothing-found nothing-found__settings\"},[_c('svg',{staticClass:\"big-icon\"},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/big-icons-sprite.svg\") + \"#emoji-search-2\"}})]),_c('div',{staticClass:\"text-size-l text-bold mt16\"},[_vm._v(\"\\n                Здесь пока ничего нет...\\n                \")]),_c('div',{staticClass:\"text-size-m mt4\"},[_vm._v(\"Срочно сделайте что-нибудь, чтобы здесь что-нибудь было!\")])]):_c('div',{staticClass:\"staff-list\"},_vm._l((_vm.usersGrouped),function(group,index){return _c('div',{key:'group'+group.id,staticClass:\"staff-item\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"\\n                        \"+_vm._s(group.name)+\"\\n                    \")]),(group.users.length !== 0)?_c('div',{staticClass:\"workers-list admin-access\"},_vm._l((group.users),function(user,indexUser){return _c('div',{key:user.id,staticClass:\"worker\"},[(!user.banned)?_c('tooltip',{attrs:{\"direction\":'bottom-left-direction',\"add-class-wrap\":'accesses',\"add-style\":{width: 230 + 'px'}}},[_c('span',{attrs:{\"slot\":\"tooltipBtn\"},slot:\"tooltipBtn\"},[_c('div',{staticClass:\"num\"},[_vm._v(\"\\n                                        \"+_vm._s(Object.keys(user.rights).length)+\"\\n                                    \")])]),(Object.keys(user.rights).length>0)?_c('div',{attrs:{\"slot\":\"tooltipContent\"},slot:\"tooltipContent\"},[_vm._l((_vm.topSections),function(sect){return [(user.rights[sect.id])?_c('div',{key:user.id+'_'+sect.id,staticClass:\"flex-row\"},[_c('div',{staticClass:\"text-bold text-size-s\"},[_vm._v(\"\\n                                                \"+_vm._s(sect.name)+\"\\n                                            \")]),_c('div',{staticClass:\"access\",class:{editor : user.rights[sect.id]=='W', reader : user.rights[sect.id]=='R'}},[_vm._v(\"\\n                                                \"+_vm._s((user.rights[sect.id]=='W')?'редактор':'читатель')+\"\\n                                            \")])]):_vm._e()]})],2):_vm._e()]):_c('div',{staticClass:\"i i-stop i--red\"}),_c('div',{staticClass:\"worker-name\"},[_c('span',{staticClass:\"text-size-m\"},[_vm._v(_vm._s(user.name))]),_c('span',{staticClass:\"text-color-grey text-size-xs\"},[_vm._v(_vm._s(user.post))])]),_c('input-select-new',{staticClass:\"borderless\",attrs:{\"tag\":'div',\"value\":_vm.getCurrentUserRights(user),\"modelId\":_vm.getCurrentUserRights(user),\"options\":_vm.options,\"placeholder\":'Категория',\"list-style\":{'max-height': 287 + 'px'}},on:{\"change\":function($event){return _vm.changeAccess($event, index, indexUser)}}}),_c('div',{staticClass:\"worker-email\"},[_vm._v(\"\\n                                \"+_vm._s(user.email)+\"\\n                            \")]),_c('div',{staticClass:\"kick-sms\"},[(user.mark>0 && !user.banned)?_c('tooltip',{attrs:{\"direction\":'top-center-direction',\"isBtnClose\":false,\"add-style\":{width: 184 + 'px'}}},[_c('span',{attrs:{\"slot\":\"tooltipBtn\"},slot:\"tooltipBtn\"},[_c('div',{staticClass:\"notify-count\",class:{active: _vm.kickActive}})]),_c('div',{attrs:{\"slot\":\"tooltipContent\"},slot:\"tooltipContent\"},[_c('div',{staticClass:\"text-size-s mb8\"},[_vm._v(\"\\n                                            Непрочитаных правил: \"),_c('span',{staticClass:\"text-bold\"},[_vm._v(_vm._s(user.mark))])]),_c('submit-btn',{attrs:{\"type\":user.kickUnReadBtnType ? user.kickUnReadBtnType : 'normal'},nativeOn:{\"click\":function($event){return _vm.kickUnRead(user.id)}}},[(user.kickUnReadBtnType != 'load')?_c('span',{staticClass:\"i i-kick mr8\"}):_vm._e(),_vm._v(\"Подтвердить\\n                                        \")])],1)]):_vm._e()],1),_c('div',{staticClass:\"worker-phone\"},[_vm._v(\"\\n                                \"+_vm._s(user.phone)+\"\\n                            \")])],1)}),0):_vm._e()])}),0)])]):_vm._e(),_c('popup',{attrs:{\"is-set-styled\":false,\"show\":_vm.popups.staffGroup.show,\"name\":_vm.popups.staffGroup.name,\"width\":400,\"add-class\":'add-cat'}},[_c('staff-group')],1),_c('popup',{attrs:{\"is-set-styled\":false,\"show\":_vm.popups.removeStaffGroupError.show,\"name\":_vm.popups.removeStaffGroupError.name,\"width\":400}},[_c('remove-staff-group-error')],1),_c('popup',{attrs:{\"is-set-styled\":false,\"show\":_vm.popups.addWorker.show,\"name\":_vm.popups.addWorker.name,\"width\":488,\"add-class\":'add-worker'}},[_c('add-worker')],1)],1):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"elem\"},[_c('span',{staticClass:\"i i-staff4\"}),_vm._v(\"\\n                        Добавить сотрудника\\n                    \")])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div v-if=\"topSections[0]\">\r\n        <div class=\"rules__header rules__header-staff rules__header-section\">\r\n            <div class=\"text-size-ml text-bold rules__header-wrapper\">\r\n                <div class=\"rules__header-left\" v-if=\"getCurrentTopSect\">\r\n                    <span>{{getCurrentTopSect.name}}</span>\r\n                    <span @click=\"openSectionAdd(getCurrentTopSect)\" class=\"i-wrapper\">\r\n                        <span  class=\"i i-pencil2\"></span>\r\n                        <span  class=\"i i-pencil2-active\"></span>\r\n                    </span>\r\n                </div>\r\n                <div class=\"rules__header-right\">\r\n                    <a href=\"javascript:void(0);\" class=\"link-icon\" @click=\"openStaffGroup\">\r\n                        <span class=\"i i-staff\"></span>\r\n                        <span class=\"text\">создать группу</span>\r\n                    </a>\r\n                    <div class=\"rules__btn\" @click=\"openAddWorker([])\" >\r\n                        <span class=\"elem\">\r\n                            <span class=\"i i-staff4\"></span>\r\n                            Добавить сотрудника\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div v-if=\"getCurrentTopSect\" class=\"content\">\r\n\r\n            <div class=\"container  staff-container\">\r\n                <div class=\"nothing-found nothing-found__settings\" v-if=\"usersGrouped.length === 0\">\r\n                    <svg class=\"big-icon\" >\r\n                        <use xlink:href=\"@/assets/img/big-icons-sprite.svg#emoji-search-2\"></use>\r\n                    </svg>\r\n                    <div class=\"text-size-l text-bold mt16\">\r\n                    Здесь пока ничего нет...\r\n                    </div>\r\n                    <div class=\"text-size-m mt4\">Срочно сделайте что-нибудь, чтобы здесь что-нибудь было!</div>\r\n                </div>\r\n                <div class=\"staff-list\" v-else>\r\n                    <div class=\"staff-item\" v-for=\"(group, index) in usersGrouped\" :key=\"'group'+group.id\">\r\n                        <div class=\"name\">\r\n                            {{group.name}}\r\n                        </div>\r\n                        <!--<div class=\"change-pos\">\r\n                            <div class=\"change-pos__btn up\" @click=\"up(index)\">\r\n                                <span class=\"i i-pointer9\"></span>\r\n                            </div>\r\n                            <div class=\"change-pos__btn down\" @click=\"down(index)\">\r\n                                <span class=\"i i-pointer9\"></span>\r\n                            </div>\r\n                        </div>-->\r\n                        <div class=\"workers-list admin-access\"\r\n                                   v-if=\"group.users.length !== 0\">\r\n                            <div class=\"worker\" v-for=\"(user, indexUser) in group.users\" :key=\"user.id\">\r\n                                <tooltip\r\n                                        v-if=\"!user.banned\"\r\n                                         :direction=\"'bottom-left-direction'\"\r\n                                         :add-class-wrap=\"'accesses'\"\r\n                                         :add-style=\"{width: 230 + 'px'}\">\r\n                                    <span slot=\"tooltipBtn\">\r\n                                        <div class=\"num\">\r\n                                            {{Object.keys(user.rights).length}}\r\n                                        </div>\r\n                                    </span>\r\n\r\n                                    <div v-if=\"Object.keys(user.rights).length>0\" slot=\"tooltipContent\">\r\n                                        <template v-for=\"sect in topSections\">\r\n                                            <div v-if=\"user.rights[sect.id]\" class=\"flex-row\" :key=\"user.id+'_'+sect.id\" >\r\n                                                <div class=\"text-bold text-size-s\">\r\n                                                    {{sect.name}}\r\n                                                </div>\r\n                                                <div class=\"access\" :class=\"{editor : user.rights[sect.id]=='W', reader : user.rights[sect.id]=='R'}\">\r\n                                                    {{(user.rights[sect.id]=='W')?'редактор':'читатель'}}\r\n                                                </div>\r\n                                            </div>\r\n                                        </template>\r\n                                    </div>\r\n                                </tooltip>\r\n                                <div class=\"i i-stop i--red\" v-else></div>\r\n                                <div class=\"worker-name\">\r\n                                    <span class=\"text-size-m\">{{user.name}}</span>\r\n                                    <span class=\"text-color-grey text-size-xs\">{{user.post}}</span>\r\n                                </div>\r\n                                <input-select-new\r\n                                    :tag=\"'div'\"\r\n                                    @change=\"changeAccess($event, index, indexUser)\"\r\n                                    :value=\"getCurrentUserRights(user)\"\r\n                                    :modelId=\"getCurrentUserRights(user)\"\r\n                                    :options=\"options\"\r\n                                    :placeholder=\"'Категория'\"\r\n                                    class=\"borderless\"\r\n                                    :list-style=\"{'max-height': 287 + 'px'}\">\r\n                                </input-select-new>\r\n                                <div class=\"worker-email\">\r\n                                    {{user.email}}\r\n                                </div>\r\n                                <div class=\"kick-sms\">\r\n                                    <tooltip\r\n                                            v-if=\"user.mark>0 && !user.banned\"\r\n                                            :direction=\"'top-center-direction'\"\r\n                                            :isBtnClose=\"false\"\r\n                                            :add-style=\"{width: 184 + 'px'}\">\r\n                                        <span slot=\"tooltipBtn\">\r\n                                            <div class=\"notify-count\" :class=\"{active: kickActive}\">\r\n                                            </div>\r\n                                        </span>\r\n\r\n                                        <div slot=\"tooltipContent\">\r\n                                            <div class=\"text-size-s mb8\" >\r\n                                                Непрочитаных правил: <span class=\"text-bold\">{{user.mark}}</span>\r\n                                            </div>\r\n                                            <submit-btn @click.native=\"kickUnRead(user.id)\" class=\"\" :type=\"user.kickUnReadBtnType ? user.kickUnReadBtnType : 'normal'\">\r\n                                                <span class=\"i i-kick mr8\" v-if=\"user.kickUnReadBtnType != 'load'\"></span>Подтвердить\r\n                                            </submit-btn>\r\n                                        </div>\r\n                                    </tooltip>\r\n                                </div>\r\n                                <div class=\"worker-phone\">\r\n                                    {{user.phone}}\r\n                                </div>\r\n                                <!--<span class=\"i-wrapper\" @click=\"openAddWorker(user)\">\r\n                                    <span class=\"i i-pencil2\"></span>\r\n                                    <span class=\"i i-pencil2-active\"></span>\r\n                                </span>-->\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <popup :is-set-styled=\"false\" :show=\"popups.staffGroup.show\" :name=\"popups.staffGroup.name\" :width=\"400\" :add-class=\"'add-cat'\">\r\n            <staff-group></staff-group>\r\n        </popup>\r\n\r\n        <popup :is-set-styled=\"false\" :show=\"popups.removeStaffGroupError.show\" :name=\"popups.removeStaffGroupError.name\" :width=\"400\" >\r\n            <remove-staff-group-error></remove-staff-group-error>\r\n        </popup>\r\n\r\n        <popup :is-set-styled=\"false\" :show=\"popups.addWorker.show\" :name=\"popups.addWorker.name\" :width=\"488\" :add-class=\"'add-worker'\">\r\n            <add-worker></add-worker>\r\n        </popup>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n    import {mapState} from 'vuex';\r\n    import Popup from '@/components/modal/Popup.vue';\r\n    import StaffGroup from '@/components/modal/rules/StaffGroup.vue';\r\n    import RemoveStaffGroupError from '@/components/modal/rules/RemoveCatError.vue';\r\n    import AddWorker from '@/components/modal/rules/AddWorker.vue';\r\n    import Tooltip from '@/components/Tooltip.vue';\r\n    import draggable from '@/helpers/vuedraggable.js';\r\n    import InputSelect from '@/components/forms/InputSelect.vue';\r\n    import InputSelectNew from '@/components/forms/InputSelectNew.vue';\r\n    import SubmitBtn from '@/components/forms/SubmitBtn.vue';\r\n    import Tumbler from '@/components/Tumbler.vue';\r\n\r\n    export default {\r\n        metaInfo() {\r\n            return {\r\n                title: 'Раздел',\r\n                titleTemplate: this.$store.state.options.titleTemplate\r\n            }\r\n        },\r\n        name: 'SectionDetail',\r\n        components: {\r\n            Popup,\r\n            StaffGroup,\r\n            RemoveStaffGroupError,\r\n            Tooltip,\r\n            draggable,\r\n            AddWorker,\r\n            InputSelect,\r\n            InputSelectNew,\r\n            SubmitBtn,\r\n            Tumbler\r\n        },\r\n        data: function(){\r\n            return {\r\n                options: [\r\n                  {name: '<span class=text-color-orange2>Читатель</span>', id: 1},\r\n                  {name: '<span class=text-color-green>Редактор</span>', id: 2},\r\n                  {name: '<span>Нет доступа</span>', id: 0}\r\n                ],\r\n                drag: false,\r\n                kickUnReadAllBtnType: 'normal',\r\n                kickActive: false,\r\n                form: {\r\n                    selectAccess: {\r\n                        id: 2,\r\n                        error: false,\r\n                    },\r\n                },\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                popups: state => state.popups.items,\r\n                topSections: state => state.rules.topSections,\r\n                usersGrouped: state => state.rulesStaff.usersByDepartmentList,\r\n                tumblers: state => state.rules.tumblers,\r\n            }),\r\n            getCurrentTopSect: function () {\r\n                if(this.topSections.length > 0 && this.$route.params.id){\r\n                    return this.$store.getters['rules/getCurrentTopSect'](this.$route.params.id);\r\n                }\r\n            }\r\n        },\r\n        methods:{\r\n            getCurrentUserRights:function (user) {\r\n                if(user.rights[this.getCurrentTopSect.id]){\r\n                    if(user.rights[this.getCurrentTopSect.id] == 'R'){\r\n                        return 1;\r\n                    }\r\n                    if(user.rights[this.getCurrentTopSect.id] == 'W'){\r\n                        return 2;\r\n                    }\r\n                }\r\n                else{\r\n                    return 0;\r\n                }\r\n                return\r\n            },\r\n            changeAccess: function(event, index, indexUser){\r\n                this.$store.dispatch('rulesStaff/setUserSectRight',{val: event, index: index, indexUser: indexUser, curSect: this.getCurrentTopSect.id});\r\n                //this.$store.commit('rulesStaff/setUserSectRight',{val: event, index: index, indexUser: indexUser, curSect: this.getCurrentTopSect.id});\r\n            },\r\n            setValue(value, index){\r\n                this.$store.commit('rulesStaff/setUsersByDepartmentListByIndex', {\r\n                    items: value,\r\n                    index: index\r\n                });\r\n            },\r\n            up: function(index){\r\n                this.$store.dispatch('rulesStaff/setMoveGroup', {index: index, direction: 'up'});\r\n            },\r\n            down: function(index){\r\n                this.$store.dispatch('rulesStaff/setMoveGroup', {index: index, direction: 'down'});\r\n            },\r\n            openStaffGroup: function (group = []) {\r\n                this.$store.commit('rulesStaff/setEditGroup', group);\r\n                this.$store.dispatch('popups/open', {name: this.popups.staffGroup.name});\r\n            },\r\n            openAddWorker: function (user = []) {\r\n                this.$store.commit('rulesStaff/setEditUser', user);\r\n                this.$store.dispatch('popups/open', {name: this.popups.addWorker.name});\r\n            },\r\n            dragSave: function (index) {\r\n                if (this.drag) {\r\n                    this.$store.dispatch('rulesStaff/setUserSort', {index: index});\r\n                    this.drag = false;\r\n                }\r\n            },\r\n            dragStart: function (index) {\r\n                this.curDrugGroupIndex = index;\r\n            },\r\n            dragStatus: function (e) {\r\n                this.drag = true;\r\n            },\r\n            openSectionAdd: function (cat) {\r\n                this.$store.commit('rules/setEditSection',cat);\r\n                this.$store.dispatch('popups/open', {name: this.popups.sectionAdd.name});\r\n            },\r\n            kickUnRead(id){\r\n                this.$store.commit('rulesStaff/kickUnReadBtnType', {id: id,type: 'load'});\r\n                this.$store.dispatch('rulesStaff/kickUnRead', {id: id}).then(()=>{\r\n                    this.$store.commit('rulesStaff/kickUnReadBtnType', {id: id,type: 'normal'});\r\n                });\r\n            },\r\n            kickUnReadAll(){\r\n                this.kickUnReadAllBtnType = 'load';\r\n                this.$store.dispatch('rulesStaff/kickUnReadAll').then(()=>{\r\n                    this.kickUnReadAllBtnType = 'normal';\r\n                });\r\n            }\r\n        },\r\n        mounted() {\r\n            //this.$store.commit('rules/tumblerOff', this.tumblers.editable.name);\r\n            this.$store.dispatch('rulesStaff/getUsersByDepartment');\r\n        },\r\n    }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SectionDetail.vue?vue&type=template&id=125584e0&\"\nimport script from \"./SectionDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./SectionDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}