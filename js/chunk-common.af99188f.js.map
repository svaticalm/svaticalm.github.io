{"version":3,"sources":["webpack:///./src/helpers/validate.js","webpack:///./src/storages/modules/users.js","webpack:///./src/components/Tooltip.vue?35cc","webpack:///src/components/Tooltip.vue","webpack:///./src/components/Tooltip.vue?e8cd","webpack:///./src/components/Tooltip.vue","webpack:///./src/storages/modules/actions.js","webpack:///./src/storages/modules/content.js","webpack:///./src/components/Tooltip.vue?d4df","webpack:///./src/components/modal/ManyAuth.vue?844a","webpack:///src/components/modal/ManyAuth.vue","webpack:///./src/components/modal/ManyAuth.vue?a233","webpack:///./src/components/modal/ManyAuth.vue","webpack:///./src/components/modal/PopupInfoBlock.vue?9d95","webpack:///./src/storages/modules/mail.js","webpack:///./src/components/modal/Popup.vue?f7c9","webpack:///src/components/modal/Popup.vue","webpack:///./src/components/modal/Popup.vue?7495","webpack:///./src/components/modal/Popup.vue","webpack:///./src/components/forms/SubmitBtn.vue?93c4","webpack:///src/components/forms/SubmitBtn.vue","webpack:///./src/components/forms/SubmitBtn.vue?e019","webpack:///./src/components/forms/SubmitBtn.vue","webpack:///./src/storages/modules/partner/partner.js","webpack:///./src/storages/modules/masks.js","webpack:///./src/helpers/formatted.js","webpack:///./src/components/modal/MailZems.vue?39c1","webpack:///src/components/modal/MailZems.vue","webpack:///./src/components/modal/MailZems.vue?1503","webpack:///./src/components/modal/MailZems.vue","webpack:///./src/components/CitySelect.vue?c5e6","webpack:///src/components/CitySelect.vue","webpack:///./src/components/CitySelect.vue?2bef","webpack:///./src/components/CitySelect.vue","webpack:///./src/components/TopMenu.vue?8a24","webpack:///src/components/TopMenu.vue","webpack:///./src/components/TopMenu.vue?343c","webpack:///./src/components/TopMenu.vue","webpack:///./src/components/forms/TextareaField.vue?3714","webpack:///./src/components/forms/TextareaAutosize.vue?c70e","webpack:///src/components/forms/TextareaAutosize.vue","webpack:///./src/components/forms/TextareaAutosize.vue?4efc","webpack:///./src/components/forms/TextareaAutosize.vue","webpack:///src/components/forms/TextareaField.vue","webpack:///./src/components/forms/TextareaField.vue?7036","webpack:///./src/components/forms/TextareaField.vue","webpack:///./src/components/modal/PopupInfoBlock.vue?1e83","webpack:///src/components/modal/PopupInfoBlock.vue","webpack:///./src/components/modal/PopupInfoBlock.vue?a19c","webpack:///./src/components/modal/PopupInfoBlock.vue","webpack:///./src/storages/modules/forms.js","webpack:///./src/storages/modules/menus.js","webpack:///./src/storages/modules/popups.js","webpack:///./src/storages/modules/options.js","webpack:///./src/assets/img/mob-sprite.svg","webpack:///./src/helpers/vue-inputmask.js","webpack:///./src/components/forms/InputStyled.vue?3ac4","webpack:///./src/components/forms/InputStyled.vue?bb65","webpack:///src/components/forms/InputStyled.vue","webpack:///./src/components/forms/InputStyled.vue?9fbf","webpack:///./src/components/forms/InputStyled.vue","webpack:///./src/helpers/axiosHeaders.js","webpack:///./src/components/SearchTop.vue?25bf","webpack:///src/components/SearchTop.vue","webpack:///./src/components/SearchTop.vue?70c8","webpack:///./src/components/SearchTop.vue","webpack:///./src/storages/modules/auth.js","webpack:///./src/components/modal/Popup.vue?821b","webpack:///./src/storages/modules/opinions.js","webpack:///./src/storages/modules/cities.js","webpack:///./src/helpers/animate.js"],"names":["isPhone","value","phone","replace","length","state","user","permission","userPhone","isBannedPermanent","getters","getUser","firstVisit","result","VueCookies","get","hasCookiesFirstVisit","actions","getCurrent","context","Promise","resolve","reject","localStorage","getItem","undefined","axios","process","headers","withCredentials","then","response","commit","data","error","dispatch","root","login","catch","jsonHeader","save","put","params","firstName","rootState","auth","forms","registration","fields","lastName","secondName","email","paramsSerializer","qs","stringify","arrayFormat","checkPhone","status","getCookiesWarning","warning","mutations","setUser","Vue","set","setCookiesWarning","hideCookiesWarning","setCookiesFirstVisit","firstVisitRedirect","unsetFirstVisitRedirect","pushOpinion","opinions","push","id","action","setLoaded","setBanPermanent","setUserPhone","namespaced","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","expression","ref","staticClass","class","addClassWrap","addClassBtn","on","$event","preventDefault","btnClick","_t","attrs","addClass","direction","style","_e","isPadding","staticRenderFns","component","axiosCancel","debug","CancelToken","categories","Set","coupons","breadcrumbs","detail","isLoadNextPage","showSectionMenu","hidePromo","isLoad","isLoadDetail","viewType","showMap","previousSection","coopTab","sort","current","order","by","price","code","discount","popular","new","asc","desc","show","page","favorites","items","section","visited","cancelToken","scrollToCoupon","couponId","scrollToCatalogList","findCategory","categoryReturn","category","sections","size","categoryFind","buildBreadcrumbs","getTitle","rootGetters","title","cities","getTotalCoupons","sum","count","getCurrentSort","getCoopTab","getCouponsBySection","coupon","getFavorites","favorite","activeCategory","currentSection","reload","goCoupon","route","getCategoriesList","city","xmlId","pop","getCouponList","cancelAll","param","isSearch","q","search","query","requestId","c","sectionFavorites","getSimilars","similar","getViewType","item","filter","setFavorite","index","indexOf","splice","isDetail","isSimilar","setFavoritesCookies","setVisited","setVisitedCookies","initialCouponState","initialSearchState","initialCatalogState","initDetailPage","pageSize","similarIndex","similars","getMarkersByAddresses","setTimeout","type","setShowCategoriesList","child","add","toggleSection","setCategoriesList","setCoopTab","setCouponList","itemIndex","hasOwnProperty","itemFind","find","setCouponDetailSimilar","updateCouponDetail","updateCoupon","updateCouponSimilar","setCouponDetail","incrementCouponDetailCountOpinion","opinionCount","setViewType","toggleMap","hideMap","setLoad","setLoadDetail","setSort","setShowSort","setPage","incrementPage","setFavorites","setSectionFavorites","setCancelToken","setCouponToScroll","cancelCouponToScroll","sectionMenuOpen","document","getElementsByTagName","classList","sectionMenuClose","remove","setBreadcrumbs","pageContent","getPageContent","content","pageContentID","ID","setPageContent","_v","_s","openMailZems","getList","sendMessage","message","setData","setStatus","open","isSetBlank","close","tag","disabled","isLoaded","sendForm","statistic","itemDetail","getByXmlId","getStatistic","getByActionID","getByID","setProviderData","initDetail","setCurrent","setProviderStatistic","setCurrentField","setSend","partnerClear","setSupplier","digits","mask","repeat","greedy","placeholder","rightAlign","showMaskOnHover","alias","suffix","autoGroup","groupSeparator","max","allowMinus","groupSize","autoUnmask","percent","showMaskOnFocus","declOfNumber","number","titles","cases","number_format","decimals","dec_point","thousands_sep","i","j","kw","kd","km","isNaN","Math","abs","parseInt","toFixed","substr","slice","message_error","height","removeError","model","callback","$$v","messageText","sendMess","citySearch","_l","isShowAll","key","active","setCity","toLowerCase","citiesSearch","_m","arg","slide","showTopMenu","showPopup","currentCity","topMenuClose","nativeOn","openAuthorization","hideMobile","link","iconMobile","openPublicOffer","hasCounterSMS","isError","classTextareaField","inputId","autoFocus","_k","keyCode","enter","updateValue","setFocus","inputVal","errorText","counterSimbols","counterSmsLength","counterSMS","domProps","resize","target","composing","val","modalType","redtitle","greentitle","redtxt","greentxt","text","closeCooperationAccepted","btntext","isSend","formData","FormData","keyProp","append","formName","post","popups","cooperationAccepted","cooperationErrorPhone","itemsTop","itemsAction","ActionPageCouponUrl","currentIndex","ActionPageCouponTitle","defaultStatus","RepaymentPage","currentStatus","getMenu","getActionMenu","setMenu","top","setActionMenu","topMenuOpen","scrollPosition","window","pageYOffset","documentElement","scrollTop","body","setAttribute","getAttribute","scroll","citySelect","address","categoryChoice","categoriesCreateConfirm","categoriesMoveConfirm","categoriesHideConfirm","printContract","citySelectReturn","mailZems","publicAuth","authorization","newQuest","manyAuth","userBanned","couponCancel","couponClaim","repeatSendInfo","checkoutFail","couponHistory","opinionAdd","couponBuy","couponBuyOk","couponBuyError","couponBuyErrorAuth","couponAlreadyIssued","cooperationCancelSmallPriceOne","cooperationCancelSmallPrice","cooperationCancelSmallPercent","cooperationCancelVerySmallPrice","partnerCouponsRemove","partnerCouponsEdit","partnerCouponsEditStopped","partnerCouponsStop","partnerCouponsStat","partnerModerateErrorField","partnerModerateErrorPercent","partnerModerateErrorSum","partnerModerateErrorProfit","partnerModerateErrorProvider","invoiceWaitPay","invoiceWaitDocs","invoicePaid","partnerEditAboutWelcome","cooperationEditCancel","cooperationEditAccept","partnerBill","requestApprove","requestReject","requestPause","sendMessagePartner","partnerFirstEntry","providerReject","providerOvertime","sendMessagePartnerBuh","providerApprove","providerPrint","providerCheckSend","providerFinalApprove","providerBlock","providerCancelReject","providerCancelBlock","providerApproveAbout","verificationInn","verificationOgrn","verificationOgrnIp","originDiscount","confirmDiscount","correctText","correctTextNoDiscount","moderatorCouponApprove","moderatorCouponReject","sendAllProviders","moderatorCouponBlock","moderatorCouponUnBlock","constructActionCallUs","constructActionComeUs","contractEdit","constructActionAllCity","constructActionCity","moderatorCouponAlert","selectCity","constructActionVideo","welcomePartner","constructPartnerFinal","couponExtend","couponAnnul","couponCheating","couponCheck","repaymentAnnul","repaymentRepay","auditorBill","buhPartnerBill","kickPartner","buhAddBill","billSendOk","billWaitPay","billPaid","billWaitDocs","auditorProviderCancelBlock","auditorProviderBlock","presentationVideo","constructVideoAdd","cooperationWhat","cooperationHow","cooperationTerms","sendMessageBuyer","notifyPageReset","constructHowUseVars","constructActionGoLink","userProviderEdit","userProviderAdd","howCalculated","incorrectCode","errorNotOrder","errorIsSend","phoneNumberHint","unavailableLink","opinionAddOk","opinionErrorSend","availableCities","couponBanned","providerBanned","couponArchived","couponNotAvailable","supplierInfo","averageCheck","pushNotify","mailSent","cooperationRequest","cooperationPersonalData","userInfo","askQuestion","publicOffer","purchaseAmount","header","getElementById","titleTemplate","setRouble","rouble","detectOS","symbolRouble","setOption","thisUserAgent","navigator","userAgent","OS","module","exports","inputmaskPlugin","install","options","directive","bind","el","binding","Inputmask","isEdit","isValidate","isClearBtn","showLabel","ok","classBtn","showPlaceholder","placeholderInput","nameInput","maxLengthNum","fieldAutocomplete","pattern","ctrlKey","clearName","edit","check","currentModel","clear","fadeIn","searchFocus","focused","opened","showSearch","filled","searchQuery","getSearch","focusInput","blurInput","required","password","step","timer","time","timeDefault","intervalId","smsBan","timeBan","isBanned","isBannedPartner","isRedirect","isValidPhone","authPhone","token","startTimer","clearInterval","setInterval","checkLogin","isPartner","checkPartner","isLK","checkLK","ban","banType","partner","success","noValidPhone","threshold","resend","getToken","setItem","app","isOrder","$router","logout","userCoupons","clearUserAuthInfo","setFormAuthField","setFormAuthError","setFormAuthDisabled","setFormRegistrationField","setFormRegistrationError","setFormRegistrationDisabled","setTimerTime","decrementTimerTime","setStep","setIsValidPhone","setBan","setBanPartner","setIsRedirect","setSmsBan","bannedTime","setAuthPhone","clearForms","positive","negative","actionId","getListPartner","sendAnswer","answer","opinion","clearData","pushItem","setButtonState","form","btnType","toggleForm","setError","setComment","setAnswer","region","regionCode","currentXmlId","currentCityIp","getCities","closePopup","setCityCookies","getGeodata","coords","resp","GeoObjectCollection","featureMember","GeoObject","Point","pos","split","setItems","setCurrentCity","setCurrentCoords","scrollTo","isScroll","margin","querySelector","$top","$topMargin","offsetHeight","$warning","$warningMargin","box","getBoundingClientRect","Velocity","duration","offset"],"mappings":"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","file":"js/chunk-common.af99188f.js","sourcesContent":["export function validateBik(bik) {\r\n    var result = false;\r\n    let error = {};\r\n    if (typeof bik === 'number') {\r\n        bik = bik.toString();\r\n    } else if (typeof bik !== 'string') {\r\n        bik = '';\r\n    }\r\n    if (!bik.length) {\r\n        error.code = 1;\r\n        error.message = 'БИК должен состоять из 9 цифр';\r\n    } else if (/[^0-9]/.test(bik)) {\r\n        error.code = 2;\r\n        error.message = 'БИК должен состоять из 9 цифр';\r\n    } else if (bik.length !== 9) {\r\n        error.code = 3;\r\n        error.message = 'БИК должен состоять из 9 цифр';\r\n    } else {\r\n        result = true;\r\n    }\r\n    return result?result:error;\r\n}\r\n\r\nexport function validateInn(inn, isIP) {\r\n    var result = false;\r\n    let error = {};\r\n    if (typeof inn === 'number') {\r\n        inn = inn.toString();\r\n    } else if (typeof inn !== 'string') {\r\n        inn = '';\r\n    }\r\n    if (!inn.length) {\r\n        error.code = 1;\r\n        error.message = 'ИНН юридического лица должен состоять из 10-ти цифр';\r\n        if(isIP === true) {\r\n            error.message = 'ИНН ИП должен состоять из 12-ти цифр';\r\n        }\r\n    } else if (/[^0-9]/.test(inn)) {\r\n        error.code = 2;\r\n        error.message = 'ИНН юридического лица должен состоять из 10-ти цифр';\r\n        if(isIP === true) {\r\n            error.message = 'ИНН ИП должен состоять из 12-ти цифр';\r\n        }\r\n    } else if (inn.length < 12 && isIP || inn.length < 10 && !isIP) {\r\n        error.code = 3;\r\n        error.message = 'ИНН юридического лица должен состоять из 10-ти цифр';\r\n        if(isIP === true) {\r\n            error.message = 'ИНН ИП должен состоять из 12-ти цифр';\r\n        }\r\n\r\n    } else {\r\n        var checkDigit = function (inn, coefficients) {\r\n            var n = 0;\r\n            for (var i in coefficients) {\r\n                n += coefficients[i] * inn[i];\r\n            }\r\n            return parseInt(n % 11 % 10);\r\n        };\r\n        switch (inn.length) {\r\n            case 10:\r\n                var n10 = checkDigit(inn, [2, 4, 10, 3, 5, 9, 4, 6, 8]);\r\n                if (n10 === parseInt(inn[9])) {\r\n                    result = true;\r\n                }\r\n                break;\r\n            case 12:\r\n                var n11 = checkDigit(inn, [7, 2, 4, 10, 3, 5, 9, 4, 6, 8]);\r\n                var n12 = checkDigit(inn, [3, 7, 2, 4, 10, 3, 5, 9, 4, 6, 8]);\r\n                if ((n11 === parseInt(inn[10])) && (n12 === parseInt(inn[11]))) {\r\n                    result = true;\r\n                }\r\n                break;\r\n        }\r\n        if (!result) {\r\n            error.code = 4;\r\n            error.message = 'Некорректный ИНН';\r\n        }\r\n    }\r\n    return result?result:error;\r\n}\r\n\r\nexport function validateKpp(kpp) {\r\n    var result = false;\r\n    let error = {};\r\n    if (typeof kpp === 'number') {\r\n        kpp = kpp.toString();\r\n    } else if (typeof kpp !== 'string') {\r\n        kpp = '';\r\n    }\r\n    if (!kpp.length) {\r\n        error.code = 1;\r\n        error.message = 'КПП должен состоять из 9 знаков';\r\n    } else if (kpp.length !== 9) {\r\n        error.code = 2;\r\n        error.message = 'КПП должен состоять из 9 знаков';\r\n    } else if (!/^[0-9]{4}[0-9A-Z]{2}[0-9]{3}$/.test(kpp)) {\r\n        error.code = 3;\r\n        error.message = 'Некорректный КПП';\r\n    } else {\r\n        result = true;\r\n    }\r\n    return result?result:error;\r\n}\r\n\r\nexport function validateKs(ks, bik) {\r\n    var result = false;\r\n    let error = {};\r\n    if (typeof ks === 'number') {\r\n        ks = ks.toString();\r\n    } else if (typeof ks !== 'string') {\r\n        ks = '';\r\n    }\r\n    if (!ks.length) {\r\n        error.code = 1;\r\n        error.message = 'К/С должен состоять из 20 цифр';\r\n    } else if (/[^0-9]/.test(ks)) {\r\n        error.code = 2;\r\n        error.message = 'К/С должен состоять из 20 цифр';\r\n    } else if (ks.length !== 20) {\r\n        error.code = 3;\r\n        error.message = 'К/С должен состоять из 20 цифр';\r\n    } else {\r\n        var bikKs = '0' + bik.toString().slice(4, 6) + ks;\r\n        var checksum = 0;\r\n        var coefficients = [7, 1, 3, 7, 1, 3, 7, 1, 3, 7, 1, 3, 7, 1, 3, 7, 1, 3, 7, 1, 3, 7, 1];\r\n        for (var i in coefficients) {\r\n            checksum += coefficients[i] * (bikKs[i] % 10);\r\n        }\r\n        if (checksum % 10 === 0) {\r\n            result = true;\r\n        } else {\r\n            error.code = 4;\r\n            error.message = 'Некорректный К/С';\r\n        }\r\n    }\r\n    return result?result:error;\r\n}\r\n\r\nexport function validateOgrn(ogrn) {\r\n    var result = false;\r\n    let error = {};\r\n    if (typeof ogrn === 'number') {\r\n        ogrn = ogrn.toString();\r\n    } else if (typeof ogrn !== 'string') {\r\n        ogrn = '';\r\n    }\r\n    if (!ogrn.length) {\r\n        error.code = 1;\r\n        error.message = 'ОГРН должен состоять из 13 цифр';\r\n    } else if (/[^0-9]/.test(ogrn)) {\r\n        error.code = 2;\r\n        error.message = 'ОГРН должен состоять из 13 цифр';\r\n    } else if (ogrn.length !== 13) {\r\n        error.code = 3;\r\n        error.message = 'ОГРН должен состоять из 13 цифр';\r\n    } else {\r\n        var n13 = parseInt((parseInt(ogrn.slice(0, -1)) % 11).toString().slice(-1));\r\n        if (n13 === parseInt(ogrn[12])) {\r\n            result = true;\r\n        } else {\r\n            error.code = 4;\r\n            error.message = 'Некорректный ОГРН';\r\n        }\r\n    }\r\n    return result?result:error;\r\n}\r\n\r\nexport function validateOgrnip(ogrnip) {\r\n    var result = false;\r\n    let error = {};\r\n    if (typeof ogrnip === 'number') {\r\n        ogrnip = ogrnip.toString();\r\n    } else if (typeof ogrnip !== 'string') {\r\n        ogrnip = '';\r\n    }\r\n    if (!ogrnip.length) {\r\n        error.code = 1;\r\n        error.message = 'ОГРНИП должен состоять из 15 цифр';\r\n    } else if (/[^0-9]/.test(ogrnip)) {\r\n        error.code = 2;\r\n        error.message = 'ОГРНИП должен состоять из 15 цифр';\r\n    } else if (ogrnip.length !== 15) {\r\n        error.code = 3;\r\n        error.message = 'ОГРНИП должен состоять из 15 цифр';\r\n    } else {\r\n        var n15 = parseInt((parseInt(ogrnip.slice(0, -1)) % 13).toString().slice(-1));\r\n        if (n15 === parseInt(ogrnip[14])) {\r\n            result = true;\r\n        } else {\r\n            error.code = 4;\r\n            error.message = 'Некорректный ОГРНИП';\r\n        }\r\n    }\r\n    return result?result:error;\r\n}\r\n\r\nexport function validateRs(rs,bik) {\r\n    var result = false;\r\n    let error = {};\r\n    if (typeof rs === 'number') {\r\n        rs = rs.toString();\r\n    } else if (typeof rs !== 'string') {\r\n        rs = '';\r\n    }\r\n    if (!rs.length) {\r\n        error.code = 1;\r\n        error.message = 'Р/С должен состоять из 20 цифр';\r\n    } else if (/[^0-9]/.test(rs)) {\r\n        error.code = 2;\r\n        error.message = 'Р/С должен состоять из 20 цифр';\r\n    } else if (rs.length !== 20) {\r\n        error.code = 3;\r\n        error.message = 'Р/С должен состоять из 20 цифр';\r\n    } else {\r\n        var bikRs = bik.toString().slice(-3) + rs;\r\n        var checksum = 0;\r\n        var coefficients = [7, 1, 3, 7, 1, 3, 7, 1, 3, 7, 1, 3, 7, 1, 3, 7, 1, 3, 7, 1, 3, 7, 1];\r\n        for (var i in coefficients) {\r\n            checksum += coefficients[i] * (bikRs[i] % 10);\r\n        }\r\n        if (checksum % 10 === 0) {\r\n            result = true;\r\n        } else {\r\n            error.code = 4;\r\n            error.message = 'Некорректный Р/С';\r\n        }\r\n    }\r\n    return result?result:error;\r\n}\r\n\r\nexport function validateSnils(snils) {\r\n    var result = false;\r\n    let error = {};\r\n    if (typeof snils === 'number') {\r\n        snils = snils.toString();\r\n    } else if (typeof snils !== 'string') {\r\n        snils = '';\r\n    }\r\n    if (!snils.length) {\r\n        error.code = 1;\r\n        error.message = 'СНИЛС должен состоять из 11 цифр';\r\n    } else if (/[^0-9]/.test(snils)) {\r\n        error.code = 2;\r\n        error.message = 'СНИЛС должен состоять из 11 цифр';\r\n    } else if (snils.length !== 11) {\r\n        error.code = 3;\r\n        error.message = 'СНИЛС должен состоять из 11 цифр';\r\n    } else {\r\n        var sum = 0;\r\n        for (var i = 0; i < 9; i++) {\r\n            sum += parseInt(snils[i]) * (9 - i);\r\n        }\r\n        var checkDigit = 0;\r\n        if (sum < 100) {\r\n            checkDigit = sum;\r\n        } else if (sum > 101) {\r\n            checkDigit = parseInt(sum % 101);\r\n            if (checkDigit === 100) {\r\n                checkDigit = 0;\r\n            }\r\n        }\r\n        if (checkDigit === parseInt(snils.slice(-2))) {\r\n            result = true;\r\n        } else {\r\n            error.code = 4;\r\n            error.message = 'Некорректный СНИЛС';\r\n        }\r\n    }\r\n    return result?result:error;\r\n}\r\n\r\nexport function isEmpty(obj) {\r\n\r\n    // null and undefined are \"empty\"\r\n    if (obj == null) return true;\r\n\r\n    // Assume if it has a length property with a non-zero value\r\n    // that that property is correct.\r\n    if (obj.length > 0)    return false;\r\n    if (obj.length === 0)  return true;\r\n\r\n    // If it isn't an object at this point\r\n    // it is empty, but it can't be anything *but* empty\r\n    // Is it empty?  Depends on your application.\r\n    if (typeof obj !== \"object\") return true;\r\n\r\n    // Otherwise, does it have any properties of its own?\r\n    // Note that this doesn't handle\r\n    // toString and valueOf enumeration bugs in IE < 9\r\n    for (var key in obj) {\r\n        if (hasOwnProperty.call(obj, key)) return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nexport function isPhone (value) {\r\n    let phone = value.replace(/[^\\+0-9]/g, '');\r\n    if(phone.length < 12 || phone[2] !== '9') {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nexport function isAnyPhone (value) {\r\n    let phone = value.replace(/[^\\+0-9]/g, '');\r\n    if(phone.length < 12) {\r\n        return false;\r\n    }\r\n    return true;\r\n}","import axios from 'axios'\r\nimport {jsonHeader} from '@/helpers/axiosHeaders'\r\nimport VueCookies from 'vue-cookies'\r\nimport Vue from 'vue'\r\nimport qs from \"qs\";\r\nconst state = {\r\n    user: {\r\n        permission: []\r\n    },\r\n    userPhone: '',\r\n    isBannedPermanent: false,\r\n    isBannedPermanent: false,\r\n    isLoaded: false,\r\n    cookiesWarning: false,\r\n    hasCookiesFirstVisit: false,\r\n    firstVisitRedirect: false,\r\n}\r\n\r\n// getters\r\nconst getters = {\r\n    getUser() {\r\n        return state.user;\r\n    },\r\n    firstVisit(){\r\n        let result = VueCookies.get('firstVisit') || state.hasCookiesFirstVisit;\r\n        if(result !== null) {\r\n            if(result === 'false') {\r\n                result = false\r\n            } else {\r\n                result = true\r\n            }\r\n        } else {\r\n            result = true\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\nconst actions = {\r\n    getCurrent(context) {\r\n        return new Promise((resolve, reject) => {\r\n            if(localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined) {\r\n                axios.get(process.env.VUE_APP_API_PATH+'/user/users/', {\r\n                    headers: {'Content-Type': 'application/json;charset=utf-8','Authorization': localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false},\r\n                    withCredentials: true,\r\n\r\n                }).then(response => {\r\n                    context.commit('setLoaded', true);\r\n                    if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                        if(response.data.result.user) {\r\n                            context.commit('setUser', response.data.result);\r\n                        } else {\r\n                            context.dispatch('auth/clearUserAuthInfo', false, { root: true });\r\n                        }\r\n\r\n                    } else {\r\n                        if( +response.data.error===401){\r\n                            context.dispatch('auth/logout',{},{root:true})\r\n                        }\r\n                        if( +response.data.error===402){\r\n                            context.commit('setBanPermanent');\r\n                            context.commit('setUserPhone', response.data.result.user.login)\r\n                        }\r\n                        if(!response.data.error===402){\r\n                            context.dispatch('auth/clearUserAuthInfo', false, { root: true });\r\n                        }\r\n                    }\r\n                    resolve();\r\n                }).catch(function (error) {\r\n                    resolve();\r\n                });\r\n            } else {\r\n                axios.get(process.env.VUE_APP_API_PATH+'/public/users/', {\r\n                    headers: jsonHeader,\r\n                    withCredentials: true,\r\n                }).then(response => {\r\n                    context.commit('setLoaded', true);\r\n                    if(response.data.error > 0) {\r\n                        switch (+response.data.error ) {\r\n                            case 403:\r\n                                context.commit('auth/setBan',true, { root: true });\r\n                                break;\r\n                        }\r\n\r\n                    }\r\n                }).catch(function (error) {\r\n                });\r\n            }\r\n        });\r\n    },\r\n    save(context){\r\n        axios.put(process.env.VUE_APP_API_PATH+'/user/users/',{},{\r\n            headers: {'Content-Type': 'application/json;charset=utf-8','Authorization': localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false},\r\n            withCredentials: true,\r\n            params: {\r\n                firstName: context.rootState.auth.forms.registration.fields.firstName.value,\r\n                lastName: context.rootState.auth.forms.registration.fields.lastName.value,\r\n                secondName: context.rootState.auth.forms.registration.fields.secondName.value,\r\n                email: context.rootState.auth.forms.registration.fields.email.value,\r\n            },\r\n            paramsSerializer: function(params) {\r\n                return qs.stringify(params, {arrayFormat: 'repeat'})\r\n            },\r\n        }).then(response => {\r\n            if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                context.commit('users/setUser',response.data.result,{root:true});\r\n            } else {\r\n                if( +response.data.error===401){\r\n                    context.dispatch('auth/logout',{},{root:true})\r\n                }\r\n            }\r\n        }).catch(function (error) {\r\n        });\r\n    },\r\n    checkPhone(context,data){\r\n        return new Promise((resolve, reject) => {\r\n            axios.get(process.env.VUE_APP_API_PATH+'/public/users/',{\r\n                headers: {'Content-Type': 'application/json;charset=utf-8'},\r\n                withCredentials: true,\r\n                params: {\r\n                    checkPhone: true,\r\n                    phone: data.phone,\r\n                },\r\n                paramsSerializer: function(params) {\r\n                    return qs.stringify(params, {arrayFormat: 'repeat'})\r\n                },\r\n            }).then(response => {\r\n                if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                    resolve(response.data.result.status);\r\n                } else {\r\n                    reject();\r\n                }\r\n            }).catch(function (error) {\r\n                reject();\r\n        });\r\n        });\r\n    },\r\n    getCookiesWarning(context){\r\n        let warning = VueCookies.get('cookiesWarning');\r\n        if(warning !== null) {\r\n            if(warning === 'false') {\r\n                warning = false\r\n            }\r\n            context.commit('setCookiesWarning', warning);\r\n        } else {\r\n            context.commit('setCookiesWarning', true);\r\n        }\r\n    }\r\n}\r\n\r\nconst mutations = {\r\n    setUser(state, data) {\r\n        if(typeof data === 'object' && data.user !== undefined) {\r\n            Vue.set(state,'user',data.user);\r\n        }\r\n    },\r\n    setCookiesWarning(state, data) {\r\n        Vue.set(state,'cookiesWarning', data);\r\n    },\r\n    hideCookiesWarning(state) {\r\n        Vue.set(state,'cookiesWarning', false);\r\n        VueCookies.set('cookiesWarning',false, 31104000);// 1 year\r\n    },\r\n    setCookiesFirstVisit(){\r\n        VueCookies.set('firstVisit',false, 31104000*5);// 5 year\r\n        state.hasCookiesFirstVisit = true;\r\n        state.firstVisitRedirect = true;\r\n    },\r\n\r\n    unsetFirstVisitRedirect(){\r\n        state.firstVisitRedirect = false;\r\n    },\r\n    pushOpinion(state, data) {\r\n        if(state.user.opinions === undefined){\r\n            Vue.set(state.user,'opinions', []);\r\n        }\r\n        state.user.opinions.push({\r\n            id: data.id,\r\n            action: data.action,\r\n        });\r\n    },\r\n    setLoaded(state, data) {\r\n        Vue.set(state,'isLoaded', data);\r\n    },\r\n    setBanPermanent(state, data) {\r\n        state.isBannedPermanent = true;\r\n    },\r\n    setUserPhone(state, data){\r\n        state.userPhone =  data.replace(/\\+7/g,'');\r\n    },\r\n}\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"clickoutside\",rawName:\"v-clickoutside\",value:(_vm.tooltipClose),expression:\"tooltipClose\"}],ref:\"tooltipWrap\",staticClass:\"w-tooltip\",class:_vm.addClassWrap},[_c('span',{ref:\"tooltipBtn\",staticClass:\"tooltip__btn\",class:_vm.addClassBtn,on:{\"click\":function($event){$event.preventDefault();return _vm.btnClick($event)}}},[_vm._t(\"tooltipBtn\")],2),_c('transition',{attrs:{\"name\":\"fade-popup\"}},[(_vm.show)?_c('div',{ref:\"tooltip\",staticClass:\"tooltip\",class:[_vm.addClass, _vm.direction],style:(_vm.addStyle)},[(_vm.isBtnClose)?_c('div',{staticClass:\"tooltip__close\",on:{\"click\":function($event){$event.preventDefault();return _vm.btnClick($event)}}}):_vm._e(),_c('div',{staticClass:\"tooltip__content\",style:({'padding':!_vm.isPadding ? '0': ''})},[_vm._t(\"tooltipContent\")],2)]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"w-tooltip\" \r\n         :class=\"addClassWrap\"\r\n         ref=\"tooltipWrap\"\r\n         v-clickoutside=\"tooltipClose\">\r\n        <span ref=\"tooltipBtn\" class=\"tooltip__btn\" @click.prevent=\"btnClick\" :class=\"addClassBtn\">\r\n            <slot name=\"tooltipBtn\"></slot>\r\n        </span>\r\n        \r\n        <transition name=\"fade-popup\">\r\n            <div class=\"tooltip\" \r\n                 ref=\"tooltip\" \r\n                 v-if=\"show\" \r\n                 :class=\"[addClass, direction]\"\r\n                 :style=\"addStyle\">\r\n                <div v-if=\"isBtnClose\" class=\"tooltip__close\" @click.prevent=\"btnClick\"></div>\r\n                <div class=\"tooltip__content\" :style=\"{'padding':!isPadding ? '0': ''}\">\r\n                    <slot name=\"tooltipContent\"></slot>\r\n                </div>\r\n            </div>\r\n        </transition>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Tooltip\",\r\n        data: function() {\r\n            return {\r\n                show: false,\r\n            }\r\n        },\r\n        props: {\r\n            direction: {default: 'bottom-center-direction'},\r\n            addStyle: {default: ''},\r\n            addClass: {default: ''},\r\n            addClassWrap: {default: ''},\r\n            addClassBtn: {default: ''},\r\n            tempID: {default: ''},\r\n            isBtnClose: {\r\n                default: function () {\r\n                    return true\r\n                }\r\n            },\r\n            isPadding: {\r\n                default: function () {\r\n                    return true\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            btnClick: function() {\r\n                if(this.show) {\r\n                    this.tooltipClose();\r\n                } else {\r\n                    this.tooltipShow();\r\n                }\r\n            },\r\n            tooltipClose: function() {\r\n                let elem = this;\r\n                this.show = false;\r\n                \r\n                setTimeout(() => {\r\n                    this.$emit('tooltipclose', this.tempID);\r\n                }, 100);\r\n            },\r\n            tooltipShow: function() {\r\n                this.show = true;\r\n                this.$emit('tooltipshow', this.tempID);\r\n            },\r\n            \r\n        },\r\n        directives: {\r\n            'clickoutside': {\r\n                bind: function(el, binding, vNode) {\r\n                    if (typeof binding.value !== 'function') {\r\n                        const compName = vNode.context.name;\r\n                        let warn = `[Vue-click-outside:] provided expression '${binding.expression}' is not a function, but has to be`\r\n                        if (compName) { warn += `Found in component '${compName}'` }\r\n                        //console.warn(warn);\r\n                    }\r\n                    const bubble = binding.modifiers.bubble;\r\n                    const handler = (e) => {\r\n                        if (bubble || (!el.contains(e.target) && el !== e.target) && (!e.target.classList.contains('click-outside-tooltip'))) {\r\n                            binding.value(e)\r\n                        }\r\n                    }\r\n                    el.__vueClickOutside__ = handler;\r\n                    document.addEventListener('click', handler);\r\n                },\r\n              \r\n                unbind: function(el, binding) {\r\n                    document.removeEventListener('click', el.__vueClickOutside__);\r\n                    el.__vueClickOutside__ = null;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n</script>\r\n\r\n<style scoped>\r\n    .fade-popup-enter-active, .fade-popup-leave-active {\r\n        transition: opacity .15s;\r\n    }\r\n    .fade-popup-enter, .fade-popup-leave-to {\r\n        opacity: 0;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tooltip.vue?vue&type=template&id=4cb1c58d&scoped=true&\"\nimport script from \"./Tooltip.vue?vue&type=script&lang=js&\"\nexport * from \"./Tooltip.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tooltip.vue?vue&type=style&index=0&id=4cb1c58d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4cb1c58d\",\n  null\n  \n)\n\nexport default component.exports","/**\r\n * Это модуль для акций, а не для вьюшных экшенов\r\n * */\r\n\r\nimport axios from 'axios'\r\n/** Модуль для формирования параметров запроса axios\r\n * qs.stringify({ id: data.id }),\r\n */\r\nimport axiosCancel from 'axios-cancel';\r\n\r\naxiosCancel(axios, {\r\n    debug: false // default\r\n});\r\nimport qs from 'qs';\r\nimport {jsonHeader,wwwFormHeader} from '@/helpers/axiosHeaders'\r\nimport VueCookies from 'vue-cookies'\r\nimport Vue from 'vue'\r\n\r\nvar CancelToken = axios.CancelToken;\r\n\r\nconst state = {\r\n    categories: new Set(),\r\n    coupons: [],\r\n    breadcrumbs: [],\r\n    detail: {},\r\n    isLoadNextPage: true,\r\n    showSectionMenu: false,\r\n    hidePromo: false,\r\n    isLoad: false,\r\n    isLoadDetail: false,\r\n    viewType: '',\r\n    showMap: false,\r\n    previousSection: 0,\r\n    coopTab: '',\r\n    sort: {\r\n        current: {\r\n            order: 'new',\r\n            by: 'desc',\r\n            name: 'Новизне'\r\n        },\r\n        order: {\r\n            price: {\r\n                code: 'price',\r\n                name: 'Экономии'\r\n            },\r\n            discount: {\r\n                code: 'discount',\r\n                name: 'Скидке'\r\n            },\r\n            popular: {\r\n                code: 'popular',\r\n                name: 'Популярности'\r\n            },\r\n            new: {\r\n                code: 'new',\r\n                name: 'Новизне'\r\n            },\r\n        },\r\n        by: {\r\n            asc: 'asc',\r\n            desc: 'desc',\r\n        },\r\n        show: false,\r\n    },\r\n    page: 1,\r\n    favorites: {\r\n        items: [],\r\n        section: []\r\n    },\r\n    visited: {\r\n        items: []\r\n    },\r\n    cancelToken: false,\r\n    scrollToCoupon: false,\r\n    couponId: '',\r\n    scrollToCatalogList: false\r\n}\r\n\r\nconst findCategory = function (categories, id) {\r\n    let categoryReturn = false;\r\n    for (let category of categories) {\r\n        if(category.id === id) {\r\n            categoryReturn = category;\r\n        }\r\n        if (!categoryReturn && category.sections.size > 0) {\r\n            let categoryFind = findCategory(category.sections, id);\r\n            if (categoryFind) {\r\n                categoryReturn = categoryFind;\r\n            }\r\n        }\r\n        if(categoryReturn) {\r\n            break;\r\n        }\r\n    }\r\n    return categoryReturn;\r\n}\r\n\r\nconst buildBreadcrumbs = function (categories, id) {\r\n    let categoryReturn = false;\r\n    let breadcrumbs = [];\r\n    for (let category of categories) {\r\n        if(category.id === id) {\r\n            categoryReturn = category;\r\n            breadcrumbs.push(category);\r\n        }\r\n        if (!categoryReturn && category.sections.size > 0) {\r\n            let categoryFind = buildBreadcrumbs(category.sections, id);\r\n            if (categoryFind) {\r\n                categoryReturn = categoryFind;\r\n                breadcrumbs = [...breadcrumbs, categoryFind];\r\n            }\r\n        }\r\n        if(categoryReturn) {\r\n            break;\r\n        }\r\n    }\r\n    return breadcrumbs;\r\n}\r\n\r\n// getters\r\nconst getters = {\r\n    getTitle: (state, getters, rootState, rootGetters) => id => {\r\n        let category = findCategory(state.categories, id);\r\n        let title;\r\n        if(!id) {\r\n            title = 'Все скидки г. '+rootState.cities.current.name;\r\n        }\r\n        if(category) {\r\n            title = category.name;\r\n        }\r\n        return title;\r\n    },\r\n    getTotalCoupons: state => {\r\n        let sum = 0;\r\n        for(let category of state.categories) {\r\n            sum += category.count\r\n        }\r\n        return sum;\r\n    },\r\n    getCurrentSort: state => {\r\n      return state.sort.current.name;\r\n    },\r\n    getCoopTab: state => {\r\n      return state.coopTab;\r\n    },\r\n    getCouponsBySection: state => id => {\r\n        let items = [];\r\n        if(state.coupons.length > 0) {\r\n            if(id > 0) {\r\n                for(let coupon of state.coupons) {\r\n                    if(coupon.id === id) {\r\n                        items.push(coupon);\r\n                    }\r\n                }\r\n            } else {\r\n                items = state.coupons;\r\n            }\r\n        } else {\r\n            items = [];\r\n        }\r\n        return items;\r\n    },\r\n    getFavorites: state => id => {\r\n        let items = [];\r\n        if(state.coupons.length > 0) {\r\n            for(let coupon of state.coupons) {\r\n                if(coupon.favorite) {\r\n                    items.push(coupon);\r\n                }\r\n            }\r\n        } else {\r\n            items = [];\r\n        }\r\n        return items;\r\n    },\r\n}\r\n\r\nconst actions = {\r\n    activeCategory (context, data) {\r\n        let category = findCategory(state.categories, data.currentSection);\r\n        if(category.count > 0 && !state.isLoad) {\r\n            context.commit('activeCategory', {currentSection: data.currentSection});\r\n            context.commit('hideMap');\r\n            context.dispatch('initialCouponState');\r\n            if(data.isLoad === true){\r\n                context.dispatch('getCouponList', {\r\n                    currentSection: data.currentSection,\r\n                    reload: true\r\n                })\r\n            }\r\n        } else {\r\n            context.dispatch('initialCouponState');\r\n        }\r\n    },\r\n    goCoupon (context, data) {\r\n        //context.commit('actions/activeCategory', {id:data.id});\r\n        //app.$router.push('/id'+data.id);\r\n        context.commit('setViewType', 'detail');\r\n        if(!state.detail || data.id !== state.detail.id){\r\n            context.dispatch('initDetailPage', {route: {params: {id:data.id}}});\r\n        }\r\n    },\r\n    getCategoriesList(context, data) {\r\n        if(state.categories.size === 0 || data.reload) {\r\n            axios.get(process.env.VUE_APP_API_PATH+'/public/categories/',{\r\n                headers: jsonHeader,\r\n                withCredentials: true,\r\n                params: {\r\n                    city: context.rootState.cities.current.xmlId,\r\n                },\r\n            }).then(response => {\r\n                if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                    if(data !== undefined && data.currentSection) {\r\n                        response.data.result.currentSection = data.currentSection;\r\n                    }\r\n                    context.commit('setCategoriesList', response.data.result);\r\n                    if(data !== undefined && data.currentSection) {\r\n                        let breadcrumbs =  buildBreadcrumbs(state.categories, data.currentSection);\r\n                        breadcrumbs.pop();\r\n                        context.commit('setBreadcrumbs', breadcrumbs);\r\n                    }\r\n                }\r\n            }).catch(function (error) {\r\n            });\r\n        }\r\n\r\n    },\r\n    getCouponList(context, data) {\r\n        return new Promise((resolve, reject) => {\r\n            if(!state.isLoad && state.isLoadNextPage || data.reload){\r\n                axios.cancelAll();\r\n                context.commit('setLoad', true);\r\n                if(data.reload) {\r\n                    context.commit('isLoadNextPage', true);\r\n                }\r\n                let param = {\r\n                    sort: state.sort.current,\r\n                    page: state.page\r\n                };\r\n                context.commit('setBreadcrumbs', []);\r\n                if(!!data.currentSection) {\r\n                    param.section = data.currentSection;\r\n                    let breadcrumbs =  buildBreadcrumbs(state.categories, data.currentSection);\r\n                    breadcrumbs.pop();\r\n                    context.commit('setBreadcrumbs', breadcrumbs);\r\n                }\r\n\r\n                if(data.isSearch === true) {\r\n                    param.q = context.rootState.search.query\r\n                }\r\n\r\n                if(data.favorites === true) {\r\n                    param.favorites = { ...state.favorites.items };\r\n                    context.commit('setSectionFavorites', []);\r\n                }\r\n\r\n                if(data.visited === true) {\r\n                    param.visited = { ...state.visited.items };\r\n                    param.section = ''\r\n                }\r\n\r\n                if(data.favorites !== true && data.visited !== true) {\r\n                    param.city = context.rootState.cities.current.xmlId\r\n                }\r\n                axios.get(process.env.VUE_APP_API_PATH+'/public/coupons/',{\r\n                    requestId: 'getCouponList',\r\n                    cancelToken: new CancelToken(function executor(c) {\r\n                        context.commit('setCancelToken', c);\r\n                    }),\r\n                    withCredentials: true,\r\n                    params: param,\r\n                    paramsSerializer: function(params) {\r\n                        return qs.stringify(params, {arrayFormat: 'repeat'})\r\n                    },\r\n                    headers: jsonHeader,\r\n                }).then(response => {\r\n                    context.commit('setLoad', false);\r\n                    resolve();\r\n                    if(data.reload){\r\n                        context.commit('setCouponList', {items: []});\r\n                    }\r\n                    if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                        if(data !== undefined && data.currentSection) {\r\n                            response.data.result.currentSection = data.currentSection;\r\n                        }\r\n                        context.commit('setCouponList', response.data.result);\r\n                        if(response.data.result.sectionFavorites){\r\n                            context.commit('setSectionFavorites', response.data.result.sectionFavorites);\r\n                        }\r\n                        if(state.favorites.items.length < 10 && data.favorites === true || state.visited.items.length < 3 && data.visited === true || response.data.result.items === null || response.data.result.items === undefined) {\r\n                            context.commit('isLoadNextPage', false);\r\n                        } else {\r\n                            context.commit('isLoadNextPage', response.data.result.isLoadNextPage);\r\n                        }\r\n                        if(data.visited !== true) {\r\n                            context.commit('incrementPage');\r\n                        }\r\n                    }\r\n                }).catch(function (error) {\r\n                    context.commit('setLoad', false);\r\n                    resolve();\r\n                });\r\n            }\r\n        });\r\n    },\r\n    getSimilars(context, data) {\r\n        return new Promise((resolve, reject) => {\r\n            if(!state.isLoad && state.isLoadNextPage){\r\n                context.commit('setLoad', true);\r\n                let param = {\r\n                    page: state.page,\r\n                    similar: data.id,\r\n                    city: context.rootState.cities.current.xmlId,\r\n                    sort: {\r\n                        order: 'popular',\r\n                        by: 'desc',\r\n                    },\r\n                }\r\n                axios.get(process.env.VUE_APP_API_PATH + '/public/coupons_similar/', {\r\n                    withCredentials: true,\r\n                    params: param,\r\n                    paramsSerializer: function (params) {\r\n                        return qs.stringify(params, {arrayFormat: 'repeat'})\r\n                    },\r\n                    headers: {\r\n                        'Content-Type': 'application/json;charset=utf-8',\r\n                        'Authorization': localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false\r\n                    },\r\n                }).then(response => {\r\n                    if (typeof response.data === 'object' && +response.data.error === 0) {\r\n                        context.commit('setCouponDetailSimilar', response.data.result.similar);\r\n                        context.commit('isLoadNextPage', response.data.result.isLoadNextPage);\r\n                    } else {\r\n                        if(typeof response.data !== 'object'){\r\n                            context.commit('setErrorLoad', true);\r\n                        }\r\n                        else if (+response.data.error === 401) {\r\n                            context.dispatch('auth/logout', {}, {root: true})\r\n                        }\r\n                    }\r\n                    context.commit('incrementPage');\r\n                    context.commit('setLoad', false);\r\n                    resolve();\r\n                }).catch(function (error) {\r\n                    resolve();\r\n                });\r\n            } else {\r\n                resolve();\r\n            }\r\n        });\r\n    },\r\n    getViewType(context, data) {\r\n        let id = data.id;\r\n        let category = findCategory(state.categories, id);\r\n        let result;\r\n        if(id > 0) {\r\n            if(category) {\r\n                result = 'list';\r\n            } else {\r\n                let item = state.coupons.filter(coupon => +coupon.id === +id);\r\n                if(item.length > 0) {\r\n                    result = 'detail';\r\n                } else {\r\n                    result = 'notFound';\r\n                }\r\n            }\r\n        } else {\r\n            result = 'list';\r\n        }\r\n        context.commit('setViewType', result);\r\n    },\r\n    setFavorite(context, data) {\r\n        let favorites = VueCookies.get('favorites');\r\n        if(favorites === null){\r\n            favorites = {\r\n                items: []\r\n            };\r\n        }\r\n        let index = favorites.items.indexOf(data.id);\r\n        if(index !== -1) {\r\n            favorites.items.splice(index, 1);\r\n        } else {\r\n            favorites.items.push(data.id);\r\n        }\r\n        VueCookies.set('favorites', favorites);\r\n        if(data.isDetail){\r\n            context.commit('updateCouponDetail', data);\r\n        } else if(data.isSimilar){\r\n            context.commit('updateCouponSimilar', data);\r\n        } else {\r\n            context.commit('updateCoupon', data);\r\n        }\r\n        context.commit('setFavorites', favorites.items);\r\n    },\r\n    setFavoritesCookies(context) {\r\n        let favorites = VueCookies.get('favorites');\r\n        if(favorites !== null) {\r\n            context.commit('setFavorites', favorites.items);\r\n        }\r\n    },\r\n    setVisited(context, data) {\r\n        let visited = VueCookies.get('visited');\r\n        if(visited === null){\r\n            visited = {\r\n                items: []\r\n            };\r\n        }\r\n        let index = visited.items.indexOf(data.id);\r\n        if(index === -1) {\r\n            visited.items.push(data.id);\r\n            VueCookies.set('visited', visited);\r\n            context.commit('setVisited', visited.items);\r\n        }\r\n    },\r\n    setVisitedCookies(context) {\r\n        let visited = VueCookies.get('visited');\r\n        if(visited !== null) {\r\n            context.commit('setVisited', visited.items);\r\n        }\r\n    },\r\n    initialCouponState(context) {\r\n        context.commit('isLoadNextPage', true);\r\n        context.commit('setPage', 1);\r\n        context.commit('setCouponList', {items: []});\r\n        /*if(typeof state.cancelToken  === 'function') {\r\n            state.cancelToken();\r\n            context.commit('setCancelToken', false);\r\n        }*/\r\n        context.commit('setViewType', 'list');\r\n        context.commit('hideMap');\r\n    },\r\n    initialSearchState(context) {\r\n        context.commit('isLoadNextPage', true);\r\n        context.commit('setPage', 1);\r\n        context.commit('setCouponList', {items: []});\r\n        context.commit('setViewType', 'list');\r\n        context.commit('hideMap');\r\n\r\n    },\r\n    initialCatalogState(context, data) {\r\n        context.commit('isLoadNextPage', true);\r\n        context.commit('setPage', 1);\r\n        context.commit('hideMap');\r\n        context.commit('setCouponList', {items: []});\r\n        if(typeof state.cancelToken  === 'function') {\r\n            state.cancelToken();\r\n            context.commit('setCancelToken', false);\r\n        }\r\n\r\n        /*if(data.route.path === '/') {\r\n            context.commit('setSort', {order: state.sort.order.new.code, by: state.sort.by.desc});\r\n        } else {\r\n            context.commit('setSort', {order: state.sort.order.price.code, by: state.sort.by.desc});\r\n        }*/\r\n    },\r\n    initDetailPage(context, data) {\r\n        return new Promise((resolve, reject) => {\r\n            context.commit('opinions/clearData', {}, {root: true});\r\n            context.commit('setCouponDetail', {});\r\n            context.commit('isLoadNextPage', true);\r\n            context.commit('setPage', 1);\r\n            if (!state.isLoadDetail && data.route.params.id !== undefined) {\r\n                context.commit('setLoadDetail', true);\r\n                axios.get(process.env.VUE_APP_API_PATH + '/public/coupons/' + data.route.params.id, {\r\n                    withCredentials: true,\r\n                    params: {\r\n                        pageSize: 3,\r\n                        city: context.rootState.cities.current.xmlId,\r\n                        sort: {\r\n                            order: 'popular',\r\n                            by: 'desc',\r\n                        },\r\n                    },\r\n                    paramsSerializer: function (params) {\r\n                        return qs.stringify(params, {arrayFormat: 'repeat'})\r\n                    },\r\n                    headers: {\r\n                        'Content-Type': 'application/json;charset=utf-8',\r\n                        'Authorization': localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false\r\n                    },\r\n                }).then(response => {\r\n                    context.commit('setLoadDetail', false);\r\n                    if (response.data.result.item === false || response.data.result.viewType === 'notFound') {\r\n\r\n                    } else if (typeof response.data === 'object' && +response.data.error === 0) {\r\n                        let favorites = VueCookies.get('favorites');\r\n                        if (favorites === null) {\r\n                            favorites = {\r\n                                items: []\r\n                            };\r\n                        }\r\n                        let index = favorites.items.indexOf(data.route.params.id);\r\n                        if (index !== -1) {\r\n                            response.data.result.item.favorite = true\r\n                        } else {\r\n                            response.data.result.item.favorite = false\r\n                        }\r\n                        for (let similarIndex in response.data.result.item.similars) {\r\n                            let index = favorites.items.indexOf(response.data.result.item.similars[similarIndex].id);\r\n                            if (index !== -1) {\r\n                                response.data.result.item.similars[similarIndex].favorite = true\r\n                            } else {\r\n                                response.data.result.item.similars[similarIndex].favorite = false\r\n                            }\r\n                        }\r\n                        context.commit('setCouponDetail', response.data.result);\r\n                        context.dispatch('setVisited', response.data.result.item);\r\n                    } else {\r\n                        if (+response.data.error === 401) {\r\n                            context.dispatch('auth/logout', {}, {root: true})\r\n                        }\r\n                    }\r\n                    resolve();\r\n                }).catch(function (error) {\r\n                    context.commit('setLoadDetail', false);\r\n                    resolve();\r\n                });\r\n            } else {\r\n                resolve();\r\n            }\r\n        });\r\n    },\r\n\r\n    getMarkersByAddresses(context, data) {\r\n        return new Promise((resolve, reject) => {\r\n            for(let index in data) {\r\n                setTimeout(function () {\r\n                    axios.get(process.env.VUE_APP_API_PATH+'/'+data.type+'/menus/',{\r\n                        headers: {'Content-Type': 'application/json;charset=utf-8','Authorization': localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false},\r\n                        params: {\r\n                            type: 'action',\r\n                        },\r\n                        paramsSerializer: function(params) {\r\n                            return qs.stringify(params, {arrayFormat: 'repeat'})\r\n                        },\r\n                        withCredentials: true,\r\n\r\n                    }).then(response => {\r\n                        if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                            context.commit('setActionMenu', response.data.result);\r\n                            resolve();\r\n                        } else {\r\n                            if( +response.data.error===401){\r\n                                context.dispatch('auth/logout',{},{root:true})\r\n                            }\r\n                        }\r\n                    }).catch(function (error) {\r\n                        reject();\r\n                    });\r\n                }, 2000);\r\n            }\r\n        });\r\n    },\r\n}\r\n\r\nlet setShowCategoriesList = function (categories, currentSection) {\r\n    let items = new Set();\r\n    for(let category of categories) {\r\n        let item = category;\r\n        item.show = +item.id === +currentSection;\r\n        if(category.sections.size > 0 || item.sections.length > 0) {\r\n            Vue.set(item, 'sections',setShowCategoriesList(item.sections, currentSection));\r\n            for(let child of item.sections) {\r\n                if(child.show === true ) {\r\n                    item.show = true;\r\n                }\r\n            }\r\n        }\r\n        items.add(item);\r\n    }\r\n    return items;\r\n}\r\n\r\nlet toggleSection = function (categories, currentSection) {\r\n    let items = new Set();\r\n    for(let category of categories) {\r\n        let item = category;\r\n        if(+category.id === +currentSection) {\r\n            item.show = !category.show\r\n        } else {\r\n            if(category.sections.size > 0 || item.sections.length > 0) {\r\n                category.sections = toggleSection(category.sections, currentSection);\r\n            }\r\n        }\r\n        items.add(item);\r\n    }\r\n    return items;\r\n}\r\n\r\nconst mutations = {\r\n    setCategoriesList(state, data) {\r\n        Vue.set(state, 'categories',setShowCategoriesList(data.items, data.currentSection));\r\n    },\r\n    setCoopTab(state, data) {\r\n        state.coopTab = data;\r\n    },\r\n    setCouponList(state, data) {\r\n        if(data !== null && data.items !== null) {\r\n            if(state.page < 2) {\r\n                state.coupons = [];\r\n            }\r\n            for (let itemIndex in data.items) {\r\n                if(data.items.hasOwnProperty(itemIndex)) {\r\n                    let item = data.items[itemIndex];\r\n                    if(state.favorites.items.indexOf(item.id) !== -1) {\r\n                        item.favorite = true;\r\n                    }\r\n                    let itemFind = state.coupons.find(coupon => +coupon.id === +item.id);\r\n                    if(!itemFind){\r\n                        state.coupons.push(item);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    setCouponDetailSimilar(state, data) {\r\n        if(data !== null && data.items !== null) {\r\n            if(state.page < 2) {\r\n                state.detail.similars = [];\r\n            }\r\n            for (let itemIndex in data.items) {\r\n                if(data.items.hasOwnProperty(itemIndex)) {\r\n                    let item = data.items[itemIndex];\r\n                    if(state.favorites.items.indexOf(item.id) !== -1) {\r\n                        item.favorite = true;\r\n                    }\r\n                    let itemFind = state.detail.similars.find(coupon => +coupon.id === +item.id);\r\n                    if(!itemFind){\r\n                        state.detail.similars.push(item);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    updateCouponDetail(state, data) {\r\n        Vue.set(state.detail, 'favorite', !data.favorite);\r\n    },\r\n    updateCoupon(state, data) {\r\n        for (let itemIndex in state.coupons) {\r\n            if(data.id === state.coupons[itemIndex].id) {\r\n                data.favorite = !data.favorite;\r\n                Vue.set(state.coupons, itemIndex, data);\r\n            }\r\n        }\r\n    },\r\n    updateCouponSimilar(state, data) {\r\n        for (let itemIndex in state.detail.similars) {\r\n            if(data.id === state.detail.similars[itemIndex].id) {\r\n                data.favorite = !data.favorite;\r\n                Vue.set(state.detail.similars, itemIndex, data);\r\n            }\r\n        }\r\n    },\r\n    setCouponDetail(state, data) {\r\n        Vue.set(state, 'detail', data.item);\r\n    },\r\n    incrementCouponDetailCountOpinion(state) {\r\n        Vue.set(state.detail, 'opinionCount', state.detail.opinionCount +1);\r\n    },\r\n    activeCategory(state, data) {\r\n        state.categories = setShowCategoriesList(state.categories, data.currentSection);\r\n    },\r\n    toggleSection(state, data) {\r\n        state.categories = toggleSection(state.categories, data.currentSection);\r\n    },\r\n    isLoadNextPage(state, data) {\r\n        state.isLoadNextPage = data;\r\n    },\r\n    setViewType(state, data) {\r\n        state.viewType = data;\r\n    },\r\n    toggleMap(state) {\r\n        state.showMap = !state.showMap;\r\n    },\r\n    hideMap(state) {\r\n        state.showMap = false;\r\n    },\r\n    setLoad(state, data) {\r\n        state.isLoad = data;\r\n    },\r\n    setLoadDetail(state, data) {\r\n        state.isLoadDetail = data;\r\n    },\r\n    setSort(state, data) {\r\n        state.sort.current = data;\r\n    },\r\n    setShowSort(state, data) {\r\n        state.sort.show = data;\r\n    },\r\n    setPage(state, data) {\r\n        state.page = data;\r\n    },\r\n    incrementPage(state) {\r\n        state.page++;\r\n    },\r\n    setFavorites(state, data) {\r\n        state.favorites.items = data;\r\n    },\r\n    setSectionFavorites(state, data) {\r\n        state.favorites.section = data;\r\n    },\r\n    setVisited(state, data) {\r\n        state.visited.items = data;\r\n    },\r\n    previousSection(state, data) {\r\n        state.previousSection = data;\r\n    },\r\n    setCancelToken(state, data) {\r\n        state.cancelToken = data;\r\n    },\r\n    setCouponToScroll(state,data){\r\n      state.couponId = data;\r\n      state.scrollToCoupon = true;\r\n    },\r\n    cancelCouponToScroll(state){\r\n      state.scrollToCoupon = false;\r\n      state.couponId = '';\r\n    },\r\n    scrollToCatalogList(state,data){\r\n      state.scrollToCatalogList = data;\r\n    },\r\n    sectionMenuOpen(state, data) {\r\n        state.showSectionMenu = true;\r\n        document.getElementsByTagName('body')[0].classList.add('nonscroll');\r\n    },\r\n    sectionMenuClose(state, data) {\r\n        state.showSectionMenu = false;\r\n        document.getElementsByTagName('body')[0].classList.remove('nonscroll');\r\n    },\r\n    setBreadcrumbs(state, data) {\r\n        state.breadcrumbs = data;\r\n    },\r\n}\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n}\r\n","/**\r\n * Это модуль для простых страниц\r\n * */\r\n\r\nimport axios from 'axios'\r\n/** Модуль для формирования параметров запроса axios\r\n * qs.stringify({ id: data.id }),\r\n */\r\nimport qs from 'qs';\r\nimport {jsonHeader,wwwFormHeader} from '@/helpers/axiosHeaders'\r\nimport VueCookies from 'vue-cookies'\r\nimport Vue from 'vue'\r\n\r\nconst state = {\r\n    pageContent: [],\r\n}\r\n\r\n// getters\r\nconst getters = {\r\n    getPageContent: state => id => {\r\n        let item = state.pageContent.find(content => +content.id === +id);\r\n        return item !== undefined ? item : {};\r\n    },\r\n}\r\n\r\nconst actions = {\r\n    getPageContent(context, data) {\r\n        if (typeof(data.pageContentID) !== 'undefined') {\r\n            if(context.state.pageContent.length === 0 || context.state.pageContent.filter(content => +content.id === +data.pageContentID).length === 0){\r\n                let query = {};\r\n                query.ID = data.pageContentID;\r\n                axios.get(process.env.VUE_APP_API_PATH+'/public/content/', {\r\n                    headers: jsonHeader,\r\n                    params: query,\r\n                }).then(response => {\r\n                    if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                        context.commit('setPageContent', response.data.result);\r\n                    }\r\n                }).catch(function (error) {\r\n                });\r\n            }\r\n        }\r\n    },\r\n}\r\n\r\nconst mutations = {\r\n    setPageContent(state, data) {\r\n        state.pageContent.push(data.item)\r\n    },\r\n}\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=style&index=0&id=4cb1c58d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=style&index=0&id=4cb1c58d&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"user-blocked\"},[_c('svg',{staticClass:\"icon mb8\"},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#emoji-stop\"}})]),_c('div',{staticClass:\"text-color-red text-center text-size-l text-bold\"},[_vm._v(\"\\n            Пользователь\"),_c('br'),_vm._v(\"\\n            #\"+_vm._s(_vm.userPhone)),_c('br'),_vm._v(\"\\n            заблокирован!\\n        \")]),_c('div',{staticClass:\"text-size-m text-center mt8\"},[_vm._v(\"\\n            Если это произошло по ошибке,\"),_c('br'),_vm._v(\"\\n            напишите руководителю проекта\"),_c('br'),_vm._v(\"\\n            на \"),_c('a',{attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.openMailZems()}}},[_vm._v(\"skidki@zems.pro\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"user-blocked\">\r\n            <svg class=\"icon mb8\">\r\n                <use xlink:href=\"@/assets/img/mob-sprite.svg#emoji-stop\"></use>\r\n            </svg>\r\n            <div class=\"text-color-red text-center text-size-l text-bold\">\r\n                Пользователь<br>\r\n                #{{userPhone}}<br>\r\n                заблокирован!\r\n            </div>\r\n            <div class=\"text-size-m text-center mt8\">\r\n                Если это произошло по ошибке,<br>\r\n                напишите руководителю проекта<br>\r\n                на <a href=\"javascript:void(0);\" @click=\"openMailZems()\">skidki@zems.pro</a>\r\n            </div>\r\n        </div>\r\n        <!--<div class=\"popup-error --has-zems\">\r\n            <div class=\"popup-error__title\">Слишком много попыток входа!</div>\r\n            \r\n            <div class=\"popup-error__text\">\r\n                Вы заблокированы на 12 часов.<br>\r\n                Если у вас что-то срочное,  пишите на <a class=\"link-nostyle text-bold\" href=\"mailto:skidki@zems.pro\">skidki@zems.pro</a>\r\n            </div>\r\n            \r\n            <div class=\"mt32\">\r\n                <button class=\"btn btn--red\" @click=\"close(popups.publicAuth.name)\">Даёптвоюжмать!!!</button>\r\n            </div>\r\n        </div>-->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {mapState} from 'vuex'\r\n\r\n    export default {\r\n        name: \"ManyAuth\",\r\n        methods: {\r\n            close: function (popup) {\r\n                this.$store.commit('popups/close', {name: popup});\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                popups: state => state.popups.items,\r\n                userPhone: state => state.users.userPhone,\r\n            }),\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManyAuth.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManyAuth.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ManyAuth.vue?vue&type=template&id=743e1a3f&scoped=true&\"\nimport script from \"./ManyAuth.vue?vue&type=script&lang=js&\"\nexport * from \"./ManyAuth.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"743e1a3f\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupInfoBlock.vue?vue&type=style&index=0&id=cb4135fe&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupInfoBlock.vue?vue&type=style&index=0&id=cb4135fe&scoped=true&lang=css&\"","/**\r\n * Это модуль для отправки письма директору\r\n * */\r\n\r\nimport axios from 'axios'\r\n/** Модуль для формирования параметров запроса axios\r\n * qs.stringify({ id: data.id }),\r\n */\r\nimport qs from 'qs';\r\nimport {jsonHeader, wwwFormHeader} from '@/helpers/axiosHeaders'\r\nimport VueCookies from 'vue-cookies'\r\n\r\nimport Vue from 'vue'\r\n\r\nconst state = {\r\n    data: {},\r\n    status: false,\r\n}\r\n\r\n// getters\r\nconst getters = {\r\n    getList: state => id => {\r\n        return state.data;\r\n    },\r\n}\r\n\r\nconst actions = {\r\n    getList(context, data) {\r\n        let query = {};\r\n\r\n        axios.get(process.env.VUE_APP_API_PATH+'/public/mail/', {\r\n            headers: jsonHeader,\r\n            params: query,\r\n        }).then(response => {\r\n            if (typeof response.data === 'object' && +response.data.error === 0) {\r\n                context.commit('setData', response.data.result);\r\n            }\r\n        }).catch(function (error) {\r\n        });\r\n    },\r\n    sendMessage(context, data) {\r\n\r\n        let query = {message: data.message};\r\n\r\n        axios.get(process.env.VUE_APP_API_PATH+'/public/mail/', {\r\n            headers: jsonHeader,\r\n            params: query,\r\n        }).then(response => {\r\n            if (typeof response.data === 'object' && +response.data.error === 0) {\r\n                context.commit('setStatus', response.data.error);\r\n            }\r\n        }).catch(function (error) {\r\n        });\r\n    },\r\n}\r\n\r\nconst mutations = {\r\n    setData(state, data) {\r\n        Vue.set(state, 'data', data.items);\r\n    },\r\n    setStatus(state, data) {\r\n        Vue.set(state, 'status', !data.error);\r\n    },\r\n}\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"popup-block\",class:[{open:_vm.show},_vm.addClass]},[_c('transition',{attrs:{\"name\":\"fade-popup\"}},[(_vm.show)?_c('div',{staticClass:\"popup\"},[(!_vm.isSetBlank)?_c('div',{staticClass:\"popup-header\"},[_c('div',{staticClass:\"popup-name\"},[_vm._v(_vm._s(_vm.title))]),(_vm.isBtnClose)?_c('div',{staticClass:\"close\",on:{\"click\":_vm.close}},[_c('span',{staticClass:\"i icon-close\"},[_c('svg',{staticClass:\"icon\"},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#close\"}})])])]):_vm._e()]):_vm._e(),_c('div',{ref:\"overlayPopup\",class:{'popup-content':!_vm.isSetBlank}},[_c('div',{class:{'inner':!_vm.isSetBlank}},[_vm._t(\"default\")],2)])]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"popup-block\" :class=\"[{open:show},addClass]\">\r\n        <transition name=\"fade-popup\">\r\n            <div class=\"popup\" v-if=\"show\">\r\n                <div class=\"popup-header\" v-if=\"!isSetBlank\">\r\n                    <div class=\"popup-name\">{{title}}</div>\r\n                    <div class=\"close\" v-if=\"isBtnClose\" @click=\"close\"><span class=\"i icon-close\">\r\n                    <svg class=\"icon\">\r\n                      <use xlink:href=\"@/assets/img/mob-sprite.svg#close\"></use>\r\n                    </svg></span>\r\n                    </div>\r\n                </div>\r\n                <div :class=\"{'popup-content':!isSetBlank}\"\r\n                     ref=\"overlayPopup\">\r\n                    <div :class=\"{'inner':!isSetBlank}\">\r\n                        <slot></slot>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </transition>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Popup\",\r\n        props: {\r\n            width: {\r\n                default: function () {\r\n                    return 320\r\n                }\r\n            },\r\n            addClass: {default: ''},\r\n            show: {\r\n                default: function () {\r\n                    return false\r\n                }\r\n            },\r\n            isSetTop: {\r\n                default: function () {\r\n                    return false\r\n                }\r\n            },\r\n            isBtnClose: {\r\n                default: function () {\r\n                    return true\r\n                }\r\n            },\r\n            isSetStyled: {\r\n                default: function () {\r\n                    return false\r\n                }\r\n            },\r\n            isSetBlank: {\r\n                default: function () {\r\n                    return false\r\n                }\r\n            },\r\n            isResize: {\r\n                default: function () {\r\n                    return false\r\n                }\r\n            },\r\n            name: '',\r\n            title: {\r\n                default: ''\r\n            },\r\n        },\r\n        watch: {\r\n            show: function () {\r\n                if (this.show) {\r\n                    if (this.isSetTop) {\r\n                        this.updateViewportSize();\r\n                    }\r\n                    document.getElementsByTagName('body')[0].classList.add(\"nonscroll\");\r\n                }\r\n            },\r\n            isResize: function (newV, oldQV) {\r\n                if (this.isSetTop && (newV !== oldQV)) {\r\n                    this.updateViewportSize();\r\n                }\r\n            },\r\n        },\r\n        data: function () {\r\n            return {\r\n                top: 20,\r\n            }\r\n        },\r\n        mounted: function () {\r\n            if (this.isSetTop) {\r\n                this.topListener();\r\n            }\r\n        },\r\n        methods: {\r\n            updateViewportSize: function () {\r\n                this.$nextTick(function () {\r\n                    if (typeof(this.$refs.overlayPopup) !== 'undefined') {\r\n                        let top = this.getViewportSize().h - this.$refs.overlayPopup.clientHeight;\r\n                        if (top < 1) {\r\n                            top = 1\r\n                        }\r\n                        this.top = (top / 2);\r\n                    }\r\n                });\r\n            },\r\n            updatePopupStyled: function () {\r\n                this.$nextTick(function () {\r\n                    this.$refs.overlayPopup.classList.add('popup--styled')\r\n                })\r\n            },\r\n            topListener: function () {\r\n                let self = this;\r\n                this.$nextTick(function () {\r\n                    self.updateViewportSize();\r\n                    window.addEventListener('resize', self.updateViewportSize);\r\n                });\r\n\r\n            },\r\n\r\n            getViewportSize: function () {\r\n                let d = window.document.querySelector(\"html\");\r\n                return {w: d.clientWidth, h: d.clientHeight};\r\n            },\r\n\r\n            close: function () {\r\n                if(this.show && this.name){\r\n                    this.$store.commit('popups/close', {name: this.name});\r\n                    this.$emit('close');\r\n                    document.getElementsByTagName('body')[0].classList.remove(\"nonscroll\");\r\n                } else {\r\n                    this.$emit('close');\r\n                    document.getElementsByTagName('body')[0].classList.remove(\"nonscroll\");\r\n                }\r\n                this.$refs.overlayPopup.scrollTop = 0;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .fade-popup-enter-active, .fade-popup-leave-active {\r\n        transition: transform .3s ease;\r\n        -webkit-transform: translateX(0);\r\n        -ms-transform: translateX(0);\r\n        transform: translateX(0);\r\n    }\r\n    .fade-popup-enter, .fade-popup-leave-to {\r\n        transform: translateX(320px);\r\n    }\r\n    .popup{\r\n        left: 0;\r\n        top: 0;\r\n        z-index: 8;\r\n        position: relative;\r\n    }\r\n    .popup-block{\r\n        width: 320px;\r\n        overflow: hidden;\r\n        position: fixed;\r\n        z-index: 9;\r\n        left: 0;\r\n        top: 0;\r\n    }\r\n    .popup-block.open .popup{\r\n        min-height: 100vh;\r\n    }\r\n    .popup-block.open{\r\n        min-height: 100vh;\r\n    }\r\n    .popup-block.popup--gallery{\r\n      z-index: 1000 !important;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Popup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Popup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Popup.vue?vue&type=template&id=177e8b82&scoped=true&\"\nimport script from \"./Popup.vue?vue&type=script&lang=js&\"\nexport * from \"./Popup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Popup.vue?vue&type=style&index=0&id=177e8b82&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"177e8b82\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.tag,{tag:\"component\",staticClass:\"btn\",class:_vm.style,attrs:{\"href\":\"#\",\"disabled\":_vm.disabled}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <component :is=\"tag\" href=\"#\" :class=\"style\" class=\"btn\" :disabled=\"disabled\">\r\n        <slot></slot>\r\n    </component>\r\n</template>\r\n<script>\r\n    export default {\r\n        props: {\r\n            type:{\r\n                default: function () {\r\n                    return 'normal'\r\n                }\r\n            },\r\n            tag: {\r\n                type: String,\r\n                default: 'a'\r\n            },\r\n            size:  {\r\n                type: String,\r\n                default: 'normal' // варианты: small\r\n            },\r\n        },\r\n        computed: {\r\n            disabled(){\r\n                return (this.type != 'normal');\r\n            },\r\n            style(){\r\n                if(this.type == 'load'){\r\n                    return 'btn--preloader '+(this.size === 'small'?'size-s':'');\r\n                }\r\n                if(this.type == 'ok'){\r\n                    return 'btn--preloader --ok '+(this.size === 'small'?'size-s':'');\r\n                }\r\n            }\r\n        },\r\n        methods:{\r\n            send: function(){\r\n            }\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubmitBtn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubmitBtn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubmitBtn.vue?vue&type=template&id=4a57b98f&\"\nimport script from \"./SubmitBtn.vue?vue&type=script&lang=js&\"\nexport * from \"./SubmitBtn.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios'\r\nimport {jsonHeader, wwwFormHeader, fileHeader} from '@/helpers/axiosHeaders'\r\nimport VueCookies from 'vue-cookies'\r\nimport Vue from 'vue'\r\nimport qs from \"qs\";\r\n\r\nconst state = {\r\n    items: [],\r\n    current: {},\r\n    isLoaded: false,\r\n    sendForm: false,\r\n    statistic: {},\r\n    itemDetail: {}\r\n}\r\n\r\n// getters\r\nconst getters = {\r\n    getByXmlId: state => id => {\r\n        return [...state.items].find(city => city.xmlId === id)\r\n    },\r\n    getCurrent: state => id => {\r\n        return state.current\r\n    },\r\n}\r\n\r\nconst actions = {\r\n    getCurrent(context) {\r\n        return new Promise((resolve, reject) => {\r\n            context.commit('setLoaded', false);\r\n            if(localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined){\r\n                axios.get(process.env.VUE_APP_API_PATH+'/partner/current/',{\r\n                    headers: {'Content-Type': 'application/json;charset=utf-8','Authorization': localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false},\r\n                    withCredentials: true,\r\n                }).then(response => {\r\n                    if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                        context.commit('setCurrent', response.data.result);\r\n                        if(response.data.result.item && response.data.result.item.id) {\r\n                            context.dispatch('setProviderData',response);\r\n                        }\r\n\r\n                    } else {\r\n                        if( +response.data.error===401){\r\n                            context.dispatch('auth/logout',{},{root:true})\r\n                        }\r\n                    }\r\n                    context.commit('setLoaded', true);\r\n                    resolve();\r\n                }).catch(function (error) {\r\n                    reject();\r\n                });\r\n            } else {\r\n                context.dispatch('auth/logout',{},{root:true})\r\n                context.commit('setLoaded', true);\r\n                resolve();\r\n            }\r\n        });\r\n    },\r\n    getStatistic(context) {\r\n        return new Promise((resolve, reject) => {\r\n            context.commit('setLoaded', false);\r\n            if(localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined){\r\n                axios.get(process.env.VUE_APP_API_PATH+'/partner/statistics/',{\r\n                    headers: {'Content-Type': 'application/json;charset=utf-8','Authorization': localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false},\r\n                    withCredentials: true,\r\n                }).then(response => {\r\n                    if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                        context.commit('setProviderStatistic',response.data.result);\r\n\r\n                    } else {\r\n                        if( +response.data.error===401){\r\n                            context.dispatch('auth/logout',{},{root:true})\r\n                        }\r\n                    }\r\n                    context.commit('setLoaded', true);\r\n                    resolve();\r\n                }).catch(function (error) {\r\n                    reject();\r\n                });\r\n            } else {\r\n                context.dispatch('auth/logout',{},{root:true})\r\n                context.commit('setLoaded', true);\r\n                resolve();\r\n            }\r\n        });\r\n    },\r\n    getByActionID(context,data) {\r\n        return new Promise((resolve, reject) => {\r\n            if(localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined){\r\n                axios.get(process.env.VUE_APP_API_PATH+'/moderator/partnerbyaction/'+data.action+'/',{\r\n                    headers: {'Content-Type': 'application/json;charset=utf-8','Authorization': localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false},\r\n                    withCredentials: true,\r\n                }).then(response => {\r\n                    context.commit('setLoaded', true);\r\n                    if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                        context.dispatch('setProviderData',response);\r\n                        resolve();\r\n                    } else {\r\n                        if( +response.data.error===401){\r\n                            context.dispatch('auth/logout',{},{root:true})\r\n                        }\r\n                    }\r\n                }).catch(function (error) {\r\n                    reject();\r\n                });\r\n            } else {\r\n                context.dispatch('auth/logout',{},{root:true})\r\n                context.commit('setLoaded', true);\r\n                resolve();\r\n            }\r\n        });\r\n    },\r\n    getByID(context,data) {\r\n        return new Promise((resolve, reject) => {\r\n            if(localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined){\r\n                localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false\r\n                axios.get(process.env.VUE_APP_API_PATH+'/moderator/providers/'+data.id+'/',{\r\n                    headers: {'Content-Type': 'application/json;charset=utf-8','Authorization': localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false},\r\n                    withCredentials: true,\r\n                    params: {\r\n                        type: 'getEditData',\r\n                    },\r\n                    paramsSerializer: function(params) {\r\n                        return qs.stringify(params, {arrayFormat: 'repeat'})\r\n                    },\r\n                }).then(response => {\r\n                    context.commit('setLoaded', true);\r\n                    if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                        context.dispatch('setProviderData',response);\r\n                        resolve();\r\n                    } else {\r\n                        if( +response.data.error===401){\r\n                            context.dispatch('auth/logout',{},{root:true})\r\n                        }\r\n                    }\r\n                }).catch(function (error) {\r\n                    reject();\r\n                });\r\n            } else {\r\n                context.dispatch('auth/logout',{},{root:true})\r\n                context.commit('setLoaded', true);\r\n                resolve();\r\n            }\r\n        });\r\n    },\r\n    setProviderData(context,response){\r\n        context.commit('setCurrent', response.data.result);\r\n    },\r\n    initDetail(context, data) {\r\n        return new Promise((resolve, reject) => {\r\n            if (!state.isLoad) {\r\n                context.commit('setLoaded', true);\r\n                axios.get(process.env.VUE_APP_API_PATH + '/public/supplier/' + data.id, {\r\n                    withCredentials: true,\r\n                    params: {},\r\n                    paramsSerializer: function (params) {\r\n                        return qs.stringify(params, {arrayFormat: 'repeat'})\r\n                    },\r\n                    headers: {\r\n                        'Content-Type': 'application/json;charset=utf-8',\r\n                        'Authorization': localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false\r\n                    },\r\n                }).then(response => {\r\n                    context.commit('setSupplier', response.data.result);\r\n                    context.commit('setLoaded', false);\r\n                    resolve();\r\n                }).catch(function (error) {\r\n                    context.commit('setLoaded', false);\r\n                    resolve();\r\n                });\r\n            } else {\r\n                resolve();\r\n            }\r\n        });\r\n    },\r\n}\r\n\r\nconst mutations = {\r\n    setCurrent(state, data) {\r\n        if(typeof data === 'object' && data.item !== undefined) {\r\n            Vue.set(state,'current', data.item);\r\n        }\r\n    },\r\n    setProviderStatistic(state, data) {\r\n        if(typeof data === 'object' && data.statistic !== undefined) {\r\n            Vue.set(state,'statistic', data.statistic);\r\n        }\r\n    },\r\n    setCurrentField(state, data) {\r\n        if(typeof data === 'object' && data.name !== undefined) {\r\n            Vue.set(state.current, data.name, data.value);\r\n        }\r\n    },\r\n    setLoaded(state, data) {\r\n        Vue.set(state,'isLoaded', data);\r\n    },\r\n    setSend(state, data) {\r\n        Vue.set(state,'sendForm', data);\r\n    },\r\n    partnerClear(state, data){\r\n        state.current = {};\r\n    },\r\n    setSupplier(state, data) {\r\n        Vue.set(state, 'itemDetail', data);\r\n    },\r\n}\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n}","function escapeAll(str) {\r\n    return str.replace(/(.)/g, \"\\\\$1\");\r\n}\r\n\r\nconst state = {\r\n    items: {\r\n        digits:{\r\n            mask: \"9\",\r\n            repeat: 999,\r\n            greedy: false,\r\n            placeholder: '',\r\n            rightAlign: false,\r\n            showMaskOnHover : false\r\n        },\r\n        price: {\r\n            alias: \"integer\",\r\n            placeholder: '',\r\n            suffix: '\\u00A0₽',\r\n            autoGroup: true,\r\n            groupSeparator: \" \",\r\n            max: 9999999,\r\n            allowMinus: false,\r\n            groupSize: 3,\r\n            autoUnmask: true,\r\n            rightAlign: false,\r\n            showMaskOnHover: false\r\n        },\r\n        percent:{\r\n            mask: \"9{1,2}%\",\r\n            autoUnmask: true,\r\n            placeholder: '',\r\n            rightAlign: false,\r\n            showMaskOnFocus: true,\r\n            showMaskOnHover : false\r\n        },\r\n        phone: {\r\n            mask:'+7(999)999-99-99',\r\n            showMaskOnHover: false\r\n        }\r\n    }\r\n\r\n}\r\n\r\nconst getters = {\r\n    price: (state, getters, rootState, rootGetters) => {\r\n        let price = {...state.items.price};\r\n        price.suffix = '\\u00A0' + rootGetters['options/setRouble'];\r\n        return price\r\n    }\r\n}\r\n\r\nconst actions = {}\r\nconst mutations = {}\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n}","/**\r\n * declOfNumber(count, ['найдена', 'найдено', 'найдены']);\r\n * @param number\r\n * @param titles\r\n * @returns {*}\r\n */\r\nexport function declOfNumber(number, titles) {\r\n    let cases = [2, 0, 1, 1, 1, 2];\r\n    return titles[(number % 100 > 4 && number % 100 < 20) ? 2 : cases[(number % 10 < 5) ? number % 10 : 5]];\r\n}\r\nexport function number_format( number, decimals, dec_point, thousands_sep ) {  // Format a number with grouped thousands\r\n\r\n    var i, j, kw, kd, km;\r\n\r\n    // input sanitation & defaults\r\n    if( isNaN(decimals = Math.abs(decimals)) ){\r\n        decimals = 2;\r\n    }\r\n    if( dec_point == undefined ){\r\n        dec_point = \",\";\r\n    }\r\n    if( thousands_sep == undefined ){\r\n        thousands_sep = \".\";\r\n    }\r\n\r\n    i = parseInt(number = (+number || 0).toFixed(decimals)) + \"\";\r\n\r\n    if( (j = i.length) > 3 ){\r\n        j = j % 3;\r\n    } else{\r\n        j = 0;\r\n    }\r\n\r\n    km = (j ? i.substr(0, j) + thousands_sep : \"\");\r\n    kw = i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands_sep);\r\n    //kd = (decimals ? dec_point + Math.abs(number - i).toFixed(decimals).slice(2) : \"\");\r\n    kd = (decimals ? dec_point + Math.abs(number - i).toFixed(decimals).replace(/-/, 0).slice(2) : \"\");\r\n\r\n\r\n    return km + kw + kd;\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('textarea-field',{attrs:{\"placeholder\":\"Опишите суть вопроса\",\"auto-focus\":true,\"is-error\":_vm.message_error,\"add-style\":{height: 200 + 'px'}},on:{\"focus\":function($event){return _vm.removeError()}},model:{value:(_vm.messageText),callback:function ($$v) {_vm.messageText=$$v},expression:\"messageText\"}})],1),_c('div',{staticClass:\"row-b mt32 button-block\"},[_c('button',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.sendMess()}}},[_vm._v(\"Отправить\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div>\r\n            <textarea-field  placeholder=\"Опишите суть вопроса\"\r\n                             v-model=\"messageText\"\r\n                             :auto-focus=\"true\"\r\n                             :is-error=\"message_error\"\r\n                             :add-style=\"{height: 200 + 'px'}\"\r\n                             @focus=\"removeError()\"\r\n            ></textarea-field>\r\n        </div>\r\n\r\n\r\n        <div class=\"row-b mt32 button-block\">\r\n            <button class=\"btn\" @click=\"sendMess()\">Отправить</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {mapState} from 'vuex'\r\n    import TextareaField from '@/components/forms/TextareaField.vue'\r\n\r\n    export default {\r\n        name: \"MailZems\",\r\n        components: {\r\n            TextareaField,\r\n        },\r\n        props: {\r\n            defaultText: {\r\n                default() {\r\n                    return '';\r\n                }\r\n            }\r\n        },\r\n        data: function() {\r\n            return {\r\n                messageText: '',\r\n                message_error: false,\r\n                send_message_success: true\r\n            }\r\n        },\r\n        created() {},\r\n        mounted() {\r\n            this.messageText = this.defaultText;\r\n        },\r\n        methods: {\r\n            sendMess: function() {\r\n                let  self = this;\r\n                self.message_error = false;\r\n                if (self.messageText === '') {\r\n                    setTimeout(function () {\r\n                        self.message_error = true;\r\n                    }, 300);\r\n                } else {\r\n                    self.message_error = false;\r\n                    this.$store.dispatch('mail/sendMessage', {message: self.messageText});\r\n                    self.newMessModalOpen();\r\n                }\r\n            },\r\n            newMessModalOpen: function () {\r\n                this.send_message_success = false;\r\n                this.$store.commit('popups/open', {name: this.popups.mailSent.name});\r\n                this.$store.commit('popups/close', {name: this.popups.mailZems.name});\r\n            },\r\n            newMessModalClose: function () {\r\n                this.send_message_success = false;\r\n                this.$store.commit('popups/close', {name: this.popups.mailSent.name});\r\n\r\n            },\r\n            removeError () {\r\n                this.message_error = false;\r\n            },\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                popups: state => state.popups.items,\r\n            }),\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailZems.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailZems.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MailZems.vue?vue&type=template&id=6454358e&scoped=true&\"\nimport script from \"./MailZems.vue?vue&type=script&lang=js&\"\nexport * from \"./MailZems.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6454358e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"popup-city__field field-clear\"},[_c('input-styled',{attrs:{\"name\":\"citySearch\",\"remove-btn\":true,\"current-model\":_vm.citySearch,\"placeholder\":'Поиск по городам',\"placeholder-input\":'Введите название города',\"is-clear-btn\":true},model:{value:(_vm.citySearch),callback:function ($$v) {_vm.citySearch=$$v},expression:\"citySearch\"}})],1),(_vm.init)?_c('div',{staticClass:\"cities-list\"},[_vm._l((_vm.citiesSearch),function(city){return (!(!_vm.isShowAll && +city.count === 0))?_c('a',{key:city.id,staticClass:\"city-item\",class:{active:city.id === _vm.current.id},attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.setCity(city)}}},[_c('span',{staticClass:\"city-name\",style:({'font-weight': ((city.name.toLowerCase() === 'москва' || city.name.toLowerCase() === 'санкт-петербург') && city.id !== _vm.current.id)?'bold':''})},[_vm._v(\"\\n                \"+_vm._s(city.name)+\"\\n                \"),_c('svg',{staticClass:\"icon-check\"},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#check\"}})])]),_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(city.count))])]):_vm._e()}),(!_vm.citiesSearch.length)?_c('div',{staticClass:\"not-found\"},[_c('svg',[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#ufo\"}})]),_vm._m(0)]):_vm._e()],2):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"txt\"},[_vm._v(\"Если города нет в списке,\"),_c('br'),_vm._v(\"значит мы в нём не работае\")])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"popup-city__field field-clear\">\r\n            <input-styled v-model=\"citySearch\"\r\n                          name=\"citySearch\"\r\n                        :remove-btn=\"true\"\r\n                        :current-model=\"citySearch\"\r\n                        :placeholder=\"'Поиск по городам'\"\r\n                        :placeholder-input=\"'Введите название города'\"\r\n                        :is-clear-btn=\"true\"></input-styled>\r\n        </div>\r\n\r\n        <div class=\"cities-list\" v-if=\"init\">\r\n            <a @click=\"setCity(city)\"\r\n               href=\"javascript:void(0);\"\r\n               class=\"city-item\"\r\n               :class=\"{active:city.id === current.id}\"\r\n               v-if=\"!(!isShowAll && +city.count === 0)\"\r\n               v-for=\"city of citiesSearch\"\r\n               :key=\"city.id\">\r\n                <span class=\"city-name\" :style=\"{'font-weight': ((city.name.toLowerCase() === 'москва' || city.name.toLowerCase() === 'санкт-петербург') && city.id !== current.id)?'bold':''}\">\r\n                    {{ city.name }}\r\n                    <svg class=\"icon-check\">\r\n                      <use xlink:href=\"@/assets/img/mob-sprite.svg#check\"></use>\r\n                    </svg>\r\n                </span>\r\n                <span class=\"count\">{{ city.count }}</span>\r\n            </a>\r\n              <div class=\"not-found\" v-if=\"!citiesSearch.length\">\r\n                <svg>\r\n                  <use xlink:href=\"@/assets/img/mob-sprite.svg#ufo\"></use>\r\n                </svg>\r\n                <div class=\"txt\">Если города нет в списке,<br>значит мы в нём не работае</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n    import { mapState } from 'vuex'\r\n    import InputStyled from '@/components/forms/InputStyled.vue'\r\n\r\n    export default {\r\n        name: \"CitySelect\",\r\n        components: {\r\n            InputStyled\r\n        },\r\n        props: {\r\n            isShowAll: {\r\n               default() {\r\n                   return true;\r\n               }\r\n            },\r\n            isSet: { // если true, то меняем город пользователя, иначе просто отправлем событием @set.city\r\n                default() {\r\n                    return true;\r\n                }\r\n            },\r\n            textNote: {\r\n                default() {\r\n                    return '(Если города нет в списке – значит, там пока нет скидок...)';\r\n                }\r\n            },\r\n            propCurrent: {\r\n                default() {\r\n                    return false;\r\n                }\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                citySearch: '',\r\n                init: false,\r\n            }\r\n        },\r\n        computed: {\r\n            citiesSearch(){\r\n                let cities;\r\n                if(this.citySearch.length > 0 && this.cities.size > 0) {\r\n                    cities = [...this.cities].filter(city => city.name.toLowerCase().indexOf(this.citySearch.toLowerCase()) === 0);\r\n                } else {\r\n                    cities =  [...this.cities];\r\n                }\r\n                let newIndex = 0;\r\n                for(let city of cities){\r\n                    if(+city.id === +this.current.id && !(!this.isShowAll && +city.count === 0)){\r\n                        let index = cities.indexOf(city);\r\n                        if(index !== -1) {\r\n                            cities.splice(newIndex, 0, cities.splice(cities.indexOf(city), 1)[0]);\r\n                            if(city.name.toLowerCase() !== 'москва'){\r\n                                newIndex = 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                for(let city of cities){\r\n                    if(city.name.toLowerCase() === 'москва' || city.name.toLowerCase() === 'санкт-петербург'){\r\n                        if(city.name.toLowerCase() === 'санкт-петербург' && +city.id !== +this.current.id){\r\n                            let index = cities.indexOf(city);\r\n                            if(index !== -1) {\r\n                                cities.splice(newIndex+1, 0, cities.splice(cities.indexOf(city), 1)[0]);\r\n                            }\r\n                        }\r\n                        if(city.name.toLowerCase() === 'москва' && +city.id !== +this.current.id){\r\n                            let index = cities.indexOf(city);\r\n                            if(index !== -1) {\r\n                                cities.splice(newIndex, 0, cities.splice(cities.indexOf(city), 1)[0]);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return cities;\r\n            },\r\n            current() {\r\n                if(this.propCurrent) {\r\n                    return this.propCurrent\r\n                } else {\r\n                    return this.currentCityState\r\n                }\r\n            },\r\n            ...mapState({\r\n                popups: state => state.popups.items,\r\n                cities: state => state.cities.items,\r\n                currentCityState: state => state.cities.current,\r\n            }),\r\n        },\r\n        mounted(){\r\n            setTimeout(()=>{\r\n                this.init = true\r\n            },100)\r\n        },\r\n        methods: {\r\n            setCity: function (city) {\r\n                if(this.isSet){\r\n                    this.$store.dispatch('cities/setCity', {city: city,closePopup: this.popups.citySelect.name,currentSection: this.$route.params.sid});\r\n                } else {\r\n                    this.$emit('set:city', city);\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CitySelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CitySelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CitySelect.vue?vue&type=template&id=21e904fa&scoped=true&\"\nimport script from \"./CitySelect.vue?vue&type=script&lang=js&\"\nexport * from \"./CitySelect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21e904fa\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"touch\",rawName:\"v-touch:swipe\",value:(_vm.swipeHandler),expression:\"swipeHandler\",arg:\"swipe\"}],staticClass:\"main-nav-block\"},[_c('div',{staticClass:\"main-nav\",class:{slide:_vm.showTopMenu}},[_c('div',{staticClass:\"popup-header dark\"},[_c('div',{staticClass:\"popup-name\",on:{\"click\":function($event){return _vm.showPopup('citySelect')}}},[_c('svg',{staticClass:\"icon-map-track\"},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#map-track\"}})]),_vm._v(\"\\n                \"+_vm._s(_vm.currentCity.name)+\"\\n                \"),_c('svg',{staticClass:\"edit-icon\"},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#pencil\"}})])]),_c('div',{staticClass:\"close\",on:{\"click\":_vm.topMenuClose}},[_c('span',{staticClass:\"i icon-close\"},[_c('svg',{staticClass:\"icon\"},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#close\"}})])])])]),_c('div',{ref:\"topmenu\",staticClass:\"h-modal-inner\"},[_c('div',{staticClass:\"nav-items\"},[(_vm.token)?_c('router-link',{staticClass:\"nav-item\",attrs:{\"to\":\"/personal\"},nativeOn:{\"click\":function($event){return _vm.topMenuClose($event)}}},[_c('div',{staticClass:\"left-icon\"},[_c('svg',{staticClass:\"i icon-ticket\"},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#ticket\"}})])]),_c('div',{staticClass:\"ni-right\"},[_c('div',{staticClass:\"nav-txt\"},[_vm._v(\"Мои купоны\")]),_c('div',{staticClass:\"chevron\"},[_c('span',{staticClass:\"i icon-chevron\"},[_c('svg',{staticClass:\"icon\"},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#chevron\"}})])])])])]):_c('a',{staticClass:\"nav-item\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.openAuthorization(true)}}},[_c('div',{staticClass:\"left-icon\"},[_c('svg',{staticClass:\"i icon-ticket\"},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#ticket\"}})])]),_c('div',{staticClass:\"ni-right\"},[_c('div',{staticClass:\"nav-txt\"},[_vm._v(\"Мои купоны\")]),_c('div',{staticClass:\"chevron\"},[_c('span',{staticClass:\"i icon-chevron\"},[_c('svg',{staticClass:\"icon\"},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#chevron\"}})])])])])]),_vm._l((_vm.menuList),function(item){return (!item.hideMobile)?_c('router-link',{key:item.link,staticClass:\"nav-item ni-about\",attrs:{\"to\":item.link},nativeOn:{\"click\":function($event){return _vm.topMenuClose($event)}}},[_c('div',{staticClass:\"left-icon\"},[_c('svg',{staticClass:\"icon-info\"},[(item.iconMobile === 'info' || item.link === '/about/')?_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#info\"}}):_vm._e(),(item.iconMobile === 'beaker' || item.link === '/rating/')?_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#beaker\"}}):_vm._e(),(item.iconMobile === 'stats' || item.link === '/statistic/')?_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#stats\"}}):_vm._e(),(item.iconMobile === 'coop' || item.link === '/cooperation/')?_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#coop\"}}):_vm._e(),(item.iconMobile === 'faq' || item.link === '/faq/')?_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#faq\"}}):_vm._e(),(item.link === '/deposit/')?_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#deposit\"}}):_vm._e(),(item.iconMobile === 'contact-info' || item.link === '/contacts/')?_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#contact-info\"}}):_vm._e()])]),_c('div',{staticClass:\"ni-right\"},[_c('div',{staticClass:\"nav-txt\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"chevron\"},[_c('span',{staticClass:\"i icon-chevron\"},[_c('svg',{staticClass:\"icon\"},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#chevron\"}})])])])])]):_vm._e()})],2),_c('a',{staticClass:\"link mt40\",attrs:{\"href\":\"https://zemskidki.ru/?full_version\"}},[_vm._v(\"Версия для ПК\")]),_c('a',{staticClass:\"link\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":_vm.openPublicOffer}},[_vm._v(\"Публичная оферта\")]),_c('div',{staticClass:\"nav-copyright\"},[_vm._v(\"© 1980-2092 Алексей Земсков\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n        <div class=\"main-nav-block\" v-touch:swipe=\"swipeHandler\">\r\n            <div class=\"main-nav\" :class=\"{slide:showTopMenu}\">\r\n                <div class=\"popup-header dark\">\r\n                    <div class=\"popup-name\" @click=\"showPopup('citySelect')\">\r\n                        <svg class=\"icon-map-track\">\r\n                          <use xlink:href=\"@/assets/img/mob-sprite.svg#map-track\"></use>\r\n                        </svg>\r\n                        {{currentCity.name}}\r\n                        <svg class=\"edit-icon\">\r\n                          <use xlink:href=\"@/assets/img/mob-sprite.svg#pencil\"></use>\r\n                        </svg>\r\n                    </div>\r\n                    <div @click=\"topMenuClose\" class=\"close\" >\r\n                        <span class=\"i icon-close\">\r\n                          <svg class=\"icon\">\r\n                            <use xlink:href=\"@/assets/img/mob-sprite.svg#close\"></use>\r\n                          </svg>\r\n                      </span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"h-modal-inner\" ref=\"topmenu\">\r\n                    <div class=\"nav-items\">\r\n                        <!--<router-link @click.native=\"topMenuClose\" v-if=\"user.firstName\" class=\"nav-item\" to=\"/personal/profile\">\r\n                            <div class=\"left-icon\"><span class=\"i icon-user\">\r\n                                <svg class=\"icon\">\r\n                                    <use xlink:href=\"@/assets/img/mob-sprite.svg#user\"></use>\r\n                                </svg></span>\r\n                            </div>\r\n                                <div class=\"ni-right\">\r\n                                    <div class=\"nav-txt\">{{ user.firstName }} {{ user.lastName[0] }}.</div>\r\n                                    <div class=\"chevron\"><span class=\"i icon-chevron\">\r\n                                        <svg class=\"icon\">\r\n                                          <use xlink:href=\"@/assets/img/mob-sprite.svg#chevron\"></use>\r\n                                        </svg></span>\r\n                                    </div>\r\n                            </div>\r\n                        </router-link>\r\n                        <a v-else class=\"nav-item\" href=\"javascript:void(0);\" @click=\"openAuthorization(false)\">\r\n                            <div class=\"left-icon\"><span class=\"i icon-user\">\r\n                                <svg class=\"icon\">\r\n                                    <use xlink:href=\"@/assets/img/mob-sprite.svg#user\"></use>\r\n                                </svg></span>\r\n                            </div>\r\n                            <div class=\"ni-right\">\r\n                                <div class=\"nav-txt\">Вход / Регистрация</div>\r\n                                <div class=\"chevron\"><span class=\"i icon-chevron\">\r\n                                        <svg class=\"icon\">\r\n                                          <use xlink:href=\"@/assets/img/mob-sprite.svg#chevron\"></use>\r\n                                        </svg></span>\r\n                                </div>\r\n                            </div>\r\n                        </a>-->\r\n                        <router-link v-if=\"token\" @click.native=\"topMenuClose\" class=\"nav-item\" to=\"/personal\">\r\n                            <div class=\"left-icon\">\r\n                                <svg class=\"i icon-ticket\">\r\n                                    <use xlink:href=\"@/assets/img/mob-sprite.svg#ticket\"></use>\r\n                                </svg>\r\n                            </div>\r\n                            <div class=\"ni-right\">\r\n                                <div class=\"nav-txt\">Мои купоны</div>\r\n                                <div class=\"chevron\"><span class=\"i icon-chevron\">\r\n                                    <svg class=\"icon\">\r\n                                      <use xlink:href=\"@/assets/img/mob-sprite.svg#chevron\"></use>\r\n                                    </svg></span></div>\r\n                            </div>\r\n                        </router-link>\r\n                        <a v-else class=\"nav-item\" href=\"javascript:void(0);\" @click=\"openAuthorization(true)\">\r\n                            <div class=\"left-icon\">\r\n                              <svg class=\"i icon-ticket\">\r\n                                <use xlink:href=\"@/assets/img/mob-sprite.svg#ticket\"></use>\r\n                            </svg>\r\n                            </div>\r\n                            <div class=\"ni-right\">\r\n                                <div class=\"nav-txt\">Мои купоны</div>\r\n                                <div class=\"chevron\"><span class=\"i icon-chevron\">\r\n                                        <svg class=\"icon\">\r\n                                          <use xlink:href=\"@/assets/img/mob-sprite.svg#chevron\"></use>\r\n                                        </svg></span>\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                        <router-link v-for=\"item in menuList\"\r\n                                     class=\"nav-item ni-about\"\r\n                                     :key=\"item.link\"\r\n                                     v-if=\"!item.hideMobile\"\r\n                                     @click.native=\"topMenuClose\"\r\n                                     :to=\"item.link\">\r\n                            <div class=\"left-icon\">\r\n                                <svg class=\"icon-info\">\r\n                                    <use v-if=\"item.iconMobile === 'info' || item.link === '/about/'\" xlink:href=\"@/assets/img/mob-sprite.svg#info\"></use>\r\n                                    <use v-if=\"item.iconMobile === 'beaker' || item.link === '/rating/'\" xlink:href=\"@/assets/img/mob-sprite.svg#beaker\"></use>\r\n                                    <use v-if=\"item.iconMobile === 'stats' || item.link === '/statistic/'\" xlink:href=\"@/assets/img/mob-sprite.svg#stats\"></use>\r\n                                    <use v-if=\"item.iconMobile === 'coop' || item.link === '/cooperation/'\" xlink:href=\"@/assets/img/mob-sprite.svg#coop\"></use>\r\n                                    <use v-if=\"item.iconMobile === 'faq' || item.link === '/faq/'\" xlink:href=\"@/assets/img/mob-sprite.svg#faq\"></use>\r\n                                    <use v-if=\"item.link === '/deposit/'\" xlink:href=\"@/assets/img/mob-sprite.svg#deposit\"></use>\r\n                                    <use v-if=\"item.iconMobile === 'contact-info' || item.link === '/contacts/'\" xlink:href=\"@/assets/img/mob-sprite.svg#contact-info\"></use>\r\n                                </svg>\r\n                            </div>\r\n                            <div class=\"ni-right\">\r\n                                <div class=\"nav-txt\">{{item.name}}</div>\r\n                                <div class=\"chevron\"><span class=\"i icon-chevron\">\r\n                                    <svg class=\"icon\">\r\n                                      <use xlink:href=\"@/assets/img/mob-sprite.svg#chevron\"></use>\r\n                                    </svg></span>\r\n                                </div>\r\n                            </div>\r\n                        </router-link>\r\n                    </div>\r\n                    <a href=\"https://zemskidki.ru/?full_version\" class=\"link mt40\">Версия для ПК</a>\r\n                    <a class=\"link\" href=\"javascript:void(0);\" @click=\"openPublicOffer\">Публичная оферта</a>\r\n                    <div class=\"nav-copyright\">© 1980-2092 Алексей Земсков</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n</template>\r\n\r\n<script>\r\n    import { mapState } from 'vuex'\r\n    export default {\r\n        name: \"TopMenu\",\r\n        props: {\r\n            type: {\r\n                default() {\r\n                    return 'public'\r\n                }\r\n            }\r\n        },\r\n        created () {\r\n            if(this.type !== 'public') {\r\n                this.$store.dispatch('menus/getMenu',{type:this.type}).then((response)=>{\r\n                    this.$store.commit('menus/setMenu', response);\r\n                });\r\n            }\r\n        },\r\n        data(){\r\n            return {\r\n                menuItems: [\r\n                    {\r\n                        name: 'О проекте',\r\n                        link:'/about/'\r\n                    },\r\n                    /*{\r\n                        name: 'Рейтинг',\r\n                        link:'/rating/'\r\n                    },*/\r\n                    {\r\n                        name: 'Стоимость',\r\n                        link:'/deposit/'\r\n                    },\r\n                    {\r\n                        name: 'Статистика',\r\n                        link:'/statistic/'\r\n                    },\r\n                    {\r\n                        name: 'Сотрудничество',\r\n                        link:'/cooperation/'\r\n                    },\r\n                    {\r\n                        name: 'Вопросы и ответы',\r\n                        link:'/faq/'\r\n                    },\r\n                    {\r\n                        name: 'Контактная информация',\r\n                        link:'/contacts/'\r\n                    },\r\n\r\n                ]\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                user: state => state.users.user,\r\n                showTopMenu: state => state.menus.showTopMenu,\r\n                popups: state => state.popups.items,\r\n                currentCity:  state => state.cities.current,\r\n            }),\r\n            menuList(){\r\n                return this.type === 'public' ? this.menuItems : this.$store.state.menus.itemsTop;\r\n            },\r\n            token(){\r\n                return this.localStorage.token !== 'false' && this.localStorage.token !== null && this.localStorage.token !== undefined ? this.localStorage.token : false\r\n            },\r\n        },\r\n        methods:{\r\n            openPublicOffer() {\r\n                this.$store.commit('popups/open', {name: this.popups.publicOffer.name});\r\n            },\r\n            swipeHandler(direction){\r\n              if(direction == 'right'){\r\n                this.$store.commit('menus/topMenuClose');\r\n              }\r\n            },\r\n            topMenuOpen(){\r\n                this.$store.commit('menus/topMenuOpen');\r\n            },\r\n            topMenuClose(){\r\n                this.$store.commit('menus/topMenuClose');\r\n                this.$refs.topmenu.scrollTop = 0;\r\n            },\r\n            openAuthorization: function (setIsRedirect) {\r\n                this.$store.commit('menus/topMenuClose');\r\n                this.$store.commit('auth/setIsRedirect', setIsRedirect);\r\n                this.$store.commit('popups/open', {name: this.popups.publicAuth.name});\r\n            },\r\n            showPopup(popup) {\r\n                this.$store.commit('menus/topMenuClose');\r\n                this.$store.commit('popups/open',{name:popup});\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TopMenu.vue?vue&type=template&id=2bacc67d&scoped=true&\"\nimport script from \"./TopMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./TopMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2bacc67d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"textarea-field\",class:{ '--has-counter': _vm.hasCounterSMS,'error': _vm.isError }},[_c('textarea-autosize',{ref:\"textField\",class:_vm.classTextareaField,style:(_vm.addStyle),attrs:{\"id\":_vm.inputId,\"auto-focus\":_vm.autoFocus,\"disabled\":_vm.disabled,\"placeholder\":_vm.placeholder},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.enter()},\"input\":_vm.updateValue},nativeOn:{\"focus\":function($event){return _vm.setFocus(true)},\"blur\":function($event){return _vm.setFocus(false)}},model:{value:(_vm.inputVal),callback:function ($$v) {_vm.inputVal=$$v},expression:\"inputVal\"}}),(_vm.isError && _vm.errorText)?_c('div',{staticClass:\"textarea-error\"},[_vm._v(_vm._s(_vm.errorText))]):_vm._e(),_c('div',{staticClass:\"textarea-field-error\"},[_c('svg',{staticClass:\"--error\"},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#error\"}})])]),(_vm.hasCounterSMS)?_c('div',{staticClass:\"textarea-counter\"},[_vm._v(\" символов: \"),_c('span',[_vm._v(_vm._s(_vm.counterSimbols))]),_vm._v(\" из \"+_vm._s(_vm.counterSmsLength)+\"  |  кол-во СМС: \"),_c('span',{staticClass:\"js-sms-count\",attrs:{\"data-target\":\"#sms-area1\"}},[_vm._v(_vm._s(_vm.counterSMS))])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.val),expression:\"val\"}],ref:\"textField\",style:(_vm.computedStyles),attrs:{\"maxlength\":\"3000\"},domProps:{\"value\":(_vm.val)},on:{\"focus\":_vm.resize,\"input\":function($event){if($event.target.composing){ return; }_vm.val=$event.target.value}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <textarea\r\n          :style=\"computedStyles\"\r\n          v-model=\"val\"\r\n          ref=\"textField\"\r\n          @focus=\"resize\"\r\n          maxlength=\"3000\"\r\n  ></textarea>\r\n</template>\r\n<script>\r\n    export default {\r\n        name: 'TextareaAutosize',\r\n        props: {\r\n            autoFocus: {default: false},\r\n            value: {\r\n                type: [String, Number],\r\n                default: ''\r\n            },\r\n            autosize: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            minHeight: {\r\n                type: [Number],\r\n                'default': null\r\n            },\r\n            maxHeight: {\r\n                type: [Number],\r\n                'default': null\r\n            },\r\n            /*\r\n             * Force !important for style properties\r\n             */\r\n            important: {\r\n                type: [Boolean, Array],\r\n                default: false\r\n            }\r\n        },\r\n        data () {\r\n            return {\r\n                // data property for v-model binding with real textarea tag\r\n                val: null,\r\n                // works when content height becomes more then value of the maxHeight property\r\n                maxHeightScroll: false,\r\n                height: 'auto'\r\n            }\r\n        },\r\n        computed: {\r\n            computedStyles () {\r\n                if (!this.autosize) return {}\r\n                return {\r\n                    resize: !this.isResizeImportant ? 'none' : 'none !important',\r\n                    height: this.height,\r\n                    overflow: this.maxHeightScroll ? 'auto' : (!this.isOverflowImportant ? 'hidden' : 'hidden !important')\r\n                }\r\n            },\r\n            isResizeImportant () {\r\n                const imp = this.important\r\n                return imp === true || (Array.isArray(imp) && imp.includes('resize'))\r\n            },\r\n            isOverflowImportant () {\r\n                const imp = this.important\r\n                return imp === true || (Array.isArray(imp) && imp.includes('overflow'))\r\n            },\r\n            isHeightImportant () {\r\n                const imp = this.important\r\n                return imp === true || (Array.isArray(imp) && imp.includes('height'))\r\n            }\r\n        },\r\n        watch: {\r\n            value (val) {\r\n                this.val = val\r\n            },\r\n            val (val) {\r\n                this.$nextTick(this.resize)\r\n                this.$emit('input', val)\r\n            },\r\n            minHeight () {\r\n                this.$nextTick(this.resize)\r\n            },\r\n            maxHeight () {\r\n                this.$nextTick(this.resize)\r\n            },\r\n            autosize (val) {\r\n                if (val) this.resize()\r\n            }\r\n        },\r\n        methods: {\r\n            resize () {\r\n                const important = this.isHeightImportant ? 'important' : ''\r\n                this.height = `auto${important ? ' !important' : ''}`\r\n                this.$nextTick(() => {\r\n                    let contentHeight = this.$el.scrollHeight + 1\r\n                    if (this.minHeight) {\r\n                        contentHeight = contentHeight < this.minHeight ? this.minHeight : contentHeight\r\n                    }\r\n                    if (this.maxHeight) {\r\n                        if (contentHeight > this.maxHeight) {\r\n                            contentHeight = this.maxHeight\r\n                            this.maxHeightScroll = true\r\n                        } else {\r\n                            this.maxHeightScroll = false\r\n                        }\r\n                    }\r\n                    contentHeight = contentHeight + 40;\r\n                    const heightVal = contentHeight + 'px'\r\n                    this.height = `${heightVal}${important ? ' !important' : ''}`\r\n                })\r\n                return this\r\n            },\r\n            inputFocus(ref) {\r\n                let self = this;\r\n                if(!!this.$refs[ref]){\r\n                    this.$nextTick(() => {\r\n                      setTimeout(function(){\r\n                        self.$refs[ref].focus();\r\n                      },200);\r\n                    });\r\n                }\r\n            },\r\n        },\r\n        created () {\r\n            this.val = this.value\r\n        },\r\n        mounted () {\r\n            this.resize()\r\n            if(this.autoFocus === true) {\r\n                this.inputFocus('textField')\r\n            }\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextareaAutosize.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextareaAutosize.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextareaAutosize.vue?vue&type=template&id=fcdc608e&\"\nimport script from \"./TextareaAutosize.vue?vue&type=script&lang=js&\"\nexport * from \"./TextareaAutosize.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"textarea-field\" :class=\"{ '--has-counter': hasCounterSMS,'error': isError }\">\r\n        <textarea-autosize :class=\"classTextareaField\"\r\n                  :id=\"inputId\"\r\n                  ref=\"textField\"\r\n                  :auto-focus=\"autoFocus\"\r\n                  @keyup.enter=\"enter()\"\r\n                  @focus.native=\"setFocus(true)\"\r\n                  @blur.native=\"setFocus(false)\"\r\n                  :disabled=\"disabled\"\r\n                  v-model=\"inputVal\"\r\n                  :style=\"addStyle\"\r\n                  @input=\"updateValue\"\r\n                  :placeholder=\"placeholder\" ></textarea-autosize>\r\n        <div v-if=\"isError && errorText\" class=\"textarea-error\">{{ errorText }}</div>\r\n        <div class=\"textarea-field-error\">\r\n            <svg class=\"--error\">\r\n              <use xlink:href=\"@/assets/img/mob-sprite.svg#error\"></use>\r\n            </svg>\r\n          </div>\r\n        <div class=\"textarea-counter\" v-if=\"hasCounterSMS\"> символов: <span>{{counterSimbols}}</span> из {{counterSmsLength}} &nbsp;|&nbsp; кол-во СМС: <span data-target=\"#sms-area1\" class=\"js-sms-count\">{{counterSMS}}</span></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {scrollToModal} from '@/helpers/animate.js';\r\n    import TextareaAutosize from '@/components/forms/TextareaAutosize.vue'\r\n    export default {\r\n        components: {\r\n            TextareaAutosize\r\n        },\r\n        name: \"TextareaField\",\r\n        props: {\r\n            value: {default: ''},\r\n            placeholder: {default: ''},\r\n            inputId: {default: ''},\r\n            disabled: {default: false},\r\n            isError: {default: false},\r\n            isEdit: {default: false},\r\n            addStyle: {default: ''},\r\n            autoFocus: {default: false},\r\n            isValidate: {default: false},\r\n            errorText: {default: 'Не менее 10-ти символов'},\r\n            classTextarea: {\r\n                default(){\r\n                    return []\r\n                },\r\n                type: Array,\r\n            },\r\n            hasCounterSMS: {default: false},\r\n        },\r\n        data: function () {\r\n            return {\r\n                focus: false,\r\n                counterSMS: 0,\r\n                counterSimbols: 0,\r\n                counterSmsLength: 70,\r\n            }\r\n        },\r\n        watch:{\r\n            isError(val,oldVal){\r\n                if(this.isError){\r\n                    if(this.$el.closest('.popup-wrapper')){\r\n                        let $top = 0;\r\n                        let pr = this.$el.closest('.popup-wrapper');\r\n                        $top += parseFloat(pr.offsetTop);\r\n                        pr.scrollTo({top: $top, left: 0, behavior: 'smooth'});\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        computed: {\r\n            showLabel() {\r\n                return this.focus || this.inputVal.toString().length > 0\r\n            },\r\n            classTextareaField() {\r\n                return { error: this.isError, ...this.classTextarea }\r\n            },\r\n            inputVal:{\r\n                get() { return this.value },\r\n                set(value) { this.input = value},\r\n            }\r\n        },\r\n        mounted() {\r\n\r\n        },\r\n        methods: {\r\n            updateValue: function (value) {\r\n                this.$emit('input', value);\r\n                if(this.hasCounterSMS){\r\n                    this.symbolsCounter(value);\r\n                }\r\n            },\r\n            enter: function () {\r\n                this.$emit('enter')\r\n            },\r\n            check: function () {\r\n                this.$emit('check')\r\n            },\r\n            setFocus(value) {\r\n                let self = this\r\n                value = value || false;\r\n                this.focus = value\r\n                if(value){\r\n                    this.$emit('focus');\r\n                } else {\r\n                    this.$emit('blur');\r\n                }\r\n            },\r\n            edit: function () {\r\n                this.$emit('edit');\r\n            },\r\n            symbolsCounter (value){\r\n                let newLinesymbols, keptlength;\r\n                // \\n - в FF - это один символ, в IE - два, поэтому вынуждены делать так. Определяем, IE это или нет\r\n                if (value.match(/\\r/g) == null) {\r\n                    //считаем количество символов\r\n                    let newLinesymbols = value.match(/\\n/g);\r\n                }\r\n                let newLinesymbolsCount = (newLinesymbols != null) ? newLinesymbols.length : 0;\r\n                //исходя из хака считаем количество символов\r\n                let textLength = value.length + newLinesymbolsCount;\r\n                //определяем длину части\r\n                let messLenPart = (textLength) > 70 ? 67 : 70;\r\n\r\n                let parts = Math.ceil(textLength / messLenPart);\r\n                if (textLength % messLenPart) {\r\n                    keptlength = textLength % messLenPart;\r\n                    /*if(parts>1){\r\n                        keptlength = keptlength+3;\r\n                    }*/\r\n                }\r\n                else {\r\n                    if (textLength == 0)\r\n                        keptlength = 0;\r\n                    else\r\n                        keptlength = messLenPart;\r\n                }\r\n\r\n                this.counterSMS = parts;\r\n                this.counterSmsLength = messLenPart;\r\n                this.counterSimbols = keptlength;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextareaField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextareaField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextareaField.vue?vue&type=template&id=2049d5c7&\"\nimport script from \"./TextareaField.vue?vue&type=script&lang=js&\"\nexport * from \"./TextareaField.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-block\",class:[{'open': _vm.show}, _vm.addClass]},[_c('div',{staticClass:\"black-bg\",on:{\"click\":_vm.close}}),_c('div',{staticClass:\"modal\",attrs:{\"show\":_vm.show}},[_c('div',{staticClass:\"modal-info\"},[(_vm.modalType == '')?_c('div',[(_vm.title)?_c('div',{class:{'modal-ttl': true, 'red': _vm.redtitle, 'green': _vm.greentitle }},[_vm._v(_vm._s(_vm.title))]):_vm._e(),(_vm.text)?_c('div',{class:{'modal-txt': true, 'red': _vm.redtxt, 'green': _vm.greentxt }},[_c('p',[_vm._v(_vm._s(_vm.text))])]):_vm._e(),_vm._t(\"default\")],2):_vm._e(),(_vm.modalType == 'notOrder')?_c('div',{staticClass:\"long-margin\"},[_vm._m(0),_c('div',{staticClass:\"modal-txt\"},[_vm._m(1),_c('p',[_vm._v(\"P.S. При этом вы всегда можете\"),_c('br'),_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.showPopup('mailZems');_vm.close()}}},[_vm._v(\"пожаловаться\")]),_vm._v(\" на купон\"),_c('br'),_vm._v(\"руководителю проекта. \")])])]):_vm._e(),(_vm.modalType == 'isSend')?_c('div',{staticClass:\"long-margin\"},[_vm._m(2),_c('div',{staticClass:\"modal-txt\"},[_vm._m(3),_c('p',[_vm._v(\"P.S. При этом вы всегда можете\"),_c('br'),_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.showPopup('mailZems');_vm.close()}}},[_vm._v(\"пожаловаться\")]),_vm._v(\" на купон\"),_c('br'),_vm._v(\"руководителю проекта. \")])])]):_vm._e()]),_c('div',{staticClass:\"modal-butt\"},[(_vm.name == 'cooperationAccepted')?_c('div',{staticClass:\"ok-butt\",on:{\"click\":_vm.closeCooperationAccepted}},[_vm._v(_vm._s(_vm.btntext))]):_c('div',{staticClass:\"ok-butt\",on:{\"click\":_vm.close}},[_vm._v(_vm._s(_vm.btntext))])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-ttl red\"},[_vm._v(\" Вы не можете написать отзыв на\"),_c('br'),_vm._v(\"купон, которым не пользовались\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"У нас допускаются только честные\"),_c('br'),_vm._v(\"отзывы, которые может оставить\"),_c('br'),_vm._v(\"только владелец купона и только\"),_c('br'),_vm._v(\"после его использования\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-ttl red\"},[_vm._v(\"Вы не можете написать отзыв\"),_c('br'),_vm._v(\"на этот купон, потому что вы\"),_c('br'),_vm._v(\"его уже написали\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"Написать отзыв на купон можно\"),_c('br'),_vm._v(\"только один раз и редактировать\"),_c('br'),_vm._v(\"его после уже нельзя.\")])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"modal-block\" :class=\"[{'open': show}, addClass]\">\r\n    <div class=\"black-bg\" @click=\"close\"></div>\r\n      <div class=\"modal\" :show=\"show\">\r\n          <div class=\"modal-info\">\r\n            <div v-if=\"modalType == ''\">\r\n              <!-- Добавлять класс red или green к modal-ttl и modal-txt-->\r\n              <div :class=\"{'modal-ttl': true, 'red': redtitle, 'green': greentitle }\" v-if=\"title\">{{title}}</div>\r\n              <div :class=\"{'modal-txt': true, 'red': redtxt, 'green': greentxt }\" v-if=\"text\">\r\n                <p>{{text}}</p>\r\n              </div>\r\n              <slot></slot>\r\n            </div>\r\n            <div class=\"long-margin\" v-if=\"modalType == 'notOrder'\">\r\n                  <!-- Добавлять класс red или green к modal-ttl и modal-txt-->\r\n                  <div class=\"modal-ttl red\"> Вы не можете написать отзыв на<br>купон, которым не пользовались</div>\r\n                  <div class=\"modal-txt\">\r\n                    <p>У нас допускаются только честные<br>отзывы, которые может оставить<br>только владелец купона и только<br>после его использования</p>\r\n                    <p>P.S. При этом вы всегда можете<br><a href=\"javascript:void(0)\" @click=\"showPopup('mailZems');close()\">пожаловаться</a> на купон<br>руководителю проекта. </p>\r\n                  </div>\r\n            </div>\r\n            <div class=\"long-margin\" v-if=\"modalType == 'isSend'\">\r\n                  <!-- Добавлять класс red или green к modal-ttl и modal-txt-->\r\n                  <div class=\"modal-ttl red\">Вы не можете написать отзыв<br>на этот купон, потому что вы<br>его уже написали</div>\r\n                  <div class=\"modal-txt\">\r\n                    <p>Написать отзыв на купон можно<br>только один раз и редактировать<br>его после уже нельзя.</p>\r\n                    <p>P.S. При этом вы всегда можете<br><a href=\"javascript:void(0)\" @click=\"showPopup('mailZems');close()\">пожаловаться</a> на купон<br>руководителю проекта. </p>\r\n                  </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-butt\">\r\n            <div class=\"ok-butt\" v-if=\"name == 'cooperationAccepted'\" @click=\"closeCooperationAccepted\">{{btntext}}</div>\r\n            <div class=\"ok-butt\" v-else @click=\"close\">{{btntext}}</div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapState} from 'vuex';\r\n  import {number_format} from '@/helpers/formatted';\r\n    export default {\r\n        name: \"PopupInfoBlock\",\r\n        props: {\r\n            width: {\r\n                default: function () {\r\n                    return 320\r\n                }\r\n            },\r\n            addClass: {default: ''},\r\n            show: {\r\n                default: function () {\r\n                    return false\r\n                }\r\n            },\r\n            isSetTop: {\r\n                default: function () {\r\n                    return false\r\n                }\r\n            },\r\n            isBtnClose: {\r\n                default: function () {\r\n                    return true\r\n                }\r\n            },\r\n            isSetStyled: {\r\n                default: function () {\r\n                    return false\r\n                }\r\n            },\r\n            isSetBlank: {\r\n                default: function () {\r\n                    return false\r\n                }\r\n            },\r\n            isResize: {\r\n                default: function () {\r\n                    return false\r\n                }\r\n            },\r\n            name: '',\r\n            title: {\r\n                default: ''\r\n            },\r\n            text: {\r\n                default: ''\r\n            },\r\n            modalType: {\r\n                default: ''\r\n            },\r\n            btntext: {\r\n                default: 'Понятно'\r\n            },\r\n            redtitle:{\r\n              default: function(){\r\n                return false\r\n              }\r\n            },\r\n            redtxt:{\r\n              default: function(){\r\n                return false\r\n              }\r\n            },\r\n            greentitle: {\r\n              default: function(){\r\n                return false\r\n              }\r\n            },\r\n            greentxt:{\r\n              default: function(){\r\n                return false\r\n              }\r\n            },\r\n            average: {\r\n                default: function () {\r\n                    return ''\r\n                }\r\n            },\r\n            discount: {\r\n                default: function () {\r\n                    return ''\r\n                }\r\n            },\r\n            projectDiscount: {\r\n                default: function () {\r\n                    return ''\r\n                }\r\n            },\r\n        },\r\n        watch: {\r\n            show: function () {\r\n                if (this.show) {\r\n                    if (this.isSetTop) {\r\n                        this.updateViewportSize();\r\n                    }\r\n                    document.getElementsByTagName('body')[0].classList.add(\"nonscroll\");\r\n                }\r\n            },\r\n            isResize: function (newV, oldQV) {\r\n                if (this.isSetTop && (newV !== oldQV)) {\r\n                    this.updateViewportSize();\r\n                }\r\n            },\r\n        },\r\n        data: function () {\r\n            return {\r\n                top: 20,\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n              user: state => state.users.user,\r\n              options: state => state.options.items,\r\n              formAuthFields: state => state.auth.forms.auth.fields,\r\n            }),\r\n            discountSumRetail: function () {\r\n                let discountSum = this.average * this.discount / 100;\r\n                return number_format(discountSum > 0 ? discountSum : 0, 0, '', ' ')\r\n            },\r\n            discountSumUser: function () {\r\n                let discountSum = this.average * (this.projectDiscount - this.discount - this.options.ourDiscount) / 100;\r\n                return number_format(discountSum > 0 ? discountSum : 0, 0, '', ' ')\r\n            },\r\n            discountSum: function () {\r\n                let discountSum = this.average * (this.projectDiscount - this.options.ourDiscount) / 100;\r\n                return number_format(discountSum > 0 ? discountSum : 0, 0, '', ' ')\r\n            },\r\n        },\r\n        mounted: function () {\r\n            if (this.isSetTop) {\r\n                this.topListener();\r\n            }\r\n        },\r\n        methods: {\r\n          number_format: function (v) {\r\n              return number_format(v, 0, '', ' ')\r\n          },\r\n            updateViewportSize: function () {\r\n                this.$nextTick(function () {\r\n                    if (typeof(this.$refs.overlayPopup) !== 'undefined') {\r\n                        let top = this.getViewportSize().h - this.$refs.overlayPopup.clientHeight;\r\n                        if (top < 1) {\r\n                            top = 1\r\n                        }\r\n                        this.top = (top / 2);\r\n                    }\r\n                });\r\n            },\r\n            showPopup(popup) {\r\n                this.$store.commit('popups/open',{name:popup});\r\n            },\r\n            updatePopupStyled: function () {\r\n                this.$nextTick(function () {\r\n                    this.$refs.overlayPopup.classList.add('popup--styled')\r\n                })\r\n            },\r\n            topListener: function () {\r\n                let self = this;\r\n                this.$nextTick(function () {\r\n                    self.updateViewportSize();\r\n                    window.addEventListener('resize', self.updateViewportSize);\r\n                });\r\n\r\n            },\r\n\r\n            getViewportSize: function () {\r\n                let d = window.document.querySelector(\"html\");\r\n                return {w: d.clientWidth, h: d.clientHeight};\r\n            },\r\n\r\n            close: function () {\r\n                if(this.show && this.name){\r\n                    this.$store.commit('popups/close', {name: this.name});\r\n                    this.$emit('close');\r\n                    document.getElementsByTagName('body')[0].classList.remove(\"nonscroll\");\r\n                } else {\r\n                    this.$emit('close');\r\n                    document.getElementsByTagName('body')[0].classList.remove(\"nonscroll\");\r\n                }\r\n                this.$store.commit('auth/setFormAuthError',{ name: this.formAuthFields.login.name, value: false });\r\n            },\r\n            closeCooperationAccepted: function () {\r\n                if(this.show && this.name){\r\n                    this.$store.commit('popups/close', {name: this.name});\r\n                    this.$emit('close');\r\n                    this.$router.push('/');\r\n                    document.getElementsByTagName('body')[0].classList.remove(\"nonscroll\");\r\n                } else {\r\n                    this.$emit('close');\r\n                    this.$router.push('/');\r\n                    document.getElementsByTagName('body')[0].classList.remove(\"nonscroll\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .modal-block{\r\n        width: 320px;\r\n        overflow: hidden;\r\n        height: 100vh !important;\r\n        height: stretch;\r\n        overflow-y: auto;\r\n        min-height: stretch;\r\n        position: fixed;\r\n        background-color: rgba(0,0,0,0.5);\r\n        z-index: 90;\r\n        align-items: center;\r\n        left: 0;\r\n        top: 0;\r\n        opacity: 0;\r\n        display: -webkit-box;\r\n        transition: all .15s;\r\n        pointer-events: none;\r\n        justify-content: center;\r\n    }\r\n    .modal-block .modal{\r\n      transform: scale(0.5);\r\n      transition: all .1s;\r\n    }\r\n    .modal-block .black-bg{\r\n      width: 100%;\r\n      height: 100vh;\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      background-color: transparent\r\n    }\r\n    .modal-block.open{\r\n      opacity: 1;\r\n      pointer-events: all;\r\n    }\r\n    .modal-block.open .modal{\r\n      transform: scale(1);\r\n    }\r\n    .modal-howCalculated .modal-ttl, .modal-howCalculated .modal-txt p{\r\n      text-align: left !important;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupInfoBlock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupInfoBlock.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PopupInfoBlock.vue?vue&type=template&id=cb4135fe&scoped=true&\"\nimport script from \"./PopupInfoBlock.vue?vue&type=script&lang=js&\"\nexport * from \"./PopupInfoBlock.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PopupInfoBlock.vue?vue&type=style&index=0&id=cb4135fe&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cb4135fe\",\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios'\r\nimport {jsonHeader} from '@/helpers/axiosHeaders'\r\nimport qs from \"qs\";\r\nconst state = {\r\n    isSend: false\r\n}\r\n\r\n// getters\r\nconst getters = {\r\n\r\n}\r\n\r\nconst actions = {\r\n    sendForm(context, data) {\r\n        return new Promise((resolve, reject) => {\r\n            if(!state.isSend){\r\n                context.commit('setSend', true);\r\n\r\n                let formData = new FormData();\r\n\r\n                for(let keyProp in data.params) {\r\n                    formData.append(keyProp, data.params[keyProp]);\r\n                }\r\n\r\n                if(data.params.formName === 'cooperation'){\r\n                    formData.append('isMobileSite', true);\r\n                }\r\n\r\n                axios.post(process.env.VUE_APP_API_PATH+'/public/forms/',formData,{\r\n                    withCredentials: true,\r\n                    headers: {'Content-Type': 'application/json;charset=utf-8','Authorization': localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false},\r\n                }).then(response => {\r\n                    context.commit('setSend', false);\r\n                    if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                        if(data.params.formName === 'cooperation' && response.data.result.status === 'ok') {\r\n                            context.commit('popups/open', {name: context.rootState.popups.items.cooperationAccepted.name},{root:true});\r\n                        }\r\n                    } else {\r\n\r\n                        if(data.params.formName === 'cooperation' && +response.data.error === 401) {\r\n                            context.commit('popups/open', {name: context.rootState.popups.items.cooperationErrorPhone.name},{root:true});\r\n                        } else {\r\n                            if( +response.data.error===401){\r\n                                context.dispatch('auth/logout',{},{root:true})\r\n                            }\r\n                        }\r\n                    }\r\n                    resolve();\r\n                }).catch(function (error) {\r\n                    context.commit('setSend', false);\r\n                    resolve();\r\n                });\r\n            }\r\n        });\r\n    },\r\n}\r\n\r\nconst mutations = {\r\n    setSend(state, data) {\r\n        state.isSend = data;\r\n    }\r\n}\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n}","import axios from 'axios'\r\nimport {jsonHeader} from '@/helpers/axiosHeaders'\r\nimport qs from \"qs\";\r\nconst state = {\r\n    itemsTop: [],\r\n    itemsAction: [],\r\n    showTopMenu: false\r\n}\r\n\r\n// getters\r\nconst getters = {\r\n    ActionPageCouponUrl: state => data =>{\r\n        let currentIndex;\r\n        for (let index in state.itemsAction['coupons']) {\r\n            if (state.itemsAction['coupons'][index].id == data.action) {\r\n                currentIndex = index;\r\n                break;\r\n            }\r\n        }\r\n        return '/moderator/coupons/'+state.itemsAction['coupons'][currentIndex].id+'/';\r\n    },\r\n    ActionPageCouponTitle: state => data => {\r\n        let currentIndex,\r\n        title = '';\r\n        for (let index in state.itemsAction['coupons']) {\r\n            if (state.itemsAction['coupons'][index].id == data.action) {\r\n                currentIndex = index;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (typeof (state.itemsAction['coupons']) !== 'undefined') {\r\n            title = state.itemsAction['coupons'][currentIndex]['name']\r\n        }\r\n        if(title!=''){\r\n            if(data.defaultStatus && data.action == data.defaultStatus){\r\n                title = 'Акции '+title.toLowerCase();\r\n            }\r\n            else{\r\n                title = title+' акции';\r\n            }\r\n        }\r\n        return title;\r\n    },\r\n    RepaymentPage: state => data => {\r\n        for (let index in state.itemsAction['repayment']) {\r\n            if (state.itemsAction['repayment'][index].id == data.currentStatus) {\r\n                return state.itemsAction['repayment'][index];\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst actions = {\r\n    getMenu(context, data) {\r\n        return new Promise((resolve, reject) => {\r\n            axios.get(process.env.VUE_APP_API_PATH+'/'+data.type+'/menus/',{\r\n                headers: {'Content-Type': 'application/json;charset=utf-8','Authorization': localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false},\r\n                params: {\r\n                    type: 'top',\r\n                },\r\n                paramsSerializer: function(params) {\r\n                    return qs.stringify(params, {arrayFormat: 'repeat'})\r\n                },\r\n                withCredentials: true,\r\n\r\n            }).then(response => {\r\n                if(typeof response.data === 'object' && +response.data.error === 0) {\r\n\r\n                } else {\r\n                    if( +response.data.error===401){\r\n                        context.dispatch('auth/logout',{},{root:true})\r\n                    }\r\n                }\r\n                resolve(response.data.result);\r\n            }).catch(function (error) {\r\n                resolve();\r\n            });\r\n        });\r\n    },\r\n    getActionMenu(context, data) {\r\n        return new Promise((resolve, reject) => {\r\n            axios.get(process.env.VUE_APP_API_PATH+'/'+data.type+'/menus/',{\r\n                headers: {'Content-Type': 'application/json;charset=utf-8','Authorization': localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false},\r\n                params: {\r\n                    type: 'action',\r\n                },\r\n                paramsSerializer: function(params) {\r\n                    return qs.stringify(params, {arrayFormat: 'repeat'})\r\n                },\r\n                withCredentials: true,\r\n\r\n            }).then(response => {\r\n                if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                    context.commit('setActionMenu', response.data.result);\r\n                    resolve();\r\n                } else {\r\n                    if( +response.data.error===401){\r\n                        context.dispatch('auth/logout',{},{root:true})\r\n                    }\r\n                }\r\n            }).catch(function (error) {\r\n                reject();\r\n            });\r\n        });\r\n    },\r\n}\r\n\r\nconst mutations = {\r\n    setMenu(state, data) {\r\n        if(typeof data === 'object' && data.top !== undefined) {\r\n            state.itemsTop = data.top;\r\n        }\r\n    },\r\n    setActionMenu(state, data){\r\n        if(typeof data === 'object' && data.items !== undefined) {\r\n            state.itemsAction = data.items;\r\n        }\r\n    },\r\n    topMenuOpen(state, data) {\r\n        state.showTopMenu = true;\r\n        let scrollPosition = window.pageYOffset || document.documentElement.scrollTop;\r\n        document.body.setAttribute('data-body-scroll-fix', scrollPosition);\r\n        document.body.style.top = '-' + scrollPosition + 'px';\r\n        document.getElementsByTagName('body')[0].classList.add('nonscroll-top-menu');\r\n    },\r\n    topMenuClose(state, data) {\r\n        state.showTopMenu = false;\r\n        let scrollPosition = document.body.getAttribute('data-body-scroll-fix');\r\n        document.body.style.top = '';\r\n        document.getElementsByTagName('body')[0].classList.remove('nonscroll-top-menu');\r\n        window.scroll(0, scrollPosition);\r\n    },\r\n}\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n}\r\n","import axios from 'axios'\r\nimport {jsonHeader} from '@/helpers/axiosHeaders'\r\nconst state = {\r\n    items: {\r\n        citySelect: {\r\n            name: 'citySelect',\r\n            show: false,\r\n        },\r\n        address: {\r\n            name: 'address',\r\n            show: false,\r\n        },\r\n\r\n        categoryChoice: {\r\n            name: 'categoryChoice',\r\n            show: false,\r\n        },\r\n\r\n        categoriesCreateConfirm: {\r\n            name: 'categoriesCreateConfirm',\r\n            show: false,\r\n        },\r\n\r\n        categoriesMoveConfirm: {\r\n            name: 'categoriesMoveConfirm',\r\n            show: false,\r\n        },\r\n\r\n        categoriesHideConfirm: {\r\n            name: 'categoriesHideConfirm',\r\n            show: false,\r\n        },\r\n\r\n        printContract: {\r\n            name: 'printContract',\r\n            show: false,\r\n        },\r\n\r\n        citySelectReturn: {\r\n            name: 'citySelectReturn',\r\n            show: false,\r\n        },\r\n\r\n        mailZems: {\r\n            name: 'mailZems',\r\n            show: false\r\n        },\r\n\r\n        publicAuth: {\r\n            name: 'publicAuth',\r\n            show: false\r\n        },\r\n\r\n        authorization: {\r\n            name: 'authorization',\r\n            show: false\r\n        },\r\n\r\n        newQuest: {\r\n            name: 'newQuest',\r\n            show: false\r\n        },\r\n\r\n        manyAuth: {\r\n            name: 'manyAuth',\r\n            show: false\r\n        },\r\n        userBanned: {\r\n            name: 'userBanned',\r\n            show: false\r\n        },\r\n        couponCancel: {\r\n            name: 'couponCancel',\r\n            show: false\r\n        },\r\n\r\n        couponClaim: {\r\n            name: 'couponClaim',\r\n            show: false\r\n        },\r\n\r\n        repeatSendInfo: {\r\n            name: 'repeatSendInfo',\r\n            show: false\r\n        },\r\n\r\n        checkoutFail: {\r\n            name: 'checkoutFail',\r\n            show: false\r\n        },\r\n\r\n        couponHistory: {\r\n            name: 'couponHistory',\r\n            show: false\r\n        },\r\n\r\n        opinionAdd: {\r\n            name: 'opinionAdd',\r\n            show: false\r\n\r\n        },\r\n\r\n        couponBuy: { // оформление купона\r\n            name: 'couponBuy',\r\n            show: false\r\n        },\r\n\r\n        couponBuyOk: { // оформление купона - оформлен!\r\n            name: 'couponBuyOk',\r\n            show: false\r\n        },\r\n\r\n        couponBuyError: { // оформление купона - ошибка!\r\n            name: 'couponBuyError',\r\n            show: false\r\n        },\r\n\r\n        couponBuyErrorAuth: { // оформление купона - ошибка авторизации!\r\n            name: 'couponBuyErrorAuth',\r\n            show: false\r\n        },\r\n        couponAlreadyIssued: { // оформление купона - купон уже оформлен\r\n            name: 'couponAlreadyIssued',\r\n            show: false\r\n          },\r\n\r\n        cooperationAccepted: {\r\n            name: 'cooperationAccepted',\r\n            show: false\r\n        },\r\n\r\n        cooperationErrorPhone: {\r\n            name: 'cooperationErrorPhone',\r\n            show: false\r\n        },\r\n\r\n        cooperationCancelSmallPriceOne: {\r\n            name: 'cooperationCancelSmallPriceOne',\r\n            show: false\r\n        },\r\n\r\n        cooperationCancelSmallPrice: {\r\n            name: 'cooperationCancelSmallPrice',\r\n            show: false\r\n        },\r\n\r\n        cooperationCancelSmallPercent: {\r\n            name: 'cooperationCancelSmallPercent',\r\n            show: false\r\n        },\r\n\r\n        cooperationCancelVerySmallPrice: {\r\n            name: 'cooperationCancelVerySmallPrice',\r\n            show: false\r\n        },\r\n\r\n        partnerCouponsRemove: {\r\n            name: 'partnerCouponsRemove',\r\n            show: false\r\n        },\r\n\r\n        partnerCouponsEdit: {\r\n            name: 'partnerCouponsEdit',\r\n            show: false\r\n        },\r\n\r\n        partnerCouponsEditStopped: {\r\n            name: 'partnerCouponsEditStopped',\r\n            show: false\r\n        },\r\n\r\n        partnerCouponsStop: {\r\n            name: 'partnerCouponsStop',\r\n            show: false\r\n        },\r\n\r\n        partnerCouponsStat: {\r\n            name: 'partnerCouponsStat',\r\n            show: false\r\n        },\r\n\r\n        partnerModerateErrorField: {\r\n            name: 'partnerModerateErrorField',\r\n            show: false\r\n        },\r\n\r\n        partnerModerateErrorPercent: {\r\n            name: 'partnerModerateErrorPercent',\r\n            show: false\r\n        },\r\n\r\n        partnerModerateErrorSum: {\r\n            name: 'partnerModerateErrorSum',\r\n            show: false\r\n        },\r\n\r\n        partnerModerateErrorProfit: {\r\n            name: 'partnerModerateErrorProfit',\r\n            show: false\r\n        },\r\n\r\n        partnerModerateErrorProvider: {\r\n            name: 'partnerModerateErrorProvider',\r\n            show: false\r\n        },\r\n\r\n        invoiceWaitPay: {\r\n            name: 'invoiceWaitPay',\r\n            show: false\r\n        },\r\n\r\n        invoiceWaitDocs: {\r\n            name: 'invoiceWaitDocs',\r\n            show: false\r\n        },\r\n\r\n        invoicePaid: {\r\n            name: 'invoicePaid',\r\n            show: false\r\n        },\r\n\r\n        partnerEditAboutWelcome: {\r\n            name: 'partnerEditAboutWelcome',\r\n            show: false\r\n        },\r\n\r\n        cooperationEditCancel: {\r\n            name: 'cooperationEditCancel',\r\n            show: false,\r\n        },\r\n        cooperationEditAccept: {\r\n            name: 'cooperationEditAccept',\r\n            show: false,\r\n        },\r\n        partnerBill: {\r\n            name: 'partnerBill',\r\n            show: false\r\n        },\r\n        requestApprove: { // одобрить заявку партнера\r\n            name: 'requestApprove',\r\n            show: false\r\n        },\r\n\r\n        requestReject: { // отклонить заявку партнера\r\n            name: 'requestReject',\r\n            show: false\r\n        },\r\n\r\n        requestPause: { // отложить заявку партнера\r\n            name: 'requestPause',\r\n            show: false\r\n        },\r\n\r\n        sendMessagePartner: { // написать поставщику\r\n            name: 'sendMessagePartner',\r\n            show: false\r\n        },\r\n\r\n        partnerFirstEntry: { // Первый вход после заполнения договора\r\n            name: 'partnerFirstEntry',\r\n            show: false\r\n        },\r\n\r\n        providerReject: { // отклонить партнера (35)\r\n            name: 'providerReject',\r\n            show: false\r\n        },\r\n\r\n        providerOvertime: { // дополнительное время (35)\r\n            name: 'providerOvertime',\r\n            show: false\r\n        },\r\n\r\n        sendMessagePartnerBuh: { // написать бухгалтеру поставщика (35)\r\n            name: 'sendMessagePartnerBuh',\r\n            show: false\r\n        },\r\n\r\n        providerApprove: { // предварительно одобрить поставщика (35)\r\n            name: 'providerApprove',\r\n            show: false\r\n        },\r\n\r\n        providerPrint: { // Распечатать договор поставщика (35)\r\n            name: 'providerPrint',\r\n            show: false\r\n        },\r\n\r\n        providerCheckSend: { // Отметить отправку договора (35)\r\n            name: 'providerCheckSend',\r\n            show: false\r\n        },\r\n\r\n        providerFinalApprove: { // Окончательно одобрить поставщика (35)\r\n            name: 'providerFinalApprove',\r\n            show: false\r\n        },\r\n\r\n        providerBlock: { // Заблокировать поставщика (35)\r\n            name: 'providerBlock',\r\n            show: false\r\n        },\r\n\r\n        providerCancelReject: { // Отменить отклонение поставщика (35)\r\n            name: 'providerCancelReject',\r\n            show: false\r\n        },\r\n\r\n        providerCancelBlock: { // Разблокировать поставщика (35)\r\n            name: 'providerCancelBlock',\r\n            show: false\r\n        },\r\n\r\n        providerApproveAbout: { // Одобрить \"О поставщике\"\r\n            name: 'providerApproveAbout',\r\n            show: false\r\n        },\r\n\r\n        verificationInn: { // Проверка ИНН (35)\r\n            name: 'verificationInn',\r\n            show: false\r\n        },\r\n\r\n        verificationOgrn: { // Проверка ОГРН (35)\r\n            name: 'verificationOgrn',\r\n            show: false\r\n        },\r\n\r\n        verificationOgrnIp: { // Проверка ОГРНИП (35)\r\n            name: 'verificationOgrnIp',\r\n            show: false\r\n        },\r\n\r\n        originDiscount: { // указать происхождение скидки (24)\r\n            name: 'originDiscount',\r\n            show: false\r\n        },\r\n\r\n        confirmDiscount: { // Подтвердите эксклюзивность скидки (24)\r\n            name: 'confirmDiscount',\r\n            show: false\r\n        },\r\n\r\n        correctText: { // Проверьте корректность текста (24)\r\n            name: 'correctText',\r\n            show: false\r\n        },\r\n\r\n        correctTextNoDiscount: { // Проверьте корректность текста (нет скидки) (24)\r\n            name: 'correctTextNoDiscount',\r\n            show: false\r\n        },\r\n        moderatorCouponApprove:{ //Модератор: Опубликовать акцию\r\n            name: 'moderatorCouponApprove',\r\n            show: false\r\n        },\r\n        moderatorCouponReject:{ //Модератор: Отклонить акцию\r\n            name: 'moderatorCouponReject',\r\n            show: false\r\n        },\r\n        sendAllProviders:{ //Модератор: Отправить всем поствщикам\r\n            name: 'sendAllProviders',\r\n            show: false\r\n        },\r\n        moderatorCouponBlock:{ //Модератор: Заблокировать акцию\r\n            name: 'moderatorCouponBlock',\r\n            show: false\r\n        },\r\n        moderatorCouponUnBlock:{ //Модератор: Разблокировать акцию\r\n            name: 'moderatorCouponUnBlock',\r\n            show: false\r\n        },\r\n        constructActionCallUs: { // Позвонить нам... (24)\r\n            name: 'constructActionCallUs',\r\n            show: false\r\n        },\r\n\r\n        constructActionComeUs: { // Приехать к нам... (24)\r\n            name: 'constructActionComeUs',\r\n            show: false\r\n        },\r\n\r\n        contractEdit: { // Редактирование договора... (35-90)\r\n            name: 'contractEdit',\r\n            show: false\r\n        },\r\n\r\n        constructActionAllCity: { // Вы уверены, что хотите сделать вашу акцию доступной для всей России? (24)\r\n            name: 'constructActionAllCity',\r\n            show: false\r\n        },\r\n\r\n        constructActionCity: { // Вы уверены, что хотите сделать вашу акцию доступной для всей России? (24)\r\n            name: 'constructActionCity',\r\n            show: false\r\n        },\r\n        moderatorCouponAlert:{ // Акция не привязана к каталогу\r\n            name: 'moderatorCouponAlert',\r\n            show: false\r\n        },\r\n\r\n        selectCity: { // выбор города (24)\r\n            name: 'selectCity',\r\n            show: false\r\n        },\r\n\r\n        constructActionVideo: { // модалка 'обучающее видео' (24 и 31)\r\n            name: 'constructActionVideo',\r\n            show: false\r\n        },\r\n\r\n        welcomePartner: { // добро пожаловать, партнер (21)\r\n            name: 'welcomePartner',\r\n            show: false\r\n        },\r\n\r\n        constructPartnerFinal: { // У вас всё получилось! (21)\r\n            name: 'constructPartnerFinal',\r\n            show: false\r\n        },\r\n\r\n        couponExtend: { // Продлить купон (40)\r\n            name: 'couponExtend',\r\n            show: false\r\n        },\r\n\r\n        couponAnnul: { // Аннулировать купон (40)\r\n            name: 'couponAnnul',\r\n            show: false\r\n        },\r\n\r\n        couponCheating: { // Нас кинули с купоном (40)\r\n            name: 'couponCheating',\r\n            show: false\r\n        },\r\n        couponCheck: { // Отметить проверенным купон (40)\r\n            name: 'couponCheck',\r\n            show: false\r\n        },\r\n\r\n\r\n        repaymentAnnul: { // Аннулировать купон (40)\r\n            name: 'repaymentAnnul',\r\n            show: false\r\n        },\r\n\r\n        repaymentRepay: { // Нас кинули с купоном (40)\r\n            name: 'repaymentRepay',\r\n            show: false\r\n        },\r\n        auditorBill: { // Выставить счет 42\r\n            name: 'auditorBill',\r\n            show: false,\r\n        },\r\n        buhPartnerBill: {\r\n            name: 'buhPartnerBill',\r\n            show: false,\r\n        },\r\n        kickPartner: { // Пнуть поставщика (42)\r\n            name: 'kickPartner',\r\n            show: false,\r\n        },\r\n        buhAddBill: { // Выставить счёт (42)\r\n            name: 'buhAddBill',\r\n            show: false,\r\n        },\r\n        billSendOk: { // Счёт успешно отправлен поставщику (42)\r\n            name: 'billSendOk',\r\n            show: false,\r\n        },\r\n        billWaitPay: { // Ожидает оплаты (42)\r\n            name: 'billWaitPay',\r\n            show: false,\r\n        },\r\n        billPaid: { // Оплачен, документы получены (42)\r\n            name: 'billPaid',\r\n            show: false,\r\n        },\r\n        billWaitDocs: { // Оплачен, ждём документы (42)\r\n            name: 'billWaitDocs',\r\n            show: false,\r\n        },\r\n        auditorProviderCancelBlock: {\r\n            name: 'auditorProviderCancelBlock',\r\n            show: false,\r\n        },\r\n        auditorProviderBlock: {\r\n            name: 'auditorProviderBlock',\r\n            show: false,\r\n        },\r\n        presentationVideo: { // модалка с видео-презентацией (1)\r\n            name: 'presentationVideo',\r\n            show: false,\r\n        },\r\n        constructVideoAdd: { // добавить видео (24)\r\n            name: 'constructVideoAdd',\r\n            show: false,\r\n        },\r\n        cooperationWhat: { // что дает сотрудничество (10)\r\n            name: 'cooperationWhat',\r\n            show: false,\r\n        },\r\n        cooperationHow: { // Как это работает? (10)\r\n            name: 'cooperationHow',\r\n            show: false,\r\n        },\r\n        cooperationTerms: { // Условия сотрудничества (10)\r\n            name: 'cooperationTerms',\r\n            show: false,\r\n        },\r\n        sendMessageBuyer: { // Написать покупателю (40)\r\n            name: 'sendMessageBuyer',\r\n            show: false,\r\n        },\r\n        notifyPageReset:{\r\n            name:'notifyPageReset',\r\n            show: false,\r\n        },\r\n        constructHowUseVars:{ // 24 \"добавить способ\"\r\n            name:'constructHowUseVars',\r\n            show: false,\r\n        },\r\n        constructActionGoLink:{ // 24 \"заказать по ссылке\"\r\n            name:'constructActionGoLink',\r\n            show: false,\r\n        },\r\n        userProviderEdit:{\r\n            name:'userProviderEdit',\r\n            show: false,\r\n        },\r\n        userProviderAdd:{\r\n            name:'userProviderAdd',\r\n            show: false,\r\n        },\r\n        howCalculated: {\r\n            name: 'howCalculated',\r\n            show: false,\r\n        },\r\n        incorrectCode: {\r\n            name: 'incorrectCode',\r\n            show: false,\r\n        },\r\n        errorNotOrder: {\r\n            name: 'errorNotOrder',\r\n            show: false,\r\n        },\r\n        errorIsSend: {\r\n            name: 'errorIsSend',\r\n            show: false,\r\n        },\r\n        phoneNumberHint: {\r\n            name: 'phoneNumberHint',\r\n            show: false,\r\n        },\r\n        unavailableLink: {\r\n          name: 'unavailableLink',\r\n          show: false,\r\n        },\r\n        opinionAddOk: {\r\n          name: 'opinionAddOk',\r\n          show: false,\r\n        },\r\n        opinionErrorSend: {\r\n          name: 'opinionErrorSend',\r\n          show: false,\r\n        },\r\n        availableCities: {\r\n          name: 'availableCities',\r\n          show: false\r\n        },\r\n        couponBanned: {\r\n          name: 'couponBanned',\r\n          show: false\r\n        },\r\n        providerBanned: {\r\n          name: 'providerBanned',\r\n          show: false\r\n        },\r\n        couponArchived:{\r\n          name: 'couponArchived',\r\n          show: false\r\n        },\r\n        couponNotAvailable: {\r\n          name: 'couponNotAvailable',\r\n          show: false\r\n        },\r\n        supplierInfo: {\r\n          name: 'supplierInfo',\r\n          show: false\r\n        },\r\n        averageCheck: {\r\n          name: 'averageCheck',\r\n          show: false\r\n        },\r\n        pushNotify: {\r\n          name: 'pushNotify',\r\n          show: false\r\n        },\r\n        mailSent: {\r\n          name: 'mailSent',\r\n          show: false\r\n        },\r\n        cooperationRequest: {\r\n            name: 'cooperationRequest',\r\n            show: false,\r\n        },\r\n        cooperationPersonalData: {\r\n            name: 'cooperationPersonalData',\r\n            show: false,\r\n        },\r\n        userInfo: {\r\n            name: 'userInfo',\r\n            show: false,\r\n        },\r\n        askQuestion: {\r\n            name: 'askQuestion',\r\n            show: false,\r\n        },\r\n        publicOffer: {\r\n            name: 'publicOffer',\r\n            show: false,\r\n        },\r\n        purchaseAmount: {\r\n            name: 'purchaseAmount',\r\n            show: false,\r\n        },\r\n    },\r\n}\r\n\r\n// getters\r\nconst getters = {\r\n\r\n}\r\n\r\nconst actions = {\r\n\r\n}\r\n\r\nconst mutations = {\r\n    close(state, data) {\r\n        if(data.name && state.items.hasOwnProperty(data.name)) {\r\n            state.items[data.name].show = false;\r\n            document.getElementsByTagName('body')[0].classList.remove(\"nonscroll\");\r\n            setTimeout(function(){\r\n              let header = document.getElementById('block-header');\r\n              header.classList.remove('out');\r\n              header.classList.remove('h-fixed');\r\n            },100);\r\n        }\r\n    },\r\n    open(state, data) {\r\n        if(data.name && state.items.hasOwnProperty(data.name)) {\r\n            state.items[data.name].show = true\r\n        }\r\n    },\r\n}\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n}\r\n","import axios from 'axios'\r\nimport {jsonHeader} from '@/helpers/axiosHeaders'\r\nimport qs from \"qs\";\r\nconst state = {\r\n    items: {},\r\n    titleTemplate: '%s | ZemSkidki.ru',\r\n}\r\n\r\n// getters\r\nconst getters = {\r\n    setRouble() {\r\n        let rouble = detectOS() ? 'Р' : '₽';\r\n        \r\n        const symbolRouble = rouble;\r\n        return symbolRouble;\r\n    }\r\n}\r\n\r\nconst actions = {\r\n    getList(context, data) {\r\n        return new Promise((resolve, reject) => {\r\n            axios.get(process.env.VUE_APP_API_PATH+'/public/options/',{\r\n                headers: jsonHeader,\r\n            }).then(response => {\r\n                if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                    context.commit('setOption', response.data.result);\r\n                }\r\n                resolve();\r\n            }).catch(function (error) {\r\n                reject();\r\n            });\r\n        });\r\n    },\r\n}\r\n\r\nconst mutations = {\r\n    setOption(state, data) {\r\n        if(typeof data === 'object') {\r\n            state.items = data.items;\r\n        }\r\n    },\r\n}\r\n\r\n\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n}\r\n\r\nfunction detectOS() {\r\n    let thisUserAgent = window.navigator.userAgent;\r\n    let OS = thisUserAgent.indexOf(\"iPhone OS\") != -1 || thisUserAgent.indexOf(\"Windows NT 6.1\") != -1;\r\n    return OS;\r\n}","module.exports = __webpack_public_path__ + \"img/mob-sprite.85cdbbc7.svg\";","/*\r\n * vue-inputmask\r\n *\r\n * (C) 2016 Simon Clériot\r\n * MIT LICENCE\r\n *\r\n */\r\nimport Inputmask from 'inputmask'\r\n\r\nvar inputmaskPlugin = {\r\n    install: function(Vue, options) {\r\n        Vue.directive('mask', {\r\n            bind: function(el, binding) {\r\n                Inputmask(binding.value).mask(el);\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nexport default inputmaskPlugin","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputStyled.vue?vue&type=style&index=0&id=7b9cbdf6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputStyled.vue?vue&type=style&index=0&id=7b9cbdf6&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inp-s-wrap full\",class:{ '--icon': _vm.isEdit || _vm.isValidate || _vm.isClearBtn, active: _vm.showLabel, 'inp-s-disabled': _vm.disabled, 'error': _vm.isError }},[_c('span',{staticClass:\"inp-s-label\",class:{ error: _vm.isError }},[_vm._v(_vm._s(_vm.placeholder))]),_c('input',{directives:[{name:\"mask\",rawName:\"v-mask\",value:(_vm.mask),expression:\"mask\"}],ref:\"field\",staticClass:\"inp-s\",class:[{ error: _vm.isError, disabled:_vm.disabled,ok: _vm.isValidate}, _vm.classBtn],attrs:{\"type\":_vm.type,\"id\":_vm.inputId,\"placeholder\":_vm.showPlaceholder ? _vm.placeholderInput : '',\"disabled\":_vm.disabled,\"name\":_vm.nameInput,\"maxlength\":_vm.maxLengthNum,\"autocomplete\":_vm.fieldAutocomplete,\"pattern\":(!_vm.pattern)?'.*':'pattern'},domProps:{\"value\":_vm.value},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.enter($event)},function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==90){ return null; }if(!$event.ctrlKey){ return null; }return _vm.clearName($event)}],\"focus\":function($event){return _vm.setFocus(true)},\"blur\":function($event){return _vm.setFocus(false)},\"input\":function($event){return _vm.updateValue($event.target.value)}}}),_c('span',{staticClass:\"inp-s-icon\"},[(_vm.isEdit)?_c('svg',{staticClass:\"--edit\",on:{\"click\":_vm.edit}},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#edit\"}})]):_vm._e(),(_vm.isError)?_c('svg',{staticClass:\"--error\"},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#error\"}})]):_vm._e(),(_vm.isValidate)?_c('svg',{staticClass:\"--ok\",on:{\"click\":_vm.check}},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#check\"}})]):_vm._e()]),(_vm.isError)?_c('span',{staticClass:\"inp-s-error-text\"},[_vm._v(_vm._s(_vm.errorText))]):_vm._e(),(_vm.isClearBtn && _vm.currentModel.length > 0)?_c('span',{staticClass:\"field-clear__btn\",on:{\"click\":_vm.clear}},[_c('svg',{staticClass:\"icon-c-remove\"},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#c-remove\"}})])]):_vm._e(),_c('svg',{staticClass:\"icon-h-search\"},[_c('use',{attrs:{\"xlink:href\":require(\"@/assets/img/mob-sprite.svg\") + \"#h-search\"}})]),(_vm.maxLength)?_c('span',{staticClass:\"inp-s-counter\"},[_vm._v(_vm._s(_vm.maxLengthNum - _vm.value.length))]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"inp-s-wrap full\" :class=\"{ '--icon': isEdit || isValidate || isClearBtn, active: showLabel, 'inp-s-disabled': disabled, 'error': isError }\">\r\n        <span class=\"inp-s-label\" :class=\"{ error: isError }\">{{ placeholder }}</span>\r\n\r\n        <input :type=\"type\"\r\n            ref=\"field\"\r\n            :id=\"inputId\"\r\n            @keyup.enter=\"enter($event)\"\r\n            @focus=\"setFocus(true)\"\r\n            @blur=\"setFocus(false)\"\r\n            @keyup.ctrl.90=\"clearName\"\r\n            class=\"inp-s\"\r\n            :placeholder=\"showPlaceholder ? placeholderInput : ''\"\r\n            :class=\"[{ error: isError, disabled:disabled,ok: isValidate}, classBtn]\"\r\n            :disabled=\"disabled\"\r\n            :value=\"value\"\r\n            v-mask=\"mask\"\r\n            :name=\"nameInput\"\r\n            @input=\"updateValue($event.target.value)\"\r\n            :maxlength=\"maxLengthNum\"\r\n            :autocomplete=\"fieldAutocomplete\"\r\n            :pattern=\"(!pattern)?'.*':'pattern'\"\r\n        >\r\n        <span class=\"inp-s-icon\">\r\n            <svg class=\"--edit\" v-if=\"isEdit\" @click=\"edit\">\r\n              <use xlink:href=\"@/assets/img/mob-sprite.svg#edit\"></use>\r\n            </svg>\r\n            <svg class=\"--error\" v-if=\"isError\">\r\n              <use xlink:href=\"@/assets/img/mob-sprite.svg#error\"></use>\r\n            </svg>\r\n            <svg class=\"--ok\" v-if=\"isValidate\" @click=\"check\">\r\n              <use xlink:href=\"@/assets/img/mob-sprite.svg#check\"></use>\r\n            </svg>\r\n        </span>\r\n        <span class=\"inp-s-error-text\" v-if=\"isError\">{{ errorText }}</span>\r\n        <span class=\"field-clear__btn\" v-if=\"isClearBtn && currentModel.length > 0\" @click=\"clear\" >\r\n            <svg class=\"icon-c-remove\">\r\n                <use xlink:href=\"@/assets/img/mob-sprite.svg#c-remove\"></use>\r\n            </svg>\r\n        </span>\r\n        <svg class=\"icon-h-search\">\r\n            <use xlink:href=\"@/assets/img/mob-sprite.svg#h-search\"></use>\r\n        </svg>\r\n        <span class=\"inp-s-counter\" v-if=\"maxLength\">{{ maxLengthNum - value.length }}</span>\r\n        <!--<svg class=\"icon-h-search\">\r\n            <use xlink:href=\"@/assets/img/mob-sprite.svg#h-search\"></use>\r\n          </svg>-->\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {number_format} from '@/helpers/formatted.js';\r\n\r\n    export default {\r\n        name: \"InputStyled\",\r\n        props: {\r\n            value: {default: ''},\r\n            placeholder: {default: ''},\r\n            placeholderInput: {default: ''},\r\n            pattern: {default: false},\r\n            inputId: {default: ''},\r\n            disabled: {default: false},\r\n            classBtn: {default: ''},\r\n            isError: {default: false},\r\n            isEdit: {default: false},\r\n            isBlockArrowPhone: {default: false},\r\n            isMoney: {default: false},\r\n            maxMoney: {default: 9999999},\r\n            isValidate: {default: false},\r\n            errorText: {default: ''},\r\n            currentModel: {default: ''},\r\n            mask: {default: ''},\r\n            name: {default: 'name'},\r\n            isClearBtn: {default: false},\r\n            maxLength: {default: false},\r\n            maxLengthNum: {default: ''},\r\n            fieldAutocomplete: {default: 'nope'},\r\n            type: {default: 'text'},\r\n        },\r\n        data: function () {\r\n            return {\r\n                focus: false,\r\n                showPlaceholder: false,\r\n                nameInput: ''\r\n            }\r\n        },\r\n        mounted(){\r\n            if(this.name !== 'name'){\r\n                this.nameInput = this.name;\r\n            } else {\r\n                this.nameInput = Math.random().toString(36).substr(2, 5);\r\n            }\r\n            if(this.isBlockArrowPhone) {\r\n                this.$refs.field.addEventListener(\"keydown\", this.blockArrow, false);\r\n            }\r\n        },\r\n        beforeDestroy() {\r\n            this.$refs.field.removeEventListener('keydown', this.blockArrow);\r\n        },\r\n        computed: {\r\n            showLabel() {\r\n                return this.focus || this.value.toString().length > 0;\r\n            },\r\n        },\r\n        watch:{\r\n            isError(val,oldVal){\r\n                if(this.isError){\r\n                    if(this.$el.closest('.popup-wrapper')){\r\n                        let $top = 0;\r\n                        let pr = this.$el.closest('.popup-wrapper');\r\n                        $top += parseFloat(pr.offsetTop);\r\n                        pr.scrollTo({top: $top, left: 0, behavior: 'smooth'});\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            clearName(){\r\n                if(this.name === 'nameCompany'){\r\n                    let val = this.$refs.field.value.replace(/«/g,'').replace(/»/g,'');\r\n                    this.$refs.field.value = val\r\n                    this.$emit('input', val);\r\n                }\r\n            },\r\n            blockArrow(e){\r\n                if ((e.keyCode >= 37 && e.keyCode <= 40)) {\r\n                    e.preventDefault();\r\n                    return false;\r\n                }\r\n            },\r\n            updateValue: function (value) {\r\n                let v = value;\r\n                if(this.isMoney) {\r\n                    v = v.replace(/[-;\":'a-zA-Zа-яА-Я\\\\=`ё/\\*++!@#$%\\^&_№?><\\s]/g, \"\");\r\n                    if(+v > this.maxMoney) {\r\n                        v = this.maxMoney;\r\n                        v = number_format(v, 0, '', ' ')\r\n\r\n                    } else {\r\n                        if(v !== ''){\r\n                            v = number_format(v, 0, '', ' ')\r\n                        }\r\n\r\n                    }\r\n                    this.$refs.field.value = v\r\n                }\r\n                if(this.mask && this.mask.mask == '9{1,2}%'){\r\n                    if(+v !== 0){\r\n                        v = +v;\r\n                        this.$refs.field.value = v\r\n                    }\r\n                }\r\n                this.$emit('input', v);\r\n            },\r\n            enter: function (event) {\r\n                this.$emit('enter',event);\r\n            },\r\n            check: function () {\r\n                this.$emit('check')\r\n            },\r\n            clear: function() {\r\n                this.$refs.field.focus();\r\n                this.$emit('input', '');\r\n            },\r\n            setFocus(value) {\r\n                let self = this\r\n                value = value || false;\r\n                this.focus = value\r\n                if(value){\r\n                    this.$emit('focus');\r\n                    setTimeout(function () {\r\n                        self.showPlaceholder = true;\r\n                    }, 50);\r\n                } else {\r\n                    this.$emit('blur');\r\n                    this.showPlaceholder = false;\r\n                }\r\n            },\r\n            edit: function () {\r\n                this.$emit('edit');\r\n            },\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    input::-webkit-outer-spin-button,\r\n    input::-webkit-inner-spin-button {\r\n        -webkit-appearance: none;\r\n    }\r\n    input[type='number'] {\r\n        -moz-appearance: textfield;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputStyled.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputStyled.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InputStyled.vue?vue&type=template&id=7b9cbdf6&scoped=true&\"\nimport script from \"./InputStyled.vue?vue&type=script&lang=js&\"\nexport * from \"./InputStyled.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InputStyled.vue?vue&type=style&index=0&id=7b9cbdf6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b9cbdf6\",\n  null\n  \n)\n\nexport default component.exports","export let jsonHeader = {\r\n    'Content-Type': 'application/json;charset=utf-8',\r\n}\r\n\r\nexport let wwwFormHeader = {\r\n    'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8',\r\n}\r\n\r\nexport let fileHeader = {\r\n    'Content-Type': 'multipart/form-data'\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('div',{staticClass:\"search-inpt-bg\",class:{fadeIn: _vm.searchFocus}}),_c('div',{staticClass:\"search\",class:{focused: _vm.searchFocus, opened: _vm.showSearch, filled: _vm.searchQuery.length > 0}},[_c('input-styled',{attrs:{\"remove-btn\":true,\"current-model\":_vm.searchQuery,\"placeholder\":'Поиск скидок',\"placeholder-input\":'Поиск скидок',\"is-clear-btn\":true},on:{\"enter\":function($event){return _vm.getSearch($event)},\"focus\":function($event){return _vm.focusInput()},\"blur\":function($event){return _vm.blurInput()}},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}}),(_vm.searchQuery.length > 0)?_c('button',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.getSearch($event)}}},[_vm._v(\"Искать\")]):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"\">\r\n        <div class=\"search-inpt-bg\" :class=\"{fadeIn: searchFocus}\"></div>\r\n        <div class=\"search\" :class=\"{focused: searchFocus, opened: showSearch, filled: searchQuery.length > 0}\">\r\n            <input-styled\r\n                    v-model=\"searchQuery\"\r\n                    :remove-btn=\"true\"\r\n                    :current-model=\"searchQuery\"\r\n                    :placeholder=\"'Поиск скидок'\"\r\n                    @enter=\"getSearch($event)\"\r\n                    @focus=\"focusInput()\"\r\n                    @blur=\"blurInput()\"\r\n                    :placeholder-input=\"'Поиск скидок'\"\r\n                    :is-clear-btn=\"true\"></input-styled>\r\n            <button class=\"btn\" v-if=\"searchQuery.length > 0\" @click=\"getSearch($event)\">Искать</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import { mapState } from 'vuex'\r\n    import InputStyled from '@/components/forms/InputStyled.vue';\r\n\r\n    export default {\r\n        name: \"SearchTop\",\r\n        data(){\r\n            return {\r\n                focus: false,\r\n                searchFocus: false,\r\n            }\r\n        },\r\n        props: {\r\n                showSearch: {\r\n                    default: function(){\r\n                        return false\r\n                    }\r\n                }\r\n        },\r\n        components: {\r\n                InputStyled,\r\n        },\r\n        computed: {\r\n            searchQuery: {\r\n                get () {\r\n                    return this.$store.state.search.query\r\n                },\r\n                set (value) {\r\n                    this.$store.commit('search/updateQuery', value)\r\n                }\r\n            },\r\n            ...mapState({\r\n                currentCity:  state => state.cities.current,\r\n            }),\r\n        },\r\n        methods: {\r\n            focusInput(){\r\n                this.searchFocus = true;\r\n                document.getElementsByTagName('body')[0].classList.add(\"nonscroll\");\r\n            },\r\n            blurInput(){\r\n                this.searchFocus = false;\r\n                document.getElementsByTagName('body')[0].classList.remove(\"nonscroll\");\r\n            },\r\n            getSearch (event) {\r\n                this.blurInput();\r\n                this.searchFocus = false;\r\n                event.target.blur();\r\n                if(this.$store.state.search.query.length > 0) {\r\n                    if(this.$route.name !== 'search'){\r\n                        this.$router.push('/search');\r\n                    }\r\n                    this.$store.dispatch('actions/initialSearchState');\r\n                    this.$store.dispatch('actions/getCouponList', {currentSection: false, isSearch: true})\r\n                }\r\n            },\r\n            resetSearch() {\r\n                this.searchQuery = '';\r\n                this.$refs.searchInput.focus();\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchTop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchTop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchTop.vue?vue&type=template&id=146a0ec6&scoped=true&\"\nimport script from \"./SearchTop.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchTop.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"146a0ec6\",\n  null\n  \n)\n\nexport default component.exports","/**\r\n * Это модуль для простых страниц\r\n * */\r\n\r\nimport axios from 'axios'\r\n/** Модуль для формирования параметров запроса axios\r\n * qs.stringify({ id: data.id }),\r\n */\r\nimport qs from 'qs';\r\nimport {jsonHeader,wwwFormHeader} from '@/helpers/axiosHeaders'\r\nimport VueCookies from 'vue-cookies'\r\nimport Vue from 'vue'\r\n\r\nconst state = {\r\n    forms: {\r\n        auth: {\r\n            fields: {\r\n                login: {\r\n                    name: 'login',\r\n                    value: '',\r\n                    required: true,\r\n                    error: false,\r\n                    errorText: 'Некорректный номер',\r\n                    disabled: false\r\n                },\r\n                password: {\r\n                    name: 'password',\r\n                    value: '',\r\n                    required: true,\r\n                    error: false,\r\n                    errorText: 'Неверный код',\r\n                    disabled: false\r\n                }\r\n            },\r\n            step: 1,\r\n            timer: {\r\n                time: 0,\r\n                timeDefault: 180,\r\n                intervalId: false,\r\n                smsBan: false,\r\n                timeBan: 0\r\n            }\r\n        },\r\n        registration: {\r\n            fields: {\r\n                firstName: {\r\n                    name: 'firstName',\r\n                    value: '',\r\n                    required: true,\r\n                    error: false,\r\n                    errorText: 'Обязательное поле',\r\n                    disabled: false\r\n                },\r\n                /*lastName: {\r\n                    name: 'lastName',\r\n                    value: '',\r\n                    required: true,\r\n                    error: false,\r\n                    errorText: 'Обязательное поле',\r\n                    disabled: false\r\n                },\r\n                secondName: {\r\n                    name: 'secondName',\r\n                    value: '',\r\n                    required: true,\r\n                    error: false,\r\n                    errorText: 'Обязательное поле',\r\n                    disabled: false\r\n                },\r\n                email: {\r\n                    name: 'email',\r\n                    value: '',\r\n                    required: true,\r\n                    error: false,\r\n                    errorText: 'Некорректный e-mail',\r\n                    disabled: false\r\n                }*/\r\n            },\r\n        }\r\n    },\r\n    isBanned: false,\r\n    isBannedPartner: false,\r\n    isRedirect: true,\r\n    isValidPhone: true,\r\n    // Если пользователь заблокирован\r\n    authPhone: '',\r\n}\r\n\r\n// getters\r\nconst getters = {\r\n    getList: state => id => {\r\n        return state.data;\r\n    },\r\n    token(){\r\n        return localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false;\r\n    },\r\n}\r\n\r\nconst actions = {\r\n    startTimer(context, data) {\r\n        if(state.forms.auth.timer.intervalId && state.forms.auth.timer.time === 0) {\r\n            clearInterval(state.forms.auth.timer.intervalId);\r\n            context.commit('clearInterval');\r\n        }\r\n\r\n        if(!state.forms.auth.timer.intervalId) {\r\n            let time = state.forms.auth.timer.timeDefault;\r\n            if(!!data && data.time) {\r\n                time = data.time;\r\n            }\r\n\r\n            context.commit('setTimerTime', time);\r\n            let timer = setInterval(function () {\r\n                if(state.forms.auth.timer.time > 0) {\r\n                    context.commit('decrementTimerTime');\r\n                } else {\r\n                    clearInterval(state.forms.auth.timer.intervalId);\r\n                    context.commit('clearInterval');\r\n                }\r\n            }, 1000);\r\n            context.commit('setInterval',timer);\r\n        }\r\n    },\r\n    checkLogin(context, data) {\r\n        return new Promise((resolve, reject) => {\r\n            let params = {\r\n                login: context.state.forms.auth.fields.login.value,\r\n            };\r\n            if(data.isPartner) {\r\n                params.checkPartner = true;\r\n            }\r\n            if(data.isLK) {\r\n                params.checkLK = true;\r\n            }\r\n            axios.post(process.env.VUE_APP_API_PATH+'/public/users/',{},\r\n            {\r\n                withCredentials: true,\r\n                params:params ,\r\n                paramsSerializer: function(params) {\r\n                    return qs.stringify(params, {arrayFormat: 'repeat'})\r\n                },\r\n                headers: jsonHeader,\r\n            }).then(response => {\r\n                if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                    if(data.isPartner && response.data.result.ban !== undefined && response.data.result.ban.banType === 'partner') {\r\n                        context.commit('setBanPartner',true);\r\n                        if(response.data.result.partner){\r\n                            context.commit('partner/setCurrent',{item:response.data.result.partner},{root:true});\r\n                        }\r\n                        if(response.data.result.partner && response.data.result.partner.success === false){\r\n                            context.commit('partner/setLoaded', true, {root:true});\r\n                        }\r\n                    }\r\n                    else if(response.data.result.ban !== undefined && response.data.result.ban.banType === 'sms') {\r\n                        context.commit('setSmsBan',response.data.result.ban);\r\n                    } else {\r\n                        if(response.data.result.noValidPhone){\r\n                            context.commit('setIsValidPhone',false);\r\n                        }\r\n                        else if(!!response.data.result.threshold && response.data.result.threshold.time > 0){\r\n                            context.dispatch('startTimer',{time:response.data.result.threshold.time});\r\n                        } else if(data.resend) {\r\n                            context.dispatch('startTimer',{time: state.forms.auth.timer.timeDefault});\r\n                        }\r\n\r\n                    }\r\n\r\n                } else if(response.data.error > 0) {\r\n                    switch (+response.data.error ) {\r\n                        case 400:\r\n                            context.commit('setFormAuthError',{\r\n                                name: context.state.forms.auth.fields.login.name,\r\n                                value: true\r\n                            });\r\n                            break;\r\n                        case 403:\r\n                            context.commit('setBan',true);\r\n                            break;\r\n                        case 401:\r\n                            context.commit('setAuthPhone');\r\n                            context.commit('clearForms');\r\n                            context.commit('popups/close',{name:context.rootState.popups.items.publicAuth.name},{root:true});\r\n                            context.commit('popups/open',{name:context.rootState.popups.items.userBanned.name},{root:true});\r\n                            break;\r\n                    }\r\n\r\n                }\r\n                resolve();\r\n\r\n            }).catch(function (error) {\r\n                reject();\r\n            });\r\n        });\r\n    },\r\n    getToken(context, data){\r\n        return new Promise((resolve, reject) => {\r\n            axios.post(process.env.VUE_APP_API_PATH+'/public/tokens/',{},{\r\n                headers: jsonHeader,\r\n                withCredentials: true,\r\n                params: {\r\n                    login: context.state.forms.auth.fields.login.value,\r\n                    password: context.state.forms.auth.fields.password.value,\r\n                },\r\n                paramsSerializer: function(params) {\r\n                    return qs.stringify(params, {arrayFormat: 'repeat'})\r\n                },\r\n            }).then(response => {\r\n                if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                    if(!!response.data.result.token){\r\n                        context.commit('setFormAuthField', {name:'password',value: ''});\r\n                        localStorage.setItem('token', response.data.result.token);\r\n                        window.app.localStorage.token = response.data.result.token;\r\n                        let user = response.data.result.user;\r\n                        context.commit('users/setUser',{user:user},{root:true});\r\n                        if(user.firstName && user.secondName && user.lastName && user.email && !data.isOrder){\r\n                            context.commit('popups/close',{name:context.rootState.popups.items.publicAuth.name},{root:true});\r\n                        }\r\n                        resolve()\r\n                    }\r\n                } else if(response.data.error > 0) {\r\n                    switch (+response.data.error ) {\r\n                        case 401:\r\n                            context.commit('setFormAuthError',{\r\n                                name: context.state.forms.auth.fields.password.name,\r\n                                value: true\r\n                            });\r\n                            break;\r\n                        case 403:\r\n                            context.commit('setBan',true);\r\n                            break;\r\n                            \r\n                    }\r\n\r\n                }\r\n            }).catch(function (error) {\r\n                reject(error)\r\n            });\r\n\r\n        })\r\n\r\n    },\r\n    registration(context){\r\n        axios.put(process.env.VUE_APP_API_PATH+'/user/users/',{},{\r\n            headers: {'Content-Type': 'application/json;charset=utf-8','Authorization': localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false},\r\n            withCredentials: true,\r\n            params: {\r\n                firstName: context.state.forms.registration.fields.firstName.value,\r\n                //lastName: context.state.forms.registration.fields.lastName.value,\r\n                //secondName: context.state.forms.registration.fields.secondName.value,\r\n                //email: context.state.forms.registration.fields.email.value,\r\n            },\r\n            paramsSerializer: function(params) {\r\n                return qs.stringify(params, {arrayFormat: 'repeat'})\r\n            },\r\n        }).then(response => {\r\n            if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                app.$router.push('/personal');\r\n                context.commit('popups/close',{name:context.rootState.popups.items.publicAuth.name},{root:true});\r\n                context.commit('users/setUser',response.data.result,{root:true});\r\n            } else {\r\n                if( +response.data.error===401){\r\n                    context.dispatch('auth/logout',{},{root:true})\r\n                }\r\n            }\r\n        }).catch(function (error) {\r\n        });\r\n    },\r\n    logout(context,data) {\r\n        localStorage.setItem('token', 'false');\r\n        if(window.app.localStorage){\r\n            window.app.localStorage.token = false;\r\n        }\r\n        context.commit('users/setUser', {user:{}},{root: true});\r\n        if(context.rootState.userCoupons){\r\n            context.commit('userCoupons/setCouponList', {items:[]},{root: true});\r\n        }\r\n        /*if(window.app.$route.name === 'personal'){\r\n            window.app.$router.push('/')\r\n        }*/\r\n        context.commit('setFormAuthField', {\r\n            name: 'login',\r\n            value:'',\r\n        })\r\n        context.commit('setFormAuthDisabled',{\r\n            name: 'login',\r\n            value: false\r\n        });\r\n        context.commit('setStep',{ step:1 })\r\n        context.commit('clearForms')\r\n        if(context.rootState.partner){\r\n\r\n            context.commit('partner/setLoaded',false,{root: true})\r\n            context.commit('partner/setCurrentField', {\r\n                name: 'success',\r\n                value: false,\r\n            },{root: true})\r\n            context.commit('partner/setLoaded',true,{root: true})\r\n        }\r\n        window.scroll(0,0);\r\n    },\r\n    clearUserAuthInfo(context) {\r\n        localStorage.setItem('token', 'false');\r\n        context.commit('users/setUser', {user:{}},{root: true});\r\n        if(context.rootState.userCoupons){\r\n            context.commit('userCoupons/setCouponList', {items:[]},{root: true});\r\n        }\r\n    }\r\n}\r\n\r\nconst mutations = {\r\n    setFormAuthField(state, data) {\r\n        if(state.forms.auth.fields.hasOwnProperty(data.name)) {\r\n            state.forms.auth.fields[data.name].value = data.value\r\n        }\r\n    },\r\n    setFormAuthError(state, data) {\r\n        if(state.forms.auth.fields.hasOwnProperty(data.name)) {\r\n            state.forms.auth.fields[data.name].error = data.value\r\n        }\r\n    },\r\n    setFormAuthDisabled(state, data) {\r\n        if(state.forms.auth.fields.hasOwnProperty(data.name)) {\r\n            state.forms.auth.fields[data.name].disabled = data.value\r\n        }\r\n    },\r\n    setFormRegistrationField(state, data) {\r\n        if(state.forms.registration.fields.hasOwnProperty(data.name)) {\r\n            state.forms.registration.fields[data.name].value = data.value\r\n        }\r\n    },\r\n    setFormRegistrationError(state, data) {\r\n        if(state.forms.registration.fields.hasOwnProperty(data.name)) {\r\n            state.forms.registration.fields[data.name].error = data.value\r\n        }\r\n    },\r\n    setFormRegistrationDisabled(state, data) {\r\n        if(state.forms.registration.fields.hasOwnProperty(data.name)) {\r\n            state.forms.registration.fields[data.name].disabled = data.value\r\n        }\r\n    },\r\n    setTimerTime(state, data) {\r\n        state.forms.auth.timer.time = data\r\n    },\r\n    decrementTimerTime(state) {\r\n        state.forms.auth.timer.time--\r\n    },\r\n    clearInterval(state) {\r\n\r\n        state.forms.auth.timer.intervalId = false\r\n    },\r\n    setInterval(state, data) {\r\n        state.forms.auth.timer.intervalId = data\r\n    },\r\n    setStep(state, data) {\r\n        if(!!data && data.step > 0){\r\n            state.forms.auth.step = data.step\r\n        }\r\n    },\r\n    setIsValidPhone(state, data) {\r\n        Vue.set(state, 'isValidPhone', data);\r\n    },\r\n    setBan(state, data) {\r\n        state.isBanned = data\r\n    },\r\n    setBanPartner(state, data) {\r\n        state.isBannedPartner = data\r\n    },\r\n    setIsRedirect(state, data) {\r\n        state.isRedirect = data\r\n    },\r\n    setSmsBan(state, data){\r\n        state.forms.auth.timer.smsBan = true;\r\n        state.forms.auth.timer.timeBan = data.bannedTime;\r\n    },\r\n    setAuthPhone(state){\r\n        state.authPhone =  state.forms.auth.fields.login.value.replace(/\\+7|-|\\(|\\)/g,'');\r\n    },\r\n    clearForms(state){\r\n        Vue.set(state, 'forms', {\r\n            auth: {\r\n                fields: {\r\n                    login: {\r\n                        name: 'login',\r\n                        value: '',\r\n                        required: true,\r\n                        error: false,\r\n                        errorText: 'Некорректный номер',\r\n                        disabled: false\r\n                    },\r\n                    password: {\r\n                        name: 'password',\r\n                        value: '',\r\n                        required: true,\r\n                        error: false,\r\n                        errorText: 'Неверный код',\r\n                        disabled: false\r\n                    }\r\n                },\r\n                step: 1,\r\n                timer: {\r\n                    time: 0,\r\n                    timeDefault: 180,\r\n                    intervalId: false,\r\n                    smsBan: false,\r\n                    timeBan: 0\r\n                }\r\n            },\r\n            registration: {\r\n                fields: {\r\n                    firstName: {\r\n                        name: 'firstName',\r\n                        value: '',\r\n                        required: true,\r\n                        error: false,\r\n                        errorText: 'Обязательное поле',\r\n                        disabled: false\r\n                    },\r\n                    /*lastName: {\r\n                        name: 'lastName',\r\n                        value: '',\r\n                        required: true,\r\n                        error: false,\r\n                        errorText: 'Обязательное поле',\r\n                        disabled: false\r\n                    },\r\n                    secondName: {\r\n                        name: 'secondName',\r\n                        value: '',\r\n                        required: true,\r\n                        error: false,\r\n                        errorText: 'Обязательное поле',\r\n                        disabled: false\r\n                    },\r\n                    email: {\r\n                        name: 'email',\r\n                        value: '',\r\n                        required: true,\r\n                        error: false,\r\n                        errorText: 'Некорректный e-mail',\r\n                        disabled: false\r\n                    }*/\r\n                },\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Popup.vue?vue&type=style&index=0&id=177e8b82&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Popup.vue?vue&type=style&index=0&id=177e8b82&scoped=true&lang=css&\"","/**\r\n * Это модуль для отзывов\r\n * */\r\n\r\nimport axios from 'axios'\r\n/** Модуль для формирования параметров запроса axios\r\n * qs.stringify({ id: data.id }),\r\n */\r\nimport qs from 'qs';\r\nimport {jsonHeader, wwwFormHeader} from '@/helpers/axiosHeaders'\r\nimport VueCookies from 'vue-cookies'\r\nimport Vue from 'vue'\r\n\r\nconst state = {\r\n    items: [],\r\n    isLoadNextPage: true,\r\n    isLoad: false,\r\n    positive: 0,\r\n    negative: 0\r\n}\r\n\r\n// getters\r\nconst getters = {\r\n    getList: state => id => {\r\n        return state.data;\r\n    },\r\n}\r\n\r\nconst actions = {\r\n    getList(context, data) {\r\n        if(!state.isLoad && state.isLoadNextPage || data.reload){\r\n            context.commit('setLoad', true);\r\n            axios.get(process.env.VUE_APP_API_PATH+'/public/opinions/', {\r\n                headers: jsonHeader,\r\n                params: {\r\n                    actionId: data.actionId\r\n                },\r\n                paramsSerializer: function(params) {\r\n                    return qs.stringify(params, {arrayFormat: 'repeat'})\r\n                },\r\n            }).then(response => {\r\n                context.commit('setLoad', false);\r\n                if(data.reload) {\r\n                    context.commit('setData', {items: []});\r\n                }\r\n                if (typeof response.data === 'object' && +response.data.error === 0) {\r\n                    context.commit('setData', response.data.result);\r\n                    context.commit('isLoadNextPage', response.data.result.isLoadNextPage);\r\n                }\r\n            }).catch(function (error) {\r\n                context.commit('setLoad', false);\r\n            });\r\n        }\r\n    },\r\n    getListPartner(context, data) {\r\n        if(!state.isLoad && state.isLoadNextPage || data.reload){\r\n            context.commit('setLoad', true);\r\n            axios.get(process.env.VUE_APP_API_PATH+'/partner/opinions/', {\r\n                headers: {'Content-Type': 'application/json;charset=utf-8','Authorization': localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false}\r\n            }).then(response => {\r\n                context.commit('setLoad', false);\r\n                if(data && data.reload) {\r\n                    context.commit('setData', {items: []});\r\n                }\r\n                if (typeof response.data === 'object' && +response.data.error === 0) {\r\n                    context.commit('setData', response.data.result);\r\n                    context.commit('isLoadNextPage', response.data.result.isLoadNextPage);\r\n                } else {\r\n                    if( +response.data.error===401){\r\n                        context.dispatch('auth/logout',{},{root:true})\r\n                    }\r\n                }\r\n            }).catch(function (error) {\r\n                context.commit('setLoad', false);\r\n            });\r\n        }\r\n    },\r\n    sendAnswer(context, data) {\r\n        return new Promise((resolve, reject) => {\r\n            let formData = new FormData();\r\n\r\n            formData.append('text', data.text);\r\n\r\n            axios.post(process.env.VUE_APP_API_PATH+'/partner/opinions/' + data.id + '/', formData, {\r\n                headers: {\r\n                    'Content-Type': 'application/json;charset=utf-8',\r\n                    'Authorization': localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false\r\n                },\r\n                withCredentials: true\r\n            }).then(response => {\r\n                resolve();\r\n                if (typeof response.data === 'object' && +response.data.error === 0) {\r\n                    if (response.data.result !== undefined) {\r\n                        context.commit('setAnswer', {answer: response.data.result.answer, id: data.id});\r\n                    }\r\n                } else {\r\n                    if( +response.data.error===401){\r\n                        context.dispatch('auth/logout',{},{root:true})\r\n                    }\r\n                }\r\n            }).catch(function (error) {\r\n                reject();\r\n            });\r\n        });\r\n    },\r\n    sendForm(context, data) {\r\n        let params = {\r\n            text: data.text,\r\n            actionId: data.actionId,\r\n            type: data.type\r\n        };\r\n\r\n        axios.post(process.env.VUE_APP_API_PATH+'/user/opinions/',{}, {\r\n            headers: {'Content-Type': 'application/json;charset=utf-8','Authorization': localStorage.getItem('token') !== 'false' && localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined ? localStorage.getItem('token') : false},\r\n            params: params,\r\n            paramsSerializer: function(params) {\r\n                return qs.stringify(params, {arrayFormat: 'repeat'})\r\n            },\r\n        }).then(response => {\r\n            if (typeof response.data === 'object' && +response.data.error === 0) {\r\n                if(response.data.result.item.id !== undefined){\r\n                    context.commit('users/pushOpinion', { id:response.data.result.item.id, action: data.actionId },{ root:true });\r\n                    let item = response.data.result.item;\r\n                    item.text = data.text;\r\n                    context.commit('pushItem',item);\r\n                    context.commit('actions/incrementCouponDetailCountOpinion','',{root:true});\r\n                }\r\n            } else {\r\n                if( +response.data.error===401){\r\n                    context.dispatch('auth/logout',{},{root:true})\r\n                }\r\n            }\r\n        }).catch(function (error) {\r\n        });\r\n    },\r\n}\r\n\r\nconst mutations = {\r\n    setData(state, data) {\r\n        if(data !== null && data.items !== null) {\r\n            if(state.page < 2) {\r\n                state.items = [];\r\n            }\r\n            for (let itemIndex in data.items) {\r\n                if(data.items.hasOwnProperty(itemIndex)) {\r\n                    let item = data.items[itemIndex];\r\n                    let itemFind = state.items.find(opinion => +opinion.id === +item.id);\r\n                    if(!itemFind){\r\n                        state.items.push(item);\r\n                    }\r\n                }\r\n            }\r\n            state.positive = data.positive;\r\n            state.negative = data.negative;\r\n        }\r\n    },\r\n    clearData(state, data) {\r\n        state.items = [];\r\n        state.positive = 0;\r\n        state.negative = 0;\r\n    },\r\n    pushItem(state, data) {\r\n        state.items.push(data);\r\n    },\r\n    setStatus(state, data) {\r\n        Vue.set(state, 'status', !data.error);\r\n    },\r\n    setPage(state, data) {\r\n        state.page = data;\r\n    },\r\n    incrementPage(state) {\r\n        state.page++;\r\n    },\r\n    isLoadNextPage(state, data) {\r\n        state.isLoadNextPage = data;\r\n    },\r\n    setLoad(state, data) {\r\n        state.isLoad = data;\r\n    },\r\n    setButtonState(state, data) {\r\n        for (let itemIndex in state.items) {\r\n            if(+data.id === +state.items[itemIndex].id) {\r\n                if(state.items[itemIndex].form.btnType !== undefined) {\r\n                    Vue.set(state.items[itemIndex].form, 'btnType', data.state);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    toggleForm(state, data) {\r\n        for (let itemIndex in state.items) {\r\n            if(+data.id === +state.items[itemIndex].id) {\r\n                Vue.set(state.items[itemIndex].form, 'show', !state.items[itemIndex].form.show);\r\n            }\r\n        }\r\n    },\r\n    setError(state, data) {\r\n        for (let itemIndex in state.items) {\r\n            if(+data.id === +state.items[itemIndex].id) {\r\n                Vue.set(state.items[itemIndex].form, 'commentError', data.error);\r\n            }\r\n        }\r\n    },\r\n    setComment(state, data) {\r\n        for (let itemIndex in state.items) {\r\n            if(+data.id === +state.items[itemIndex].id) {\r\n                Vue.set(state.items[itemIndex].form, 'comment', data.value);\r\n            }\r\n        }\r\n    },\r\n    setAnswer(state, data) {\r\n        for (let itemIndex in state.items) {\r\n            if(+data.id === +state.items[itemIndex].id) {\r\n                Vue.set(state.items[itemIndex], 'answer', data.answer);\r\n            }\r\n        }\r\n    },\r\n}\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n}","import axios from 'axios'\r\nimport {jsonHeader,wwwFormHeader} from '@/helpers/axiosHeaders'\r\nimport VueCookies from 'vue-cookies'\r\nimport Vue from 'vue'\r\n\r\nconst state = {\r\n    items: [],\r\n    current: {\r\n        name: '',\r\n        region: '',\r\n        xmlId: '',\r\n        id: '',\r\n        regionCode: '',\r\n    },\r\n    currentXmlId: '',\r\n    currentCityIp: {},\r\n}\r\n\r\n// getters\r\nconst getters = {\r\n    getByXmlId: state => id => {\r\n        return [...state.items].find(city => city.xmlId === id)\r\n    },\r\n}\r\n\r\nconst actions = {\r\n    getCities(context) {\r\n        axios.get(process.env.VUE_APP_API_PATH+'/public/cities/',{\r\n            headers: jsonHeader,\r\n            withCredentials: true,\r\n        }).then(response => {\r\n            if(typeof response.data === 'object' && +response.data.error === 0) {\r\n                context.commit('setItems', response.data.result);\r\n                context.commit('setCurrentCity', response.data.result);\r\n                //context.dispatch('getGeodata');\r\n            }\r\n        }).catch(function (error) {\r\n        });\r\n    },\r\n    setCity(context, data) {\r\n        if(data.city !== undefined) {\r\n            context.commit('setCity', data.city);\r\n            //context.dispatch('getGeodata',{reload:true});\r\n        }\r\n        context.commit('actions/hideMap', {}, { root: true });\r\n        if(data.closePopup !== undefined) {\r\n            context.commit('popups/close', {name: data.closePopup}, { root: true });\r\n        }\r\n        context.commit('actions/setPage', 1, { root: true });\r\n        context.commit('actions/isLoadNextPage', true, { root: true });\r\n        context.commit('actions/setCouponList', {items: []}, { root: true });\r\n        context.commit('actions/setCategoriesList', {items:  new Set()}, { root: true });\r\n        context.dispatch('actions/getCouponList', {currentSection: data.currentSection}, { root: true });\r\n        context.dispatch('actions/getCategoriesList', {}, { root: true });\r\n    },\r\n    setCityCookies(context) {\r\n        let currentCity = VueCookies.get('currentCity');\r\n        if(currentCity !== null && currentCity.id > 0) {\r\n            context.commit('setCity', currentCity);\r\n        }\r\n    },\r\n    getGeodata(context, data) {\r\n        if(!(state.current.coords !== undefined && state.current.coords.length > 0) || data.reload) {\r\n            axios.get('https://geocode-maps.yandex.ru/1.x/?format=json&results=1&geocode='+state.current.name).then(resp=>{\r\n                if(resp.data.response.GeoObjectCollection.featureMember){\r\n                    let coords = resp.data.response.GeoObjectCollection.featureMember[0].GeoObject.Point.pos.split(' ')\r\n                    context.commit('setCurrentCoords', [coords[1],coords[0]]);\r\n                }\r\n            }).catch(function (error) {\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nconst mutations = {\r\n    setItems(state, data) {\r\n        if(typeof data === 'object' && data.items !== undefined) {\r\n            let items = new Set();\r\n            for(let itemIndex in data.items) {\r\n                items.add(data.items[itemIndex]);\r\n            }\r\n            state.items = items;\r\n        }\r\n    },\r\n    setCurrentCity(state, data) {\r\n        if(typeof data === 'object' && data.current !== undefined) {\r\n            if(state.current.id === '') {\r\n                Vue.set(state.current,'name', data.current.name);\r\n                Vue.set(state.current,'region', data.current.region);\r\n                Vue.set(state.current,'xmlId', data.current.xmlId);\r\n                Vue.set(state.current,'id', data.current.id);\r\n                Vue.set(state.current,'regionCode', data.current.regionCode);\r\n            }\r\n            Vue.set(state,'currentCityIp', data.current);\r\n            VueCookies.set('currentCityIp', data.current);\r\n            let currentCity = VueCookies.get('currentCity');\r\n            if(!currentCity) {\r\n                VueCookies.set('currentCity', data.current);\r\n            }\r\n        }\r\n    },\r\n    setCity(state, city) {\r\n        if(typeof city === 'object') {\r\n            if(city.xmlId !== undefined && state.current.xmlId !== city.xmlId) {\r\n                state.current.name = city.name;\r\n                state.current.region = city.region;\r\n                state.current.xmlId = city.xmlId;\r\n                state.current.id = city.id;\r\n                state.current.regionCode = city.regionCode;\r\n                VueCookies.set('currentCity', city);\r\n            }\r\n        }\r\n    },\r\n    setCurrentCoords(state, coords) {\r\n        state.current.coords = coords;\r\n        VueCookies.set('currentCity', state.current);\r\n    }\r\n}\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n}","import Velocity from 'velocity-animate';\r\n\r\nexport function flyToFavorite (item) {\r\n\tvar target = document.querySelector('#h-favorite'),\r\n\t\tbtnFly,\r\n\t\tbtnFlyStartX,\r\n\t\tbtnFlyStartY,\r\n\t\tbtnFlyFinalX,\r\n\t\tbtnFlyFinalY,\r\n\t\tbtnTemp;\r\n\r\n\tif (!item.classList.contains(\"active\")) {\r\n\r\n\t\tbtnTemp = document.querySelector('.check-favorites-fly');\r\n\r\n\t\tif (typeof(btnTemp) != 'undefined' && btnTemp != null) {\r\n\t\t\tbtnTemp.remove();\r\n\t\t}\r\n\r\n\r\n\t\tbtnFlyFinalY = target.getBoundingClientRect().top + pageYOffset;\r\n\t\tbtnFlyFinalX = target.getBoundingClientRect().left;\r\n\r\n\t\tbtnFly = document.createElement('div');\r\n\t\tbtnFly.classList.add('check-favorites-fly');\r\n\r\n\t\tdocument.querySelector('body').appendChild(btnFly);\r\n\r\n\t\tbtnFlyStartX = item.getBoundingClientRect().left;\r\n\t\tbtnFlyStartY = item.getBoundingClientRect().top + pageYOffset;\r\n\t\tbtnFly.style.top = btnFlyStartY + \"px\";\r\n\t\tbtnFly.style.left = btnFlyStartX + \"px\";\r\n\r\n\t\tVelocity(document.querySelector('.check-favorites-fly'), \"finish\");\r\n\t\tVelocity(document.querySelector('.check-favorites-fly'), {top: btnFlyFinalY, left: btnFlyFinalX}, { duration: 750 });\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tbtnFly.classList.add('done');\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tif (typeof(btnFly) != 'undefined' && btnFly != null) {\r\n\t\t\t\t\tbtnFly.remove();\r\n\t\t\t\t}\r\n\t\t\t}, 800);\r\n\t\t}, 750);\r\n\r\n\t}\r\n}\r\n\r\nexport function  scrollTo (target, isScroll = true, margin) {\r\n    if (isScroll && document.querySelector(target) || target === 'up') {\r\n        margin = margin ? margin : 66;\r\n        let $top;\r\n\t\tlet $topMargin = document.querySelector('header').offsetHeight;\r\n\t\tlet $warning = document.querySelector('.warning-top');\r\n\t\tlet $warningMargin = !!$warning ? $warning.offsetHeight : 0;\r\n\t\tif(target === 'up'){\r\n            $top = 0;\r\n\t\t} else {\r\n            let box = document.querySelector(target).getBoundingClientRect();\r\n            $top = box.top + window.pageYOffset - $topMargin - $warningMargin - margin;\r\n        }\r\n\r\n        Velocity(document.querySelector('body'), \"finish\");\r\n        Velocity(document.querySelector('body'),\"scroll\", { duration: 400, offset: $top });\r\n    }\r\n}\r\n\r\n\r\n// необходимо блокам-родителям задавать positon: relative (для подсчета offsetTop)\r\nexport function  scrollToModal (target, isScroll = true, margin, targetWrap) {\r\n    if (isScroll && document.querySelector(target) || target === 'up') {\r\n        margin = margin ? margin : 24;\r\n        var $top = 0;\r\n        let tempElem = 'test';\r\n\r\n        let tr = document.querySelector(target);\r\n  \t\tlet pr = tr.parentNode;\r\n\r\n        while(tempElem !== targetWrap && tempElem !== 'app') {\r\n    \t\t$top += parseFloat(pr.offsetTop);\r\n        \tpr = pr.parentNode;\r\n        \ttempElem = pr.id;\r\n        }\r\n\r\n        document.querySelector('#' + targetWrap).scrollTo({top: $top - margin, left: 0, behavior: 'smooth'});\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nfunction iconFlyTo (target, btn) {\r\n\tvar $target = $(target),\r\n\t\t$targetTop,\r\n\t\t$btn = $(btn),\r\n\t\t$btnMoved = $btn.clone(true).addClass('move-clone'),\r\n\t\t$posAdjust = { // поправка на центр цели\r\n\t\t\ttop: ($target.outerHeight() / 2) - ($btn.outerHeight() / 2),\r\n\t\t\tleft: ($target.outerWidth() / 2) - ($btn.outerWidth() / 2)\r\n\t\t},\r\n\t\t$btnMovedScroll; //поправка на скролл страницы\r\n\r\n\r\n\tif($target.is('.accepted')) $target.toggleClass('accepted', false);\r\n\r\n\t$targetTop = ($target.parents().is('.h')) ? 0 : $target.offset().top; //если элемент в фиксированной шапке\r\n\r\n\t$btnMovedScroll = $(document).scrollTop();\r\n\r\n\tif(!$btn.is('.active')) {\r\n\t\t$btn.toggleClass('active', true);\r\n\t\t$btnMoved.toggleClass('active', true).appendTo('body');\r\n\t\t$btnMoved.css({\r\n\t\t\t'position': 'fixed',\r\n\t\t\t'top': $btn.offset().top - $btnMovedScroll,\r\n\t\t\t'left': $btn.offset().left\r\n\t\t});\r\n\r\n\t\t$btnMoved.animate({\r\n\t\t\t'top': $targetTop + $posAdjust.top,\r\n\t\t\t'left': $target.offset().left + $posAdjust.left}, 550, function() {\r\n\t\t\t\t$target.toggleClass('accepted', true);\r\n\t\t\t\t$btnMoved.remove();\r\n\t\t});\r\n\t} else {\r\n\t\t$btn.toggleClass('active', false);\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n// export default {\r\n// \tactions\r\n// }\r\n"],"sourceRoot":""}